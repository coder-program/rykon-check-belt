{
  "openapi": "3.0.0",
  "paths": {
    "/api/health": {
      "get": {
        "operationId": "AppController_healthCheck",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/api": {
      "get": {
        "operationId": "AppController_getRoot",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/api/auth/login": {
      "post": {
        "description": "\nRealiza login de usu√°rio administrativo e retorna token JWT para autentica√ß√£o nas rotas protegidas.\n\n**Como usar o token:**\n1. Fa√ßa login nesta rota com username e password\n2. Copie o `access_token` retornado\n3. Use o token no header de outras requisi√ß√µes:\n   `Authorization: Bearer {access_token}`\n\n**Exemplo de uso:**\n```bash\n# 1. Login\ncurl -X POST http://localhost:3002/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\":\"admin\",\"password\":\"sua_senha\"}'\n\n# 2. Resposta\n{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n\n# 3. Usar token em outras rotas\ncurl -X POST http://localhost:3002/api/transactions/pix \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\" \\\n  -H \"establishment_id: 156655\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"payment_type\":\"PIX\",\"amount\":3005,\"interest\":\"CLIENT\"}'\n```\n\n**‚ö†Ô∏è Importante:**\n- Token expira ap√≥s o tempo configurado no sistema\n- Mantenha o token seguro, n√£o exponha em logs ou reposit√≥rios\n- Use HTTPS em produ√ß√£o\n",
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponseDto"
                },
                "example": {
                  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwic3ViIjoxLCJpYXQiOjE3MzgyNjM4MjYsImV4cCI6MTczODI2NzQyNn0.abc123def456..."
                }
              }
            }
          },
          "400": {
            "description": "Dados de entrada inv√°lidos",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": [
                    "username should not be empty",
                    "password should not be empty"
                  ],
                  "error": "Bad Request",
                  "timestamp": "2026-02-04T05:30:00.000Z",
                  "path": "/api/auth/login"
                }
              }
            }
          },
          "401": {
            "description": "Credenciais inv√°lidas",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Credenciais inv√°lidas",
                  "timestamp": "2026-02-04T05:30:00.000Z",
                  "path": "/api/auth/login"
                }
              }
            }
          }
        },
        "summary": "Login de usu√°rio",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/paytime/auth/test": {
      "post": {
        "description": "\n      Valida se as credenciais configuradas est√£o corretas e conseguem autenticar com a API da Paytime.\n\n      **Vari√°veis de ambiente necess√°rias:**\n      - `PAYTIME_INTEGRATION_KEY`: Chave de integra√ß√£o fornecida pela Paytime\n      - `PAYTIME_AUTHENTICATION_KEY`: Chave de autentica√ß√£o fornecida pela Paytime\n      - `PAYTIME_X_TOKEN`: Token X fornecido pela Paytime\n      - `PAYTIME_ENV`: Ambiente (sandbox ou production)\n      - `PAYTIME_BASE_URL`: URL base da API Paytime\n\n      **Fluxo:**\n      1. Valida se as credenciais est√£o configuradas no .env\n      2. Faz requisi√ß√£o POST para /v1/auth/login da Paytime com as credenciais no body\n      3. Obt√©m Bearer token JWT que expira em 30 minutos\n      4. Retorna informa√ß√µes sobre sucesso/falha da autentica√ß√£o\n\n      **Documenta√ß√£o Paytime:** https://docs-parceiro.paytime.com.br\n    ",
        "operationId": "PaytimeAuthController_testAuth",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Teste de autentica√ß√£o realizado (sucesso ou falha)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthTestResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Erro interno no servidor",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "statusCode": 500,
                    "message": "Erro ao processar requisi√ß√£o",
                    "error": "Internal Server Error"
                  }
                }
              }
            }
          }
        },
        "summary": "Testa credenciais Paytime",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/paytime/auth/status": {
      "get": {
        "description": "\n      Retorna informa√ß√µes sobre o token de autentica√ß√£o em cache sem fazer nova requisi√ß√£o √† Paytime.\n\n      **√ötil para:**\n      - Monitoramento de sa√∫de da integra√ß√£o\n      - Debug de problemas de autentica√ß√£o\n      - Verificar se token est√° pr√≥ximo de expirar\n      - Validar configura√ß√£o do ambiente\n\n      **Campos retornados:**\n      - `environment`: Ambiente configurado (sandbox/production)\n      - `baseUrl`: URL base da API Paytime\n      - `configValid`: Se todas as credenciais est√£o configuradas\n      - `token.hasToken`: Se existe token v√°lido em cache\n      - `token.expiresAt`: Data/hora de expira√ß√£o do token (ISO 8601)\n\n      **Nota:** O token da Paytime expira em 30 minutos. O servi√ßo renova automaticamente quando necess√°rio.\n    ",
        "operationId": "PaytimeAuthController_getTokenStatus",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Informa√ß√µes do token retornadas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthStatusResponseDto"
                }
              }
            }
          }
        },
        "summary": "Status do token em cache",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/transactions/future-releases": {
      "get": {
        "description": "\nRetorna uma vis√£o consolidada dos valores de receb√≠veis futuros, agrupados por datas e per√≠odos.\n\n**üìä Vis√µes Dispon√≠veis:**\n\n**1. Calend√°rio (calendar):**\n- Lista detalhada de valores previstos por data\n- Cada item cont√©m: valor (centavos) + data (YYYY-MM-DD)\n- √ötil para visualiza√ß√£o em calend√°rio\n\n**2. Per√≠odos Consolidados:**\n- **7 dias (sevenDays):** Total previsto nos pr√≥ximos 7 dias\n- **15 dias (fifteenDays):** Total previsto nos pr√≥ximos 15 dias\n- **30 dias (thirtyDays):** Total previsto nos pr√≥ximos 30 dias\n\n**3. Agrupamento Mensal (months):**\n- Valores agrupados por m√™s/ano\n- Cada item cont√©m: valor (centavos) + ano + m√™s (1-12)\n- √ötil para proje√ß√£o de fluxo de caixa mensal\n\n**4. Total Geral (total):**\n- Soma de todos os lan√ßamentos futuros previstos\n- Valor global em centavos\n\n**üîç Filtros Dispon√≠veis (JSON string):**\n- `gateway_authorization`: Filtrar por gateway (PAYTIME, ZOOP, PAGSEGURO)\n- `expected_on`: Filtrar por data esperada\n\n**Exemplo de filtro:**\n```json\n{\n  \"gateway_authorization\": \"PAYTIME\",\n  \"expected_on\": {\n    \"min\": \"2025-07-01\",\n    \"max\": \"2025-07-31\"\n  }\n}\n```\n\n**üí∞ Valores:**\n- Todos os valores s√£o retornados em **centavos**\n- Exemplo: 100000 = R$ 1.000,00\n\n**üéØ Casos de Uso:**\n- ‚úÖ Projetar fluxo de caixa futuro\n- ‚úÖ Planejar pagamentos e investimentos\n- ‚úÖ Analisar sazonalidade de recebimentos\n- ‚úÖ Monitorar receitas esperadas por per√≠odo\n- ‚úÖ Exportar dados para dashboards financeiros\n    ",
        "operationId": "TransactionsController_getFutureReleases",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento ao qual os lan√ßamentos est√£o vinculados",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "Filtros em JSON. Campos filtr√°veis: gateway_authorization, expected_on",
            "schema": {
              "example": "{\"gateway_authorization\":\"PAYTIME\"}",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lan√ßamentos futuros retornados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FutureReleasesResponseDto"
                },
                "example": {
                  "calendar": [
                    {
                      "amount": 100000,
                      "date": "2025-07-01"
                    }
                  ],
                  "sevenDays": {
                    "amount": 300000
                  },
                  "fifteenDays": {
                    "amount": 500000
                  },
                  "thirtyDays": {
                    "amount": 800000
                  },
                  "months": [
                    {
                      "amount": 2000000,
                      "year": 2025,
                      "month": 7
                    }
                  ],
                  "total": {
                    "amount": 5000000
                  }
                }
              }
            }
          },
          "400": {
            "description": "Par√¢metros inv√°lidos ou establishment_id n√£o fornecido",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "establishment_id header is required"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          }
        },
        "summary": "Lan√ßamentos Futuros",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/future-releases-daily": {
      "get": {
        "description": "\nLista todas as transa√ß√µes agendadas para libera√ß√£o futura com detalhes di√°rios completos.\n\n**üìä Informa√ß√µes Detalhadas por Transa√ß√£o:**\n\n**Dados da Transa√ß√£o:**\n- Data/hora exata da transa√ß√£o (UTC)\n- Identificador √∫nico (transaction_id)\n- Modalidade (CREDIT 10x, PIX, DEBIT, etc.)\n- Valor original e valor l√≠quido (em centavos)\n\n**Dados do Cart√£o:**\n- Bandeira (VISA, MASTERCARD, ELO, etc.)\n- Gateway de autoriza√ß√£o (PAYTIME, ZOOP, PAGSEGURO)\n\n**Dados do Recebimento:**\n- Data prevista de liquida√ß√£o (YYYY-MM-DD)\n- N√∫mero da parcela (1 para √† vista)\n- Valor l√≠quido da parcela (em centavos)\n\n**Ponto de Venda:**\n- Identifica√ß√£o do PDV (ONLINE, CHIP, TAP, SMART)\n\n**üîç Filtros Dispon√≠veis (JSON string):**\n- `gateway_authorization`: Filtrar por gateway (PAYTIME, ZOOP, PAGSEGURO)\n- `date`: Filtrar por data prevista de liquida√ß√£o (YYYY-MM-DD)\n\n**Exemplo de filtro:**\n```json\n{\n  \"gateway_authorization\": \"PAYTIME\",\n  \"date\": \"2026-03-30\"\n}\n```\n\n**üìÑ Pagina√ß√£o:**\n- `page`: P√°gina atual (padr√£o: 1)\n- `perPage`: Registros por p√°gina (padr√£o: 20, m√°x: 100)\n- `total`: Total de registros encontrados\n- `lastPage`: Total de p√°ginas dispon√≠veis\n\n**üî§ Busca Textual:**\n- `search`: Busca livre em m√∫ltiplos campos\n\n**üìë Ordena√ß√£o (JSON string):**\n- Campos orden√°veis: `created_at`, `id`\n\n**Exemplo de ordena√ß√£o:**\n```json\n[\n  {\"field\": \"created_at\", \"direction\": \"desc\"}\n]\n```\n\n**üí∞ Valores:**\n- Todos os valores s√£o retornados em **centavos**\n- `transaction_original_amount`: Valor bruto da transa√ß√£o\n- `transaction_amount`: Valor l√≠quido (ap√≥s taxas)\n- `amount`: Valor l√≠quido da parcela espec√≠fica\n\n**üéØ Casos de Uso:**\n- ‚úÖ Concilia√ß√£o detalhada de receb√≠veis\n- ‚úÖ Previs√µes financeiras de curto prazo\n- ‚úÖ An√°lise de composi√ß√£o de recebimentos\n- ‚úÖ Auditoria de transa√ß√µes parceladas\n- ‚úÖ Identifica√ß√£o de gateways e bandeiras\n- ‚úÖ Exporta√ß√£o para dashboards financeiros\n    ",
        "operationId": "TransactionsController_getDailyReleases",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento ao qual os lan√ßamentos est√£o vinculados",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "Filtros em JSON. Campos: gateway_authorization, date",
            "schema": {
              "example": "{\"gateway_authorization\":\"PAYTIME\",\"date\":\"2026-03-30\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca textual livre",
            "schema": {
              "example": "MASTERCARD",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "Ordena√ß√£o em JSON. Campos: created_at, id",
            "schema": {
              "example": "[{\"field\":\"created_at\",\"direction\":\"desc\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lan√ßamentos futuros di√°rios retornados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DailyReleasesResponseDto"
                },
                "example": {
                  "total": 4,
                  "page": 1,
                  "perPage": 20,
                  "lastPage": 1,
                  "data": [
                    {
                      "transaction_date": "2025-06-03T18:35:54.547Z",
                      "transaction_modality": "CREDIT 10x",
                      "brand_name": "MASTERCARD",
                      "gateway_authorization": "PAYTIME",
                      "point_of_sale": "ONLINE",
                      "transaction_original_amount": 14295,
                      "transaction_amount": 14005,
                      "transaction_id": "683f408bbb9f32ba3b65",
                      "date": "2026-03-30",
                      "installment": 10,
                      "amount": 1405
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Par√¢metros inv√°lidos ou establishment_id n√£o fornecido",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "establishment_id header is required"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          }
        },
        "summary": "Lan√ßamentos Futuros Di√°rios",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions": {
      "get": {
        "description": "\nLista todas as transa√ß√µes realizadas no marketplace com suporte a:\n\n**Filtros dispon√≠veis (JSON string):**\n- `created_at`: Intervalo de datas `{\"min\":\"2025-04-01\",\"max\":\"2025-04-12\"}`\n- `status`: CREATED, PENDING, APPROVED, PAID, FAILED, REFUNDED, DISPUTED, CANCELED, CHARGEBACK\n- `type`: CREDIT, DEBIT, PIX\n- `gateway_authorization`: PAYTIME, ZOOP, PAGSEGURO\n- `establishment.id`: ID do estabelecimento (n√∫mero)\n- `representative.id`: ID do representante (n√∫mero)\n- `point_of_sale.type`: PHYSICAL, ONLINE\n- `point_of_sale.identification_number`: N√∫mero identificador do PDV\n- `original_amount`: Valor original em centavos\n\n**Exemplo de filtros complexos:**\n```json\n{\n  \"status\": \"PAID\",\n  \"type\": \"CREDIT\",\n  \"created_at\": {\n    \"min\": \"2025-04-01\",\n    \"max\": \"2025-04-30\"\n  },\n  \"gateway_authorization\": \"PAYTIME\"\n}\n```\n\n**Ordena√ß√£o (JSON string):**\n```json\n[\n  {\"field\": \"created_at\", \"direction\": \"desc\"},\n  {\"field\": \"amount\", \"direction\": \"asc\"}\n]\n```\n\n**Pagina√ß√£o:**\n- M√°ximo de 100 registros por p√°gina\n- Use `page` e `perPage` para navegar\n\n**Busca textual:**\n- Use `search` para buscar em m√∫ltiplos campos simultaneamente\n\n**Resposta inclui:**\n- Dados completos de cada transa√ß√£o\n- Informa√ß√µes de cart√£o (se aplic√°vel)\n- Dados do adquirente\n- Status de antifraude\n- Parcelas esperadas\n- Informa√ß√µes de split (se aplic√°vel)\n- Dados do cliente\n- Resposta de pagamento com c√≥digos ABECS\n    ",
        "operationId": "TransactionsController_listTransactions",
        "parameters": [
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "Filtros em JSON. Ex: {\"status\":\"PAID\",\"type\":\"CREDIT\",\"created_at\":{\"min\":\"2025-04-01\",\"max\":\"2025-04-12\"}}",
            "schema": {
              "example": "{\"status\":\"PAID\",\"type\":\"CREDIT\",\"created_at\":{\"min\":\"2025-04-01\",\"max\":\"2025-04-12\"}}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca textual em m√∫ltiplos campos",
            "schema": {
              "example": "Jo√£o da Silva",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "Ordena√ß√£o em JSON. Ex: [{\"field\":\"created_at\",\"direction\":\"desc\"}]",
            "schema": {
              "example": "[{\"field\":\"created_at\",\"direction\":\"desc\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de transa√ß√µes retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedTransactionResponseDto"
                },
                "example": {
                  "total": 150,
                  "perPage": 20,
                  "page": 1,
                  "lastPage": 8,
                  "data": [
                    {
                      "_id": "681259d37903c84441e0e85a",
                      "status": "PAID",
                      "amount": 1005,
                      "original_amount": 1017,
                      "fees": 12,
                      "type": "CREDIT",
                      "gateway_key": "5621785c-08e0-4f25-a022-d5fb94176829",
                      "gateway_authorization": "PAYTIME",
                      "card": {
                        "brand_name": "MASTERCARD",
                        "first4_digits": "5200",
                        "last4_digits": "1005",
                        "expiration_month": "12",
                        "expiration_year": "2026",
                        "holder_name": "JO√ÉO DA SILVA",
                        "_id": "681259d37903c84441e0e842"
                      },
                      "installments": 1,
                      "point_of_sale": {
                        "type": "ONLINE",
                        "identification_type": "API"
                      },
                      "acquirer": {
                        "name": "PAGSEGURO",
                        "acquirer_nsu": 123456789123,
                        "gateway_key": "20DDFAE5-F349-4645-8273-D72F94F52155",
                        "mid": "100000000000002",
                        "_id": "681259d37903c84441e0e859"
                      },
                      "antifraud": [
                        {
                          "analyse_status": "NO_ANALYSED",
                          "_id": "681259d37903c84441e0e857"
                        }
                      ],
                      "split": {
                        "active": true,
                        "is_origin": true
                      },
                      "created_at": "2025-04-30T17:11:47.341Z"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Par√¢metros inv√°lidos",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Validation failed",
                  "errors": [
                    "perPage must not be greater than 100"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          }
        },
        "summary": "Listar transa√ß√µes",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/{id}": {
      "get": {
        "description": "\nConsulta detalhada de uma transa√ß√£o espec√≠fica pelo ID.\n\n**Informa√ß√µes retornadas:**\n- Dados completos da transa√ß√£o (status, valores, taxas, tipo)\n- Informa√ß√µes do cart√£o (se aplic√°vel):\n  - Bandeira, d√≠gitos, validade, nome do portador, BIN\n- Dados do cliente:\n  - Nome completo, documento, email, telefone\n  - Endere√ßo completo com rua, n√∫mero, complemento, bairro, cidade, estado, CEP\n- Ponto de venda:\n  - Tipo (ONLINE, CHIP, TAP, SMART)\n  - Identifica√ß√£o e n√∫mero\n- Adquirente:\n  - Nome, NSU, gateway key, MID\n- Parcelas esperadas (expected_on):\n  - N√∫mero da parcela, data prevista, valor, status\n  - Data de pagamento (se j√° liquidada)\n- An√°lise antifraude:\n  - Tipo de an√°lise (THREEDS, CLEARSALE, IDPAY)\n  - Status da an√°lise\n  - ID na plataforma antifraude\n- Resposta do pagamento:\n  - C√≥digos e mensagens ABECS\n  - NSU, c√≥digo de autoriza√ß√£o\n  - Informa√ß√µes adicionais\n- Split (se aplic√°vel):\n  - Status ativo, origem, processamento\n  - Valor inicial\n- Plano, Bandeira, Estabelecimento, Marketplace, Representante\n- EMV (para PIX)\n- Reference ID (ID de refer√™ncia do cliente)\n\n**Exemplo de uso:**\n`GET /api/transactions/6839f1aeb5567b9f32ba1a`\n    ",
        "operationId": "TransactionsController_getTransactionById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID √∫nico da transa√ß√£o",
            "schema": {
              "example": "6839f1aeb5567b9f32ba1a",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transa√ß√£o encontrada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionDto"
                },
                "example": {
                  "_id": "6839f1aeb5567b9f32ba1a",
                  "status": "PAID",
                  "amount": 14005,
                  "original_amount": 14295,
                  "fees": 290,
                  "interest": "STORE",
                  "type": "CREDIT",
                  "gateway_key": "492001a9-be2d-4687-8e75-722ae6f479d4",
                  "gateway_authorization": "PAYTIME",
                  "card": {
                    "brand_name": "MASTERCARD",
                    "first4_digits": "5200",
                    "last4_digits": "1005",
                    "expiration_month": "12",
                    "expiration_year": "2026",
                    "holder_name": "JO√ÉO DA SILVA",
                    "bin": "520000",
                    "_id": "6839f1aeb5567b9f32ba195a"
                  },
                  "installments": 10,
                  "customer": {
                    "first_name": "Jo√£o",
                    "last_name": "da Silva",
                    "document": "1006811400",
                    "phone": "319000000",
                    "email": "emaildocliente@gmail.com",
                    "address": {
                      "street": "Rua Maria dos Desenvolvedores",
                      "number": "0101",
                      "complement": "Debug",
                      "neighborhood": "Bairro Deploy",
                      "city": "Vit√≥ria",
                      "state": "ES",
                      "zip_code": "29000000"
                    },
                    "_id": "6839f1aeb5567b9f32ba195b"
                  },
                  "point_of_sale": {
                    "type": "ONLINE",
                    "identification_type": "API"
                  },
                  "acquirer": {
                    "name": "PAGSEGURO",
                    "acquirer_nsu": 123456789123,
                    "gateway_key": "9381D5E0-0F50-436B-87E6-73D96F0A40EC",
                    "mid": "100000000000002",
                    "_id": "6839f1aeb5567b9f32ba19c9"
                  },
                  "expected_on": [
                    {
                      "date": "2025-06-30T12:00:00.198Z",
                      "amount": 1400,
                      "status": "PENDING",
                      "installment": 1
                    },
                    {
                      "date": "2026-03-26T12:00:00.198Z",
                      "amount": 1405,
                      "status": "PENDING",
                      "installment": 10
                    }
                  ],
                  "antifraud": [
                    {
                      "analyse_status": "APPROVED",
                      "analyse_required": "CLEARSALE",
                      "_id": "6839f1aeb5567b9f32ba1984"
                    }
                  ],
                  "created_at": "2025-05-30T17:58:06.208Z"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Transa√ß√£o n√£o encontrada",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Transaction not found"
                }
              }
            }
          }
        },
        "summary": "Exibir transa√ß√£o detalhada",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/card": {
      "post": {
        "description": "\nCria uma nova transa√ß√£o de cart√£o de cr√©dito no sistema Paytime.\n\n**Fluxo de cria√ß√£o:**\n1. Enviar dados do cliente, cart√£o e valores\n2. Sistema processa a transa√ß√£o\n3. Pode retornar status PENDING (requer autentica√ß√£o antifraude)\n4. Cliente deve executar SDK do antifraude (3DS ou IDPAY)\n\n**Campos obrigat√≥rios:**\n- `payment_type`: \"CREDIT\"\n- `amount`: valor em centavos (ex: 39001 = R$ 390,01)\n- `installments`: n√∫mero de parcelas (m√≠nimo 1)\n- `interest`: \"CLIENT\" ou \"ESTABLISHMENT\" (quem paga juros)\n- `client`: dados completos do cliente\n- `client.address`: endere√ßo completo (obrigat√≥rio para CREDIT)\n- `card`: dados do cart√£o OU token\n\n**Dados do cart√£o:**\nVoc√™ pode enviar:\n- **Dados completos**: card_number, expiration_month, expiration_year, security_code, holder_name\n- **OU Token**: token (para reutilizar cart√£o j√° tokenizado)\n\n**Tokeniza√ß√£o:**\n- Defina `card.create_token: true` para gerar token do cart√£o\n- Token retornado no campo `card.token` da response\n- Armazene o token para transa√ß√µes futuras\n\n**Antifraude:**\n- Opcional: envie `session_id` e `antifraud_type` (IDPAY ou THREEDS)\n- Se transa√ß√£o retornar PENDING:\n  - Verificar `antifraud[].analyse_required`\n  - Executar SDK correspondente (3DS ou IDPAY)\n\n**Split de pagamento:**\n- Opcional: divida a transa√ß√£o entre estabelecimentos\n- `split.division`: \"PERCENTAGE\" (porcentagem) ou \"CURRENCY\" (valor fixo em centavos)\n- `split.establishments[].id`: ID do estabelecimento secund√°rio\n- `split.establishments[].value`: valor ou percentual\n\n**Status poss√≠veis:**\n- CREATED: Transa√ß√£o criada\n- PENDING: Em processamento (pode requerer autentica√ß√£o antifraude)\n- APPROVED/PAID: Transa√ß√£o confirmada\n- FAILED: Transa√ß√£o negada\n- REFUNDED: Transa√ß√£o estornada\n- DISPUTED: Em disputa\n- CANCELED: Cancelada\n- CHARGEBACK: Chargeback aprovado\n\n**Exemplo 1 - Transa√ß√£o simples (1x sem juros):**\n```json\n{\n  \"payment_type\": \"CREDIT\",\n  \"amount\": 39001,\n  \"installments\": 1,\n  \"interest\": \"ESTABLISHMENT\",\n  \"client\": {\n    \"first_name\": \"Jo√£o\",\n    \"last_name\": \"da Silva\",\n    \"document\": \"1006811401\",\n    \"phone\": \"31992876545\",\n    \"email\": \"emaildocliente@gmail.com\",\n    \"address\": {\n      \"street\": \"Rua Maria dos Desenvolvedores\",\n      \"number\": \"0101\",\n      \"neighborhood\": \"Bairro Deploy\",\n      \"city\": \"Vit√≥ria\",\n      \"state\": \"ES\",\n      \"zip_code\": \"29090390\"\n    }\n  },\n  \"card\": {\n    \"holder_name\": \"Jo√£o da Silva\",\n    \"holder_document\": \"58246374079\",\n    \"card_number\": \"5200000000001005\",\n    \"expiration_month\": 12,\n    \"expiration_year\": 2026,\n    \"security_code\": \"123\",\n    \"create_token\": true\n  }\n}\n```\n\n**Exemplo 2 - Com token (transa√ß√£o recorrente):**\n```json\n{\n  \"payment_type\": \"CREDIT\",\n  \"amount\": 29001,\n  \"installments\": 1,\n  \"interest\": \"CLIENT\",\n  \"client\": {\n    \"first_name\": \"Jo√£o\",\n    \"last_name\": \"da Silva\",\n    \"document\": \"1006811400\",\n    \"phone\": \"31992876545\",\n    \"email\": \"emaildocliente@gmail.com\",\n    \"address\": {\n      \"street\": \"Rua Maria dos Desenvolvedores\",\n      \"number\": \"0101\",\n      \"city\": \"Vit√≥ria\",\n      \"state\": \"ES\",\n      \"zip_code\": \"29090390\"\n    }\n  },\n  \"card\": {\n    \"token\": \"6ed0cc99bbf3a2fa68f45cc55df7ec96501b02af64d081c08e12235794069928167ca\"\n  }\n}\n```\n\n**Exemplo 3 - Com split e antifraude:**\n```json\n{\n  \"payment_type\": \"CREDIT\",\n  \"amount\": 39001,\n  \"installments\": 1,\n  \"interest\": \"ESTABLISHMENT\",\n  \"reference_id\": \"fb67fd4c-2e6a-41dc-b05c-13ab3001d2a1\",\n  \"client\": { ... },\n  \"card\": { ... },\n  \"session_id\": \"kdjkpolyt6a6xy6q2zqy\",\n  \"antifraud_type\": \"IDPAY\",\n  \"split\": {\n    \"title\": \"Split Cart√£o Cr√©dito\",\n    \"division\": \"PERCENTAGE\",\n    \"establishments\": [\n      {\n        \"id\": 155100,\n        \"value\": 50\n      }\n    ]\n  },\n  \"info_additional\": [\n    {\n      \"key\": \"Origem\",\n      \"value\": \"ClienteID\"\n    }\n  ]\n}\n```\n\n**‚ö†Ô∏è Importante:**\n- Valores sempre em centavos (R$ 390,01 = 39001)\n- Para transa√ß√µes parceladas, o cliente ou estabelecimento arca com juros\n- Token de cart√£o deve ser armazenado com seguran√ßa\n- Session_id do antifraude √© gerado via SDK (consulte doc Paytime)\n",
        "operationId": "TransactionsController_createCreditTransaction",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento que gerar√° a transa√ß√£o",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTransactionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Transa√ß√£o criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionDto"
                },
                "example": {
                  "_id": "693b18d13296e51d4620e2b5",
                  "status": "PENDING",
                  "interest": "STORE",
                  "establishment": {
                    "id": 155085,
                    "type": "INDIVIDUAL",
                    "first_name": "EC  Cobran√ßas API",
                    "last_name": null,
                    "document": "10068114001",
                    "access_type": "ACQUIRER"
                  },
                  "marketplace": {
                    "id": 26,
                    "type": "LICENSED",
                    "nickname": "Parceiro Integra√ß√µes",
                    "active": true,
                    "first_name": "Webhooks Integra√ß√µes",
                    "last_name": "API Integra√ß√µes",
                    "document": "60274849000185"
                  },
                  "representative": {
                    "id": 63,
                    "marketplace_id": 26,
                    "active": true,
                    "first_name": "EC  Cobran√ßas API",
                    "last_name": null,
                    "document": "10068114001"
                  },
                  "amount": 38065,
                  "original_amount": 39001,
                  "fees": 936,
                  "type": "CREDIT",
                  "gateway_key": "63425a53-938d-46fc-a6f5-db36f02486d6",
                  "gateway_authorization": "PAYTIME",
                  "card": {
                    "brand_name": "MASTERCARD",
                    "first4_digits": "5200",
                    "last4_digits": "1005",
                    "expiration_month": "12",
                    "expiration_year": "2026",
                    "holder_name": "JO√ÉO DA SILVA",
                    "holder_document": "58246374079",
                    "bin": "520000",
                    "_id": "693b18d13296e51d4620e2b6"
                  },
                  "installments": 1,
                  "customer": {
                    "first_name": "Jo√£o",
                    "last_name": "da Silva",
                    "document": "1006811401",
                    "phone": "31992876545",
                    "email": "emaildocliente@gmail.com",
                    "address": {
                      "street": "Rua Maria dos Desenvolvedores",
                      "number": "0101",
                      "complement": "Debug",
                      "neighborhood": "Bairro Deploy",
                      "city": "Vit√≥ria",
                      "state": "ES",
                      "zip_code": "29000000"
                    },
                    "_id": "693b18d13296e51d4620e2b7"
                  },
                  "point_of_sale": {
                    "type": "ONLINE",
                    "identification_type": "API"
                  },
                  "acquirer": {
                    "name": "PAGSEGURO",
                    "_id": "693b18d13296e51d4620e2c3"
                  },
                  "expected_on": [
                    {
                      "date": "2026-01-12T12:00:00.986Z",
                      "amount": 38065,
                      "status": "PENDING",
                      "installment": 1
                    }
                  ],
                  "plan": {
                    "id": 79,
                    "name": "Plano Comercial Total Antifraude",
                    "days_anticipation": 1,
                    "allow_anticipation": false,
                    "modality": "ONLINE",
                    "flag": {
                      "id": 1,
                      "name": "MASTERCARD"
                    }
                  },
                  "antifraud": [
                    {
                      "analyse_status": "WAITING_AUTH",
                      "analyse_required": "IDPAY",
                      "session": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
                      "_id": "693b18d23296e51d4620e2ca",
                      "antifraud_id": "ef3e352b-d141-48e4-831a-37754d4b8ec1"
                    }
                  ],
                  "created_at": "2025-12-11T19:17:37.992Z",
                  "info_additional": [],
                  "reference_id": "fb67fd4c-2e6a-41dc-b05c-13ab3001d2a1"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": [
                    "O campo \"installments\" √© obrigat√≥rio para transa√ß√µes do tipo CREDIT",
                    "O campo \"card\" √© obrigat√≥rio para transa√ß√µes do tipo CREDIT",
                    "O campo \"client.address\" √© obrigat√≥rio para transa√ß√µes do tipo CREDIT"
                  ],
                  "error": "Bad Request"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          },
          "422": {
            "description": "Transa√ß√£o negada pela Paytime",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 422,
                  "message": "Cart√£o inv√°lido ou sem saldo"
                }
              }
            }
          }
        },
        "summary": "Criar transa√ß√£o com cart√£o de cr√©dito",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/pix": {
      "post": {
        "description": "\nCria uma nova transa√ß√£o PIX no sistema Paytime, gerando um QR Code para pagamento.\n\n**Fluxo de cria√ß√£o:**\n1. Enviar dados m√≠nimos (valor e interesse)\n2. Sistema gera QR Code PIX (campo `emv` na response)\n3. Cliente escaneia QR Code e efetua pagamento\n4. Webhook notifica mudan√ßa de status (PENDING ‚Üí PAID)\n\n**Campos obrigat√≥rios:**\n- `payment_type`: \"PIX\"\n- `amount`: valor em centavos (ex: 3005 = R$ 30,05)\n- `interest`: \"CLIENT\" ou \"ESTABLISHMENT\" (quem paga taxas)\n\n**Campos opcionais:**\n- `client`: dados do cliente (first_name, last_name, document, phone, email)\n- `client.address`: endere√ßo completo (opcional para PIX)\n- `reference_id`: identificador interno (m√°x 100 chars)\n- `info_additional`: informa√ß√µes extras em formato chave-valor\n- `split`: divis√£o de pagamento entre estabelecimentos\n\n**‚ö†Ô∏è Importantes:**\n- PIX **n√£o aceita** parcelas (installments)\n- PIX **n√£o utiliza** cart√£o (card)\n- Dados do cliente s√£o opcionais mas recomendados\n- QR Code retornado no campo `emv` (formato EMV)\n\n**Status poss√≠veis:**\n- PENDING: Aguardando pagamento (QR Code gerado)\n- PAID: Pagamento confirmado\n- FAILED: Transa√ß√£o falhou\n- CANCELED: Transa√ß√£o cancelada\n\n**Casos de teste (sandbox):**\n- `amount` terminando em 5 (ex: 105, 3005): retorna PAID (aprovado)\n- `amount` **n√£o** terminando em 5 (ex: 108, 3001): retorna PENDING\n\n**Split de pagamento:**\n- Opcional: divida a transa√ß√£o entre estabelecimentos\n- `split.division`: \"PERCENTAGE\" (porcentagem) ou \"CURRENCY\" (valor fixo em centavos)\n- `split.establishments[].id`: ID do estabelecimento secund√°rio\n- `split.establishments[].value`: valor ou percentual\n\n**Exemplo 1 - PIX simples (m√≠nimo):**\n```json\n{\n  \"payment_type\": \"PIX\",\n  \"amount\": 3005,\n  \"interest\": \"CLIENT\"\n}\n```\n\n**Exemplo 2 - PIX com cliente:**\n```json\n{\n  \"payment_type\": \"PIX\",\n  \"amount\": 3005,\n  \"interest\": \"CLIENT\",\n  \"client\": {\n    \"first_name\": \"Jo√£o\",\n    \"last_name\": \"da Silva\",\n    \"document\": \"10068114001\",\n    \"phone\": \"00000000001\",\n    \"email\": \"emaildocliente@gmail.com\"\n  }\n}\n```\n\n**Exemplo 3 - PIX com split e info_additional:**\n```json\n{\n  \"payment_type\": \"PIX\",\n  \"amount\": 3005,\n  \"interest\": \"CLIENT\",\n  \"reference_id\": \"VENDA-12345\",\n  \"client\": {\n    \"first_name\": \"Jo√£o\",\n    \"last_name\": \"da Silva\",\n    \"document\": \"10068114001\",\n    \"phone\": \"00000000001\",\n    \"email\": \"emaildocliente@gmail.com\"\n  },\n  \"info_additional\": [\n    {\n      \"key\": \"Origem da Venda\",\n      \"value\": \"ClienteID\"\n    }\n  ],\n  \"split\": {\n    \"title\": \"Split PIX\",\n    \"division\": \"PERCENTAGE\",\n    \"establishments\": [\n      {\n        \"id\": 155100,\n        \"value\": 30\n      }\n    ]\n  }\n}\n```\n\n**Response incluir√°:**\n- `_id`: ID da transa√ß√£o na Paytime\n- `status`: PENDING (aguardando pagamento)\n- `emv`: String do QR Code PIX (padr√£o EMV)\n- `amount`: Valor l√≠quido ap√≥s taxas\n- `original_amount`: Valor original solicitado\n- `fees`: Taxas cobradas\n- `expected_on[]`: Data prevista de liquida√ß√£o\n- `acquirer`: Banco adquirente (ex: SANTANDER)\n\n**‚ö†Ô∏è Importante sobre datas:**\n- Formato ISO 8601 (UTC): \"2025-09-22T12:00:00.088Z\"\n- Para converter para hor√°rio de Bras√≠lia: subtraia 3 horas\n- Exemplo: 12:00:00 UTC = 09:00:00 BRT\n",
        "operationId": "TransactionsController_createPixTransaction",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento que gerar√° a transa√ß√£o PIX",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTransactionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Transa√ß√£o PIX criada com sucesso (QR Code gerado)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionDto"
                },
                "example": {
                  "_id": "68cd583ac28afa3e818e48ed",
                  "status": "PENDING",
                  "interest": "CLIENT",
                  "establishment": {
                    "id": 1085,
                    "type": "INDIVIDUAL",
                    "first_name": "EC Cobran√ßas API",
                    "last_name": null,
                    "document": "10068114001",
                    "access_type": "ACQUIRER"
                  },
                  "marketplace": {
                    "id": 26,
                    "type": "LICENSED",
                    "nickname": "Parceiro Integra√ß√µes",
                    "active": true,
                    "first_name": "Webhooks Integra√ß√µes",
                    "last_name": "API Integra√ß√µes",
                    "document": "60274849000185"
                  },
                  "representative": {
                    "id": 63,
                    "marketplace_id": 26,
                    "active": true,
                    "first_name": "EC Cobran√ßas API",
                    "last_name": null,
                    "document": "10068114001"
                  },
                  "amount": 3005,
                  "original_amount": 3041,
                  "fees": 36,
                  "type": "PIX",
                  "gateway_key": "b4ab240dc9284fdaacf98ea7ec85caa9",
                  "gateway_authorization": "PAYTIME",
                  "card": null,
                  "installments": 1,
                  "customer": {
                    "_id": "68cd583ac28afa3e818e48da"
                  },
                  "point_of_sale": {
                    "type": "ONLINE",
                    "identification_type": "API"
                  },
                  "acquirer": {
                    "name": "SANTANDER",
                    "key": "60701190000104",
                    "gateway_key": "b4ab240dc9284fdaacf98ea7ec85caa9",
                    "_id": "68cd583ac28afa3e818e48fe"
                  },
                  "expected_on": [
                    {
                      "date": "2025-09-22T12:00:00.088Z",
                      "amount": 3005,
                      "status": "PENDING",
                      "installment": 1
                    }
                  ],
                  "emv": "00020101021226910014BR.GOV.BCB.PIX2569spi-h.santander.com.br/pix/qr/v2/af581bdc-624e-4333-af38-1adaddfa6ce05204000053039865802BR5914PMD BASHAR RIO6009SAO PAULO62070503***6304E7DB",
                  "antifraud": [
                    {
                      "analyse_status": "NO_ANALYSED",
                      "_id": "68cd583ac28afa3e818e48eb",
                      "session": null
                    }
                  ],
                  "created_at": "2025-09-19T13:18:50.095Z",
                  "info_additional": []
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": [
                    "O campo \"payment_type\" deve ser \"PIX\"",
                    "Transa√ß√µes PIX n√£o aceitam parcelas (installments)",
                    "Transa√ß√µes PIX n√£o utilizam cart√£o"
                  ],
                  "error": "Bad Request"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          },
          "422": {
            "description": "Erro no processamento da transa√ß√£o",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 422,
                  "message": "Estabelecimento inv√°lido ou inativo"
                }
              }
            }
          }
        },
        "summary": "Criar transa√ß√£o PIX (QR Code)",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/billet": {
      "post": {
        "description": "\n# üìÑ Criar Boleto Banc√°rio\n\nCria um novo boleto banc√°rio para pagamento atrav√©s do endpoint de transa√ß√µes.\n\n## üéØ Processo de Cria√ß√£o\n\n1. **Requisi√ß√£o:** Cliente envia dados do boleto\n2. **Confirma√ß√£o:** API retorna status `PROCESSING`\n3. **Webhook `new-billet`:** Boleto criado no sistema\n4. **Webhook `updated-billet-status`:** Status evolui para `PENDING`, `PAID`, etc.\n\n## ‚ö†Ô∏è Importante\n\n- O boleto **n√£o est√° v√°lido** apenas com o retorno da requisi√ß√£o\n- Aguarde os **webhooks** para obter c√≥digo de barras, linha digit√°vel e URL do PDF\n- Acompanhe a evolu√ß√£o do status via `updated-billet-status`\n\n## üìã Campos Obrigat√≥rios\n\n### Boleto\n- `amount`: Valor em centavos (ex: 1000 = R$ 10,00)\n- `expiration`: Data de vencimento (ISO 8601: \"2025-08-28\")\n- `recharge`: Se √© recarga (true/false)\n\n### Cliente\n- `first_name`: Nome ou raz√£o social\n- `last_name`: Sobrenome ou nome fantasia\n- `document`: CPF ou CNPJ (somente n√∫meros)\n- `email`: Email v√°lido\n- `address`: Endere√ßo completo\n\n### Instru√ß√µes\n- `booklet`: Se √© carn√™ (true/false)\n- `late_fee`: Multa (mode: PERCENTAGE/FIXED, amount: valor)\n- `interest`: Juros (mode: MONTHLY_PERCENTAGE, amount: valor)\n- `discount`: Desconto (mode: PERCENTAGE, amount: valor, limit_date: data)\n\n## üß™ Testes no Sandbox\n\n### Valor < R$ 100,00 (amount < 10000)\n- Status: `PROCESSING`\n- N√£o evolui automaticamente\n\n### R$ 100,00 ‚â§ Valor < R$ 500,00\n- Status: `PROCESSING` ‚Üí `PENDING`\n- Webhook: `updated-billet-status`\n\n### Valor ‚â• R$ 500,00 (amount ‚â• 50000)\n- Status: `PROCESSING` ‚Üí `PENDING` ‚Üí `PAID`\n- Webhooks: 2x `updated-billet-status`\n\n## üí∞ Taxas\n\nO valor l√≠quido ser√°: `amount - fees_banking.fees`\n\nExemplo: amount=1000 (R$ 10,00) - fees=250 (R$ 2,50) = R$ 7,50 l√≠quido\n\n## üîó Pr√≥ximos Passos\n\n1. Crie o boleto via POST\n2. Configure os webhooks para receber atualiza√ß√µes\n3. Obtenha c√≥digo de barras/linha digit√°vel quando status = PENDING\n4. Forne√ßa ao cliente para pagamento\n    ",
        "operationId": "TransactionsController_createBilletTransaction",
        "parameters": [
          {
            "name": "establishment_id",
            "required": false,
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBilletDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Boleto criado com sucesso (status PROCESSING)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BilletResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos"
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "422": {
            "description": "Erro de valida√ß√£o"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Criar boleto banc√°rio",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/billet/reference/{reference}": {
      "get": {
        "description": "\n# üîç Buscar Boleto por Refer√™ncia Externa\n\nLocaliza um boleto usando uma refer√™ncia externa como n√∫mero de fatura.\n\n## üéØ Objetivo\n\nVerifica se j√° existe um boleto para uma fatura/pedido espec√≠fico.\n\n## üìã Exemplo de Uso\n\nAntes de mostrar \"Gerar Boleto\" na tela de pagamento:\n```\nGET /api/transactions/billet/reference/FAT-000090\n```\n\n**Se encontrar:** Mostrar dados do boleto existente\n**Se n√£o encontrar:** Mostrar bot√£o \"Gerar Boleto\"\n    ",
        "operationId": "TransactionsController_getBilletByReference",
        "parameters": [
          {
            "name": "establishment_id",
            "required": false,
            "in": "header",
            "description": "ID do estabelecimento (opcional)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "reference",
            "required": true,
            "in": "path",
            "description": "Refer√™ncia externa (ex: FAT-000090)",
            "schema": {
              "example": "FAT-000090",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Boleto encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BilletResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "404": {
            "description": "Boleto n√£o encontrado"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Buscar boleto por refer√™ncia externa",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/simulate": {
      "post": {
        "description": "\nRealiza uma simula√ß√£o dos valores relacionados a uma transa√ß√£o no Marketplace, retornando detalhes sobre as taxas e valores aplic√°veis para diferentes formas de pagamento.\n\n**Funcionalidade:**\n- Calcula taxas e valores l√≠quidos para cr√©dito (1x at√© 12x), d√©bito e PIX\n- √ötil para exibir op√ß√µes de pagamento ao cliente antes de criar a transa√ß√£o\n- Considera bandeira do cart√£o, gateway, modalidade e quem arca com taxas\n\n**Campos obrigat√≥rios:**\n- `amount`: valor em centavos (ex: 5000 = R$ 50,00)\n- `flag_id`: bandeira do cart√£o (1-8)\n- `modality`: ONLINE, PHYSICAL ou TAP_PHONE\n- `interest`: CLIENT ou ESTABLISHMENT\n\n**Campo opcional:**\n- `gateway_id`: gateway espec√≠fico (1=ZOOP, 2=PAGSEGURO, 4=SUBPAYTIME)\n\n**Bandeiras (flag_id):**\n- 1: MASTERCARD\n- 2: VISA\n- 3: ELO\n- 4: AMERICAN EXPRESS\n- 5: HIPER/HIPERCARD\n- 6: OTHERS\n- 8: BACEN\n\n**Gateways (gateway_id):**\n- 1: ZOOP\n- 2: PAGSEGURO\n- 4: SUBPAYTIME (padr√£o)\n\n**Modalidades (modality):**\n- ONLINE: Venda pela internet\n- PHYSICAL: Venda presencial com maquininha\n- TAP_PHONE: Pagamento por aproxima√ß√£o no celular\n\n**Quem paga as taxas (interest):**\n- CLIENT: taxas s√£o adicionadas ao valor (aumenta valor total)\n- ESTABLISHMENT: taxas s√£o descontadas do valor (mant√©m valor total)\n\n**‚ö†Ô∏è Importante:**\n- Valor m√≠nimo por parcela: R$ 5,00 (500 centavos)\n- Simula√ß√£o n√£o cria transa√ß√£o, apenas calcula valores\n- Response mostra valor l√≠quido ap√≥s taxas em cada modalidade\n\n**Response inclui:**\n- `amount`: valor original simulado\n- `simulation.credit`: objeto com op√ß√µes de parcelamento (1x-12x)\n  - `total`: valor l√≠quido que o estabelecimento receber√°\n  - `installment`: valor de cada parcela para o cliente\n- `simulation.debit`: valor l√≠quido para d√©bito\n- `simulation.pix`: valor l√≠quido para PIX\n\n**Exemplo de uso:**\n1. Cliente quer pagar R$ 50,00\n2. Sistema chama simula√ß√£o com amount=5000\n3. Response mostra:\n   - Cr√©dito 1x: cliente paga R$ 50,00, estabelecimento recebe R$ 48,20\n   - Cr√©dito 10x: cliente paga 10x R$ 5,00, estabelecimento recebe R$ 48,20\n   - D√©bito: estabelecimento recebe R$ 48,20\n   - PIX: estabelecimento recebe R$ 49,40\n4. Cliente escolhe forma de pagamento\n5. Sistema cria transa√ß√£o com endpoint correspondente\n",
        "operationId": "TransactionsController_simulateTransaction",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento respons√°vel pela transa√ß√£o",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulateTransactionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Simula√ß√£o calculada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateTransactionResponseDto"
                },
                "example": {
                  "amount": 5000,
                  "simulation": {
                    "credit": {
                      "1x": {
                        "total": 4820,
                        "installment": 5000
                      },
                      "2x": {
                        "total": 4820,
                        "installment": 2500
                      },
                      "3x": {
                        "total": 4820,
                        "installment": 1667
                      },
                      "4x": {
                        "total": 4820,
                        "installment": 1250
                      },
                      "5x": {
                        "total": 4820,
                        "installment": 1000
                      },
                      "6x": {
                        "total": 4820,
                        "installment": 833
                      },
                      "7x": {
                        "total": 4820,
                        "installment": 714
                      },
                      "8x": {
                        "total": 4820,
                        "installment": 625
                      },
                      "9x": {
                        "total": 4820,
                        "installment": 556
                      },
                      "10x": {
                        "total": 4820,
                        "installment": 500
                      }
                    },
                    "debit": 4820,
                    "pix": 4940
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": [
                    "O campo \"amount\" deve ser maior que 0",
                    "O campo \"flag_id\" √© obrigat√≥rio",
                    "O campo \"modality\" deve ser ONLINE, PHYSICAL ou TAP_PHONE",
                    "Valor m√≠nimo por parcela √© R$ 5,00 (500 centavos)"
                  ],
                  "error": "Bad Request"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Estabelecimento n√£o encontrado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Establishment not found"
                }
              }
            }
          }
        },
        "summary": "Simular valores de transa√ß√£o",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/{id}/qrcode": {
      "get": {
        "description": "\nGera a imagem do QR Code PIX em formato Base64 a partir de uma transa√ß√£o PIX existente.\n\n**Funcionalidade:**\n- Endpoint auxiliar para facilitar a gera√ß√£o de imagens QR Code\n- Converte o c√≥digo EMV (copia e cola) em imagem Base64\n- √ötil para exibir QR Code visual ao cliente\n\n**‚ö†Ô∏è Importante:**\n- Este endpoint **n√£o √© obrigat√≥rio** para integra√ß√£o PIX\n- Voc√™ pode usar qualquer biblioteca frontend para gerar a imagem a partir do EMV\n- O c√≥digo EMV j√° vem na response de cria√ß√£o da transa√ß√£o PIX (campo `emv`)\n\n**O que √© o C√≥digo EMV (copia e cola)?**\n- Padr√£o que cont√©m todas as informa√ß√µes necess√°rias para realizar um pagamento PIX\n- Pode ser usado de duas formas:\n  1. Colar diretamente no aplicativo do pagador\n  2. Gerar uma imagem QR Code para ser escaneada\n\n**Como funciona:**\n1. Cliente cria transa√ß√£o PIX via POST /api/transactions/pix\n2. Response retorna campo `emv` com o c√≥digo copia e cola\n3. Cliente pode:\n   - Exibir o c√≥digo EMV para copiar manualmente, **OU**\n   - Chamar este endpoint para gerar imagem QR Code em Base64\n4. Frontend decodifica o Base64 e exibe a imagem\n\n**Par√¢metros:**\n- `id`: ID da transa√ß√£o PIX (obtido na cria√ß√£o da transa√ß√£o)\n\n**Response:**\n- `qrcode`: Hash da imagem em Base64 (formato: data:image/gif;base64,...)\n- Frontend deve:\n  1. Decodificar o hash Base64\n  2. Gerar elemento `<img src=\"data:image/gif;base64,...\"/>`\n  3. Ajustar exibi√ß√£o para facilitar escaneamento\n\n**Alternativa (sem usar este endpoint):**\nVoc√™ pode usar bibliotecas frontend como:\n- `qrcode` (npm)\n- `react-qr-code` (React)\n- `ngx-qrcode` (Angular)\n- Passar o campo `emv` diretamente para a biblioteca\n\n**Exemplo de uso:**\n```javascript\n// 1. Criar transa√ß√£o PIX\nconst transaction = await fetch('/api/transactions/pix', {\n  method: 'POST',\n  body: JSON.stringify({ amount: 5000, payment_type: 'PIX', interest: 'CLIENT' })\n});\n\n// 2. Op√ß√£o A: Usar este endpoint\nconst qrcode = await fetch(`/api/transactions/${transaction._id}/qrcode`);\ndocument.getElementById('img').src = qrcode.qrcode;\n\n// 3. Op√ß√£o B: Usar biblioteca frontend (recomendado)\nimport QRCode from 'qrcode';\nconst qrCodeDataUrl = await QRCode.toDataURL(transaction.emv);\ndocument.getElementById('img').src = qrCodeDataUrl;\n```\n",
        "operationId": "TransactionsController_getQrCode",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transa√ß√£o PIX",
            "schema": {
              "example": "68cd583ac28afa3e818e48ed",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "QR Code gerado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QrCodeResponseDto"
                },
                "example": {
                  "qrcode": "data:image/gif;base64,R0lGODdhqwCrAIAAAAAAAP///ywAAAAAqwCrAAAC/4yPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCoc0gPGITCoPR6bRqURCG01GNXCFLhPRJ9eL7YqzmLF5ariaAegFGaEGa5MKcR28tm/y3XZ83HbHZoUnl9b3FSU4x2d48UblCJmo57AFhxgm9fB3OenmaPG5mAixZkpHmao5ejjIutqK+ZohG+iKCsi5ytgZWurq+QtKW1aoiJs8m3s7W/lWGfkqPJ1pu1uNrNks+yf9LJkpzehnPTzhu7mt3Ey6TgxeDKs+Hnzce793TF0u796urJs4Veqg7Yt1TkI6bwETvgP4TqA2QfyAzWOoYWG+iP8ODfpr+NEZL4IY+1XMeLDgxm9n7GVrJBFivYsrjb1EmC3XKZf48jBjpzBlSZs9++lsOa/nTks1I2jMqS/kP6A0pVL9RO3pzKlMrTp1yC3cRELysOLUSnYrNg7XHl4dSIwrOZ4uzYZs25YlTKMg+XKE+tcvxsEw6dksDJhw4o2KBTN+fHNvVMSOF1uujLmv5qpLhyCOZvGo5bxEKHyGK5OgSbClRZ2+JJesYtIpOoNslPovZapz477VRpsi3KfxfnJGatduWOCsu4LWzSc3ceTDYFv0eLIW9bJIe8ek67ypR67Bg+pye5y7Sq/pRC8nL7bEUuzDcRq3Dk98/NC8PeD/V7ofetONtQx/IgGWGXpsjXQgfkNB51NaBnoXYGMh/FcXgw8OiKGA1dl3HWQiKCdhUhmuByCKIRoWGHjuPOfaXR9GluJq543n4mYdooWSjD5SeKNQ5qjXW2UkVvXBScmlFJuJ6cFHY45fITiZiLIxOSF4tnkYpZPoNKWdigpqqeGMA0IJJG0PhvmlejgW6GRx/XHZ3pxvLujVcnfeJuRlJaYJ5m9JNkcfkSvyuOZvdY7JJZ47minWc3u2+OSJZ0rpKIMQOdidoCvWaGmfiw5K4KZlnvfep6FGltWQ5T2iKZl+HuiXqYbGCSmBr7p35ayF1mpnhSDmp2tzMS7pa6RW/8KJpqx6cZqnf502OqdwrEKG17RborDlm9mup2SsxEIL4wndChstrsx1KRq5qB1mLLzgKutjodA2C+eumF7oKr16WXuvgd7GSyy3/bqZK8Cn4gssrLfa2OGz9MrpW3qJQognvtti426QP6568ahECSwqwZJGF+y1684UsXnWvjgxoafiZl7AzKoW1cuqNigzi7tNabOt+tKJrsLpdrzxuAEKTTDMs+pMbcUQvwv0zMtmrGPCnkrNJ6oVnCzm0AkimyrXEJZbtc/Dis3x0lsXRVKuFDsN9cWkTop3faWCHCilQOaW6cNvn2i0xCuX+OtmWCu97sAIf/Yv4XFHeHOPhv+3equ9hUWO5OTnpmuc0ZjT7TnKBUvOM+WAf41lxRv2bevqlVbeMKlF7ux46Du3uzDiTbu8L6W5r+X70drOKHuY4aq8KKJ9j67osnbLa+Hsyy/PeXbOZg16zWuX3KXzVNK6PfnCwz4yo0F3rX3liXcV+5/Sjn971PMhTzKLpJudPPDq956v7aiFaOx5Hv5MQDMv8W1elPvc5TbXggQibTsSPF69XvO7Ht1PbZKx2Fn09sAO2o51T1Mc91LUvvrFT4EOi1HDXpesDpJNfgHUHwldaEK/nXCBIRPXkVoGgvZVb2rjk8iRyoY2+QwrQUQsG+cYxr4MKk8/JTwbFXllNsf/AbFNx/ogB7mYJdNQ7XpUA6MYGwdA3TGqTY8K27RweEbMTWqAQ0MbGffmMJvxaIBqXGEP6UfDKX4xigXs3v8+psMamjFww+sc/G4YyB26rmcjsiCgCpk0kT2ShTBUotcwFjwUHnCLXdtf/+IIQlkZ8Y2l9J8e3daBDaqQel6EGyjNNxspeu9wLBQk9BypSeyFcn4UI2XafllMq8WQbfyTV92u1kp1FS6ap1xklR7HxGgKcUj1Y2aTuohNSdrob5MbZxgDZ8pqrYplS2xb+FrnglcKjnE/bGd43smuCAJwjqVDZAp7Rc5eqsCY6TzdGmn4M9Gl8qBpY5M6pQnJ1NkR/4KKvKZDGfrPTYrShh4cJEPNuMccas5jbdxoPOSoy4o68oUxI6kPwbdBlBqSnSor6EhP+lLmmQ6nHI2nFyeKT+m0VJ58hIFMS1q+70h0nwcswk/H2LrpERBsK1zcNFVKU1C5z54XXQGyGpnVdeZPqtasjdyKRjwrejSgVh0oVBl4n6Hu9HvGW2ZKbfnMnooUg0F96NjEBc4ZChSrPDxY7YpnTg3m9KimUygeE9qrCs60nJGFKSs7+tXLmpSrJGwjY1XXT882trINvOs1kak3wWa2kGH9qLko2Ceo5dVwfRSnUWFbU5wZdLW1Pd9kl/rJkQZUmIkU3xCHeczRTjWqzP+NodNQW0TA7jKBeqqlNqWHLuhW97eyO+IuD3vL92WUny943zcBmsPEipezUWurRs+J3kSq11/lg6LlUAfWBRIRssB8qsdG2N/MydWNfG3pJWU5P1vmt6P7paiC/Tu3nOHXgPMUbAhfdakRiK+qgzPfhTOY4UrmVr4dtjBpCXqoMko4wOAlLtNcKiY4zvKMD67icGG50Rp3Fblx5eUfj3vImLJXjShu5iQBSU/6tjdl61tyLCmZ3hMrOW8XXGuH3dvab4Gtk2Gkav5E/DOk1nDLyuQyRO9Zx9PMWIupLfMV60taRs6Vo2wulp232Vc0m7Y1fO6zn/8M6EALetCELrSjHw3pSEt60pEuAAA6"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Transa√ß√£o n√£o encontrada ou n√£o √© do tipo PIX",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Transaction not found or is not a PIX transaction"
                }
              }
            }
          }
        },
        "summary": "Gerar imagem QR Code PIX",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/{id}/reversal": {
      "post": {
        "description": "\nRealiza o estorno (reversal/refund) de uma transa√ß√£o previamente autorizada ou capturada, garantindo flexibilidade no gerenciamento de pagamentos.\n\n**Funcionalidade:**\n- Estorna transa√ß√µes de cart√£o de cr√©dito ou PIX\n- Devolve o valor ao cliente\n- Atualiza status da transa√ß√£o para REFUNDED\n\n**Quando usar:**\n- Cliente solicitou cancelamento da compra\n- Produto/servi√ßo n√£o foi entregue\n- Erro no processamento da transa√ß√£o\n- Duplicidade de cobran√ßa\n\n**Campos obrigat√≥rios:**\n- `use_account`: indica se usar√° saldo do estabelecimento\n\n**Par√¢metro use_account:**\n- `true`: Usa saldo dispon√≠vel do estabelecimento para estornar\n  - √ötil quando transa√ß√£o j√° foi liquidada\n  - Estabelecimento precisa ter saldo suficiente\n- `false`: Estorno direto pela adquirente\n  - Usado quando transa√ß√£o ainda n√£o foi liquidada\n  - N√£o debita do saldo do estabelecimento\n\n**‚ö†Ô∏è Importantes:**\n- S√≥ pode estornar transa√ß√µes com status PAID ou APPROVED\n- Estorno √© irrevers√≠vel\n- Prazo para estorno pode variar conforme adquirente\n- Transa√ß√µes PIX geralmente s√£o estornadas instantaneamente\n- Transa√ß√µes de cart√£o podem levar at√© 7 dias √∫teis\n\n**Fluxo:**\n1. Cliente solicita estorno\n2. Sistema chama este endpoint com ID da transa√ß√£o\n3. Paytime processa estorno\n4. Response retorna transa√ß√£o com status REFUNDED\n5. Webhook notifica mudan√ßa de status (opcional)\n\n**Response:**\n- Retorna objeto completo da transa√ß√£o estornada\n- Status atualizado para REFUNDED\n- Mant√©m todos os dados originais da transa√ß√£o\n- Campo `expected_on` mostra previs√£o de devolu√ß√£o\n\n**Exemplo de uso:**\n```javascript\n// 1. Buscar transa√ß√£o para verificar se pode estornar\nconst transaction = await fetch('/api/transactions/68e3bbfbc780a4948ddb4d50');\n\nif (transaction.status === 'PAID' || transaction.status === 'APPROVED') {\n  // 2. Estornar usando saldo do estabelecimento\n  const refunded = await fetch('/api/transactions/68e3bbfbc780a4948ddb4d50/reversal', {\n    method: 'POST',\n    body: JSON.stringify({ use_account: true })\n  });\n\n  console.log(refunded.status); // REFUNDED\n}\n```\n",
        "operationId": "TransactionsController_reversalTransaction",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transa√ß√£o que ser√° estornada",
            "schema": {
              "example": "68e3bbfbc780a4948ddb4d50",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReversalTransactionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Transa√ß√£o estornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionDto"
                },
                "example": {
                  "_id": "68e3bbfbc780a4948ddb4d50",
                  "status": "REFUNDED",
                  "amount": 38065,
                  "original_amount": 39001,
                  "fees": 936,
                  "type": "CREDIT",
                  "gateway_authorization": "PAYTIME",
                  "card": {
                    "brand_name": "MASTERCARD",
                    "first4_digits": "5200",
                    "last4_digits": "1005",
                    "expiration_month": "12",
                    "expiration_year": "2026",
                    "holder_name": "JO√ÉO DA SILVA"
                  },
                  "installments": 1,
                  "customer": {
                    "first_name": "Jo√£o",
                    "last_name": "da Silva",
                    "document": "1006811401",
                    "phone": "31992876545",
                    "email": "emaildocliente@gmail.com"
                  },
                  "point_of_sale": {
                    "type": "ONLINE",
                    "identification_type": "API"
                  },
                  "acquirer": {
                    "name": "PAGSEGURO"
                  },
                  "expected_on": [
                    {
                      "date": "2026-01-12T12:00:00.986Z",
                      "amount": 38065,
                      "status": "REFUNDED",
                      "installment": 1
                    }
                  ],
                  "created_at": "2025-12-11T19:17:37.992Z"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos ou transa√ß√£o n√£o pode ser estornada",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": [
                    "Transa√ß√£o j√° foi estornada",
                    "Transa√ß√£o n√£o est√° no status correto para estorno",
                    "Saldo insuficiente no estabelecimento"
                  ],
                  "error": "Bad Request"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Transa√ß√£o n√£o encontrada",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Transaction not found"
                }
              }
            }
          }
        },
        "summary": "Estornar transa√ß√£o",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/{id}/split": {
      "post": {
        "description": "\nAplica um Split de Pagamentos em uma transa√ß√£o j√° existente.\n\n**üìå O que √© Split P√≥s-Transa√ß√£o?**\n\nO Split P√≥s permite dividir valores de transa√ß√µes j√° criadas, ideal para:\n- Regras de divis√£o conhecidas apenas ap√≥s o fechamento\n- Ajustes operacionais ou comerciais\n- Reprocessamento de divis√µes\n\n**‚öôÔ∏è Caracter√≠sticas:**\n- Processa em segundo plano (ass√≠ncrono)\n- N√£o afeta a transa√ß√£o original em caso de falha\n- Resultado comunicado via webhook\n- Pode ser desfeito/refeito posteriormente\n\n**üìä Tipos de Divis√£o:**\n\n1. **PERCENTAGE** - Divis√£o por porcentagem:\n   - `value` = porcentagem de 0 a 100\n   - Exemplo: 30 = 30% do valor da transa√ß√£o\n\n2. **CURRENCY** - Divis√£o por valor fixo:\n   - `value` = valor em centavos\n   - Exemplo: 5000 = R$ 50,00\n\n**‚úÖ Requisitos (todos os estabelecimentos):**\n- Pertencer √† mesma Credenciadora do estabelecimento principal\n- Ter plataforma SUB PAYTIME habilitada e ativa\n- Possuir plano SUB PAYTIME para a modalidade da transa√ß√£o\n- Ter permiss√£o de transa√ß√µes habilitada\n- Para online: ter permiss√£o de venda online\n\n**‚è±Ô∏è Restri√ß√µes:**\n- Split s√≥ pode ser feito no mesmo dia da transa√ß√£o\n- Processar em segundo plano (ass√≠ncrono)\n- Acompanhe via webhooks: `new-sub-split`, `canceled-sub-split`\n\n**üìù Exemplo 1 - Split por Porcentagem:**\n\n```json\n{\n  \"title\": \"Comiss√£o Marketplace\",\n  \"division\": \"PERCENTAGE\",\n  \"establishments\": [\n    {\n      \"id\": 9876,\n      \"value\": 30\n    }\n  ]\n}\n```\n\nResultado: estabelecimento 9876 recebe 30% do valor da transa√ß√£o.\n\n**üìù Exemplo 2 - Split por Valor Fixo:**\n\n```json\n{\n  \"title\": \"Taxa de Entrega\",\n  \"division\": \"CURRENCY\",\n  \"establishments\": [\n    {\n      \"id\": 5432,\n      \"value\": 800\n    }\n  ]\n}\n```\n\nResultado: estabelecimento 5432 recebe R$ 8,00 fixos.\n\n**üìù Exemplo 3 - Split M√∫ltiplo:**\n\n```json\n{\n  \"title\": \"Split Delivery Completo\",\n  \"division\": \"PERCENTAGE\",\n  \"establishments\": [\n    {\n      \"id\": 1001,\n      \"value\": 70\n    },\n    {\n      \"id\": 1002,\n      \"value\": 20\n    },\n    {\n      \"id\": 1003,\n      \"value\": 10\n    }\n  ]\n}\n```\n\nResultado:\n- EC 1001: 70% (restaurante)\n- EC 1002: 20% (entregador)\n- EC 1003: 10% (plataforma)\n\n**üëÅÔ∏è Monitoramento:**\n\nImplemente consumo dos webhooks para acompanhar:\n- `new-sub-split`: split criado com sucesso\n- `canceled-sub-split`: split cancelado/falhou\n- `updated-sub-transaction`: transa√ß√£o atualizada ap√≥s split\n    ",
        "operationId": "TransactionsController_createSplit",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transa√ß√£o onde o split ser√° aplicado",
            "schema": {
              "example": "681258717903c84441e0e823",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSplitDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Split iniciado com sucesso (processar√° em segundo plano)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SplitResponseDto"
                },
                "example": {
                  "message": "Processo de Split iniciado",
                  "transaction_id": "681258717903c84441e0e823",
                  "status": "PROCESSING"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos ou estabelecimento sem permiss√£o",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Establishment does not have permission to receive split"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          },
          "404": {
            "description": "Transa√ß√£o n√£o encontrada",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Transaction not found"
                }
              }
            }
          }
        },
        "summary": "Criar Split P√≥s-Transa√ß√£o",
        "tags": [
          "Transactions"
        ]
      },
      "get": {
        "description": "\nRecupera os dados de divis√£o de valores (split) associados a uma transa√ß√£o espec√≠fica.\n\n**üìä Informa√ß√µes Retornadas:**\n\n**üîπ Dados Principais:**\n- ID √∫nico do split (_id)\n- ID da transa√ß√£o vinculada (transaction_id)\n- Status atual (PENDING, ACTIVE, CANCELED)\n- T√≠tulo do split\n- Valor bruto dispon√≠vel para divis√£o (original_amount em centavos)\n- Canal da transa√ß√£o (CHIP, TAP, SMART, ONLINE, ALL)\n- Modalidade de pagamento (DEBIT, PIX, CREDIT, ALL)\n- Tipo de divis√£o (PERCENTAGE ou CURRENCY)\n- Data de cria√ß√£o (ISO 8601)\n\n**üè¢ Estabelecimento Principal:**\n- ID, nome completo (first_name), nome fantasia (last_name), documento (CPF/CNPJ)\n\n**üè¢ Estabelecimentos Participantes (array):**\n- ID, nome completo, nome fantasia, documento\n- Prioridade de execu√ß√£o na divis√£o\n- Valor definido (% ou centavos, conforme division)\n- Valor total repassado (original_amount em centavos)\n- ID da transa√ß√£o de repasse (transaction_id)\n\n**üìò Hist√≥rico de Status (array):**\n- Data/hora do evento (created_at ISO 8601)\n- Status do split naquele momento (PENDING, ACTIVE, CANCELED)\n- Mensagem informativa (message, opcional)\n\n**üëÅÔ∏è Casos de Uso:**\n- ‚úÖ Verificar se split foi aplicado com sucesso\n- ‚úÖ Consultar detalhes da divis√£o para auditoria\n- ‚úÖ Validar valores antes de refazer split\n- ‚úÖ Exibir informa√ß√µes completas em dashboards\n- ‚úÖ Rastrear hist√≥rico de mudan√ßas de status\n- ‚úÖ Confirmar valores repassados aos estabelecimentos\n\n**‚ö†Ô∏è Observa√ß√µes:**\n- Se n√£o houver split aplicado, retorna 404\n- Status PENDING: processamento em andamento\n- Status ACTIVE: split processado e ativo\n- Status CANCELED: split cancelado ou desfeito\n- Valores em centavos (original_amount, amount_received)\n- Hist√≥rico ordenado por data (mais recente primeiro)\n\n**üîê Seguran√ßa:**\n- Requer token v√°lido no header Authorization\n- Headers integration-key e x-token obrigat√≥rios\n    ",
        "operationId": "TransactionsController_getSplit",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transa√ß√£o para consultar o split",
            "schema": {
              "example": "681258717903c84441e0e823",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Informa√ß√µes do split retornadas com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetSplitResponseDto"
                },
                "example": {
                  "_id": "681258727903c84441e0e825",
                  "transaction_id": "681258717903c84441e0e823",
                  "status": "ACTIVE",
                  "establishment": {
                    "id": 1234,
                    "first_name": "Loja Principal LTDA",
                    "last_name": "Loja Principal",
                    "document": "12345678000199"
                  },
                  "title": "Comiss√£o EC Secund√°rio",
                  "original_amount": 10050,
                  "channel": "ONLINE",
                  "modality": "CREDIT",
                  "division": "PERCENTAGE",
                  "establishments": [
                    {
                      "id": 9876,
                      "first_name": "Loja Parceira LTDA",
                      "last_name": "Loja Parceira",
                      "document": "98765432000188",
                      "priority": 1,
                      "value": 30,
                      "original_amount": 3015,
                      "transaction_id": "681258717903c84441e0e824"
                    }
                  ],
                  "history": [
                    {
                      "created_at": "2025-04-30T17:06:00.000Z",
                      "status": "ACTIVE",
                      "message": "Split processado com sucesso"
                    },
                    {
                      "created_at": "2025-04-30T17:05:53.107Z",
                      "status": "PENDING",
                      "message": "Split iniciado"
                    }
                  ],
                  "created_at": "2025-04-30T17:05:53.107Z"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Transa√ß√£o n√£o encontrada ou split n√£o aplicado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Split not found for this transaction"
                }
              }
            }
          }
        },
        "summary": "Consultar Split de Transa√ß√£o",
        "tags": [
          "Transactions"
        ]
      },
      "put": {
        "description": "\nAtualiza ou refaz a divis√£o de valores de um split existente.\n\n**üîÑ Quando Usar:**\n- Ajustar porcentagens ou valores ap√≥s cria√ß√£o\n- Adicionar ou remover estabelecimentos da divis√£o\n- Corrigir erros na configura√ß√£o do split\n- Reprocessar split que falhou\n\n**‚öôÔ∏è Comportamento:**\n- Cancela o split anterior (se existir)\n- Cria novo split com as novas regras\n- Processa em segundo plano\n- Resultado via webhook\n\n**‚ö†Ô∏è Restri√ß√µes:**\n- Split s√≥ pode ser refeito no mesmo dia da transa√ß√£o\n- Estabelecimentos devem atender aos mesmos requisitos\n- N√£o √© poss√≠vel refazer split de transa√ß√£o estornada\n\n**üëÅÔ∏è Monitoramento:**\n\nWebhooks disparados:\n1. `canceled-sub-split`: split anterior cancelado\n2. `new-sub-split`: novo split criado\n3. `updated-sub-transaction`: transa√ß√£o atualizada\n    ",
        "operationId": "TransactionsController_updateSplit",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transa√ß√£o com split a ser atualizado",
            "schema": {
              "example": "681258717903c84441e0e823",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSplitDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Split atualizado com sucesso (processar√° em segundo plano)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SplitResponseDto"
                },
                "example": {
                  "message": "Processo de Split atualizado e reiniciado",
                  "transaction_id": "681258717903c84441e0e823",
                  "status": "PROCESSING"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Cannot update split after transaction settlement date"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          },
          "404": {
            "description": "Transa√ß√£o ou split n√£o encontrado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Split not found for this transaction"
                }
              }
            }
          }
        },
        "summary": "Refazer/Atualizar Split de Transa√ß√£o",
        "tags": [
          "Transactions"
        ]
      },
      "delete": {
        "description": "\nCancela e remove o Split aplicado em uma transa√ß√£o, revertendo a divis√£o.\n\n**üö´ O que Acontece:**\n- O split √© cancelado\n- Valores s√£o revertidos ao estabelecimento principal\n- Estabelecimentos secund√°rios n√£o receber√£o os valores\n- Processo ass√≠ncrono (segundo plano)\n- Resultado via webhook\n\n**üéØ Casos de Uso:**\n- Cancelar split aplicado por engano\n- Reverter divis√£o antes da liquida√ß√£o\n- Ajustar opera√ß√£o com erro de configura√ß√£o\n- Centralizar valor no estabelecimento principal\n\n**‚ö†Ô∏è Restri√ß√µes:**\n- S√≥ pode ser desfeito no mesmo dia da transa√ß√£o\n- N√£o √© poss√≠vel desfazer ap√≥s liquida√ß√£o\n- Transa√ß√£o deve ter split aplicado\n- N√£o √© poss√≠vel desfazer split de transa√ß√£o estornada\n\n**üëÅÔ∏è Monitoramento:**\n\nWebhooks disparados:\n- `canceled-sub-split`: split cancelado com sucesso\n- `updated-sub-transaction`: transa√ß√£o atualizada (valores revertidos)\n\n**‚ÑπÔ∏è Observa√ß√£o:**\n\nAp√≥s desfazer, √© poss√≠vel criar um novo split usando POST /api/transactions/:id/split.\n    ",
        "operationId": "TransactionsController_deleteSplit",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transa√ß√£o com split a ser desfeito",
            "schema": {
              "example": "681258717903c84441e0e823",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cancelamento do split iniciado (processar√° em segundo plano)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SplitResponseDto"
                },
                "example": {
                  "message": "Processo de cancelamento do Split iniciado",
                  "transaction_id": "681258717903c84441e0e823",
                  "status": "CANCELING"
                }
              }
            }
          },
          "400": {
            "description": "N√£o √© poss√≠vel cancelar (fora do prazo ou j√° liquidado)",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Cannot cancel split after transaction settlement"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          },
          "404": {
            "description": "Transa√ß√£o n√£o encontrada ou sem split aplicado",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Split not found for this transaction"
                }
              }
            }
          }
        },
        "summary": "Desfazer Split de Transa√ß√£o",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/split/pre": {
      "get": {
        "description": "\nLista todas as regras de Split Pr√© configuradas para um estabelecimento espec√≠fico.\n\n**üéØ O que √© Split Pr√©?**\n\nSplit Pr√© s√£o regras pr√©-configuradas de divis√£o autom√°tica de valores que s√£o aplicadas **automaticamente**\nna cria√ß√£o da transa√ß√£o, sem necessidade de enviar o objeto `split` no payload.\n\n**Diferen√ßas entre os tipos de Split:**\n\n| Tipo | Configura√ß√£o | Aplica√ß√£o | Flexibilidade |\n|------|--------------|-----------|---------------|\n| **Split na Transa√ß√£o** | Via API (objeto split no payload) | Caso a caso | Alta - cada transa√ß√£o pode ter regras diferentes |\n| **Split P√≥s-Transa√ß√£o** | Via API (endpoints dedicados) | Manual, ap√≥s cria√ß√£o | M√©dia - ajustes operacionais pontuais |\n| **Split Pr√©** | Painel Paytime | Autom√°tica | Baixa - regras pr√©-definidas sempre aplicadas |\n\n**‚úÖ Vantagens do Split Pr√©:**\n\n- ü§ñ **Autom√°tico:** n√£o requer l√≥gica no c√≥digo cliente\n- üìã **Centralizado:** configurado no painel Paytime\n- üîÑ **Consistente:** mesmas regras para todas as transa√ß√µes que atendem crit√©rios\n- üõ°Ô∏è **Seguro:** n√£o depende de payload correto na API\n\n**üîç Informa√ß√µes Retornadas:**\n\nPara cada regra, voc√™ recebe:\n- **ID √∫nico** da regra\n- **T√≠tulo descritivo** configurado\n- **Modalidade:** ALL, CREDIT, DEBIT, PIX\n- **Canal:** ALL, CHIP, TAP, SMART, ONLINE\n- **Tipo de divis√£o:** PERCENTAGE ou CURRENCY\n- **Parcelas:** n√∫mero de parcelas (quando modalidade CREDIT)\n- **Status:** ativa (1) ou inativa (0)\n- **Metadados:** n√∫mero de estabelecimentos participantes ativos\n\n**üìä Casos de Uso:**\n\n**1. Auditoria e Valida√ß√£o:**\n```typescript\n// Verificar se regra espec√≠fica est√° ativa\nconst { data } = await api.get('/api/transactions/split/pre', {\n  headers: { establishment_id: '123456' }\n});\n\nconst pixRule = data.find(rule =>\n  rule.modality === 'PIX' && rule.active === 1\n);\nconsole.log('Regra PIX ativa:', pixRule);\n```\n\n**2. Dashboard de Configura√ß√µes:**\n```typescript\n// Exibir lista de regras no painel\nconst { data, total } = await api.get('/api/transactions/split/pre', {\n  headers: { establishment_id: '123456' }\n});\n\ndata.forEach(rule => {\n  console.log(`${rule.title}: ${rule.__meta__.ecs_count} participantes`);\n});\n```\n\n**3. Detec√ß√£o de Conflitos:**\n```typescript\n// Verificar se h√° m√∫ltiplas regras para mesma modalidade/canal\nconst creditOnlineRules = data.filter(r =>\n  r.modality === 'CREDIT' && r.channel === 'ONLINE' && r.active === 1\n);\n\nif (creditOnlineRules.length > 1) {\n  console.warn('Conflito detectado: m√∫ltiplas regras ativas');\n}\n```\n\n**‚ö†Ô∏è Observa√ß√µes Importantes:**\n\n- ‚è±Ô∏è Regras s√≥ s√£o aplicadas quando crit√©rios (modalidade, canal, parcelas) s√£o atendidos\n- üîí Configura√ß√£o feita **apenas via painel Paytime** (n√£o via API)\n- üìã √â poss√≠vel ter m√∫ltiplas regras desde que n√£o sejam conflitantes\n- ‚úÖ Para detalhes completos de uma regra espec√≠fica, use GET /api/transactions/split/pre/:splitId\n\n**üìñ Campos da Resposta:**\n\n**Pagina√ß√£o:**\n- `total`: n√∫mero total de regras encontradas\n- `perPage`: registros por p√°gina (padr√£o: 20)\n- `page`: p√°gina atual\n- `lastPage`: √∫ltima p√°gina dispon√≠vel\n\n**Cada Regra (data[]):**\n- `id`: identificador √∫nico\n- `title`: nome descritivo\n- `modality`: modalidade (ALL/CREDIT/DEBIT/PIX)\n- `channel`: canal (ALL/CHIP/TAP/SMART/ONLINE)\n- `division`: tipo (PERCENTAGE/CURRENCY)\n- `installment`: parcelas (quando CREDIT)\n- `establishment_id`: EC principal\n- `active`: status (1=ativo, 0=inativo)\n- `__meta__.ecs_count`: total de participantes ativos\n    ",
        "operationId": "TransactionsController_listSplitPreRules",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento para listar regras de Split Pr√©",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de regras de Split Pr√© retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSplitPreResponseDto"
                },
                "example": {
                  "total": 2,
                  "perPage": 20,
                  "page": 1,
                  "lastPage": 1,
                  "data": [
                    {
                      "id": 3,
                      "title": "Comiss√£o Sandbox Atualizado",
                      "modality": "PIX",
                      "channel": "ALL",
                      "division": "PERCENTAGE",
                      "installment": 2,
                      "establishment_id": 415585,
                      "active": 1,
                      "__meta__": {
                        "ecs_count": 3
                      }
                    },
                    {
                      "id": 2,
                      "title": "Comiss√£o Sandbox",
                      "modality": "CREDIT",
                      "channel": "ONLINE",
                      "division": "PERCENTAGE",
                      "installment": 3,
                      "establishment_id": 415585,
                      "active": 1,
                      "__meta__": {
                        "ecs_count": 1
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          },
          "403": {
            "description": "Sem permiss√£o para acessar regras deste estabelecimento"
          }
        },
        "summary": "Listar Regras de Split Pr√©",
        "tags": [
          "Transactions"
        ]
      },
      "post": {
        "description": "\nPermite ao estabelecimento configurar previamente uma regra de divis√£o de valores (split) para suas transa√ß√µes futuras.\n\n**üéØ O que √© uma Regra de Split Pr√©?**\n\n√â uma configura√ß√£o que aplica **automaticamente** a divis√£o de valores no momento da cria√ß√£o da transa√ß√£o, sem necessidade de enviar o objeto `split` no payload.\n\n**Diferen√ßa vs outros tipos:**\n- **Split na Transa√ß√£o:** enviado caso a caso via API\n- **Split P√≥s:** aplicado manualmente ap√≥s cria√ß√£o\n- **Split Pr√©:** aplicado automaticamente quando crit√©rios s√£o atendidos\n\n**üìã Crit√©rios de Aplica√ß√£o:**\n\nA regra ser√° aplicada quando **todos** os crit√©rios configurados forem atendidos:\n- ‚úÖ **Modalidade:** ALL (todas), CREDIT, DEBIT, PIX\n- ‚úÖ **Canal:** ALL (todos), CHIP, TAP, SMART, ONLINE\n- ‚úÖ **Parcelas:** n√∫mero espec√≠fico (quando modalidade = CREDIT)\n\n**üîç Campos Obrigat√≥rios:**\n\n**title:** identifica√ß√£o descritiva da regra\n```typescript\n\"Comiss√£o Marketplace Online\"\n```\n\n**modality:** modalidade de transa√ß√£o\n```typescript\n\"PIX\"       // Apenas PIX\n\"CREDIT\"    // Apenas cr√©dito\n\"DEBIT\"     // Apenas d√©bito\n\"ALL\"       // Todas as modalidades\n```\n\n**channel:** canal de venda\n```typescript\n\"ONLINE\"    // Apenas vendas online\n\"CHIP\"      // Apenas chip (presencial)\n\"TAP\"       // Apenas contactless\n\"SMART\"     // Smart POS\n\"ALL\"       // Todos os canais\n```\n\n**division:** tipo de divis√£o\n```typescript\n\"PERCENTAGE\"  // Divis√£o por porcentagem (0-100%)\n\"CURRENCY\"    // Divis√£o por valor fixo (centavos)\n```\n\n**active:** status inicial da regra\n```typescript\ntrue   // Ativa (aplicada imediatamente)\nfalse  // Inativa (n√£o aplicada at√© ativa√ß√£o)\n```\n\n**establishments:** lista de participantes\n```typescript\n[\n  {\n    \"id\": 4155082,        // ID do estabelecimento\n    \"active\": true,        // Status individual\n    \"value\": 30            // Valor (% ou centavos)\n  }\n]\n```\n\n**installment (opcional):** parcelas\n```typescript\n3  // Aplicar apenas em vendas parceladas em 3x\n   // Obrigat√≥rio quando modality = CREDIT\n```\n\n**üìä Casos de Uso:**\n\n**1. Marketplace Online - Comiss√£o 30%:**\n```typescript\n{\n  \"title\": \"Comiss√£o Marketplace\",\n  \"modality\": \"ALL\",\n  \"channel\": \"ONLINE\",\n  \"division\": \"PERCENTAGE\",\n  \"active\": true,\n  \"establishments\": [\n    { \"id\": 9876, \"active\": true, \"value\": 30 }\n  ]\n}\n// Plataforma: 30% | Vendedor: 70%\n```\n\n**2. Delivery - Taxa Fixa R$ 8,00:**\n```typescript\n{\n  \"title\": \"Taxa Entrega\",\n  \"modality\": \"PIX\",\n  \"channel\": \"ALL\",\n  \"division\": \"CURRENCY\",\n  \"active\": true,\n  \"establishments\": [\n    { \"id\": 5432, \"active\": true, \"value\": 800 }\n  ]\n}\n// Entregador: R$ 8,00 fixo | Restaurante: restante\n```\n\n**3. Parcelado 3x - Split M√∫ltiplo:**\n```typescript\n{\n  \"title\": \"Split 3x\",\n  \"modality\": \"CREDIT\",\n  \"channel\": \"ONLINE\",\n  \"division\": \"PERCENTAGE\",\n  \"active\": true,\n  \"installment\": 3,\n  \"establishments\": [\n    { \"id\": 1001, \"active\": true, \"value\": 70 },\n    { \"id\": 1002, \"active\": true, \"value\": 20 },\n    { \"id\": 1003, \"active\": true, \"value\": 10 }\n  ]\n}\n// EC1: 70% | EC2: 20% | EC3: 10%\n```\n\n**‚úÖ Valida√ß√µes Autom√°ticas:**\n\n- ‚úÖ Soma de PERCENTAGE n√£o pode exceder 100%\n- ‚úÖ Valores de CURRENCY n√£o podem exceder valor da transa√ß√£o\n- ‚úÖ Todos os ECs devem pertencer √† mesma Credenciadora\n- ‚úÖ Todos os ECs devem ter SUB PAYTIME habilitado\n- ‚úÖ N√£o pode haver conflito com regras existentes (mesma modalidade + canal)\n\n**‚ö†Ô∏è Observa√ß√µes Importantes:**\n\n- üîÑ **Aplica√ß√£o autom√°tica:** n√£o requer envio de objeto split na API\n- üìä **Establishment principal:** recebe automaticamente o saldo restante\n- üéØ **Prioridades:** definidas automaticamente na ordem de cadastro\n- üîí **M√∫ltiplas regras:** permitidas desde que n√£o conflitem (ex: PIX + CREDIT)\n- ‚è±Ô∏è **Edi√ß√£o:** pode ser atualizada via PUT /api/transactions/split/pre/:splitId\n- üóëÔ∏è **Dele√ß√£o:** pode ser removida via DELETE (se sem transa√ß√µes pendentes)\n\n**üìñ Response da API:**\n\nA response cont√©m a regra completa criada:\n- `id`: identificador √∫nico da regra\n- `establishment_percentage`: % destinado ao EC principal\n- `establishment`: dados do EC principal (criador)\n- `establishments`: lista completa de participantes com prioridades\n- `__meta__.ecs_count`: total de participantes ativos\n    ",
        "operationId": "TransactionsController_createSplitPreRule",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento que est√° criando a regra",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSplitPreDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Regra de Split Pr√© criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SplitPreDetailDto"
                },
                "example": {
                  "id": 3,
                  "title": "Comiss√£o Sandbox Atualizado",
                  "modality": "PIX",
                  "channel": "ALL",
                  "division": "PERCENTAGE",
                  "installment": 2,
                  "active": 1,
                  "establishment_percentage": 20,
                  "establishment": {
                    "id": 415585,
                    "first_name": "EC Cobran√ßas",
                    "last_name": null,
                    "document": "10068114001"
                  },
                  "establishments": [
                    {
                      "value": 30,
                      "priority": 1,
                      "active": 1,
                      "establishment": {
                        "id": 415582,
                        "first_name": "Webhooks Integra√ß√µes",
                        "last_name": "API Integra√ß√µes",
                        "document": "60274849000185"
                      }
                    },
                    {
                      "value": 30,
                      "priority": 2,
                      "active": 1,
                      "establishment": {
                        "id": 415599,
                        "first_name": "Atacad√£o dos Programadores",
                        "last_name": "Atacad√£o DEV",
                        "document": "37603116000125"
                      }
                    },
                    {
                      "value": 20,
                      "priority": 3,
                      "active": 1,
                      "establishment": {
                        "id": 415510,
                        "first_name": "Teste Sandbox",
                        "last_name": "Solucoes",
                        "document": "11299221000129"
                      }
                    }
                  ],
                  "__meta__": {
                    "ecs_count": 3
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos (soma excede 100%, conflito com regra existente, etc)",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Total percentage exceeds 100%"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          },
          "403": {
            "description": "Sem permiss√£o para criar regra neste estabelecimento"
          }
        },
        "summary": "Criar Regra de Split Pr√©",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/transactions/split/pre/{splitId}": {
      "get": {
        "description": "\nRetorna informa√ß√µes completas de uma regra espec√≠fica de Split Pr√©, incluindo todos os estabelecimentos participantes.\n\n**üéØ O que este endpoint retorna?**\n\nInforma√ß√µes detalhadas da regra, incluindo:\n\n**1. Informa√ß√µes B√°sicas:**\n- ID, t√≠tulo, modalidade, canal\n- Tipo de divis√£o (PERCENTAGE/CURRENCY)\n- Status (ativa/inativa)\n\n**2. Estabelecimento Principal:**\n- Dados completos (ID, nome, documento)\n- Porcentagem atribu√≠da ao EC principal\n\n**3. Estabelecimentos Participantes:**\n- Lista completa de todos os participantes secund√°rios\n- Para cada um: ID, nome, documento, valor, prioridade, status\n- √ötil para visualizar toda a cadeia de split\n\n**üìä Casos de Uso:**\n\n**1. Visualiza√ß√£o Detalhada no Dashboard:**\n```typescript\n// Exibir regra completa com todos os participantes\nconst rule = await api.get('/api/transactions/split/pre/3', {\n  headers: { establishment_id: '415585' }\n});\n\nconsole.log(`Regra: ${rule.title}`);\nconsole.log(`Principal: ${rule.establishment.first_name} (${rule.establishment_percentage}%)`);\n\nrule.establishments.forEach((participant, index) => {\n  console.log(`Participante ${index + 1}: ${participant.establishment.first_name} (${participant.value}%)`);\n});\n```\n\n**2. Valida√ß√£o de Divis√£o:**\n```typescript\n// Verificar se soma das porcentagens = 100%\nconst rule = await api.get('/api/transactions/split/pre/3', {\n  headers: { establishment_id: '415585' }\n});\n\nconst totalParticipants = rule.establishments.reduce((sum, p) => sum + p.value, 0);\nconst total = rule.establishment_percentage + totalParticipants;\n\nconsole.log('Total da divis√£o:', total, '%'); // Deve ser 100%\n```\n\n**3. Auditoria de Participantes:**\n```typescript\n// Listar apenas participantes ativos\nconst rule = await api.get('/api/transactions/split/pre/3', {\n  headers: { establishment_id: '415585' }\n});\n\nconst activeParticipants = rule.establishments.filter(p => p.active === 1);\nconsole.log('Participantes ativos:', activeParticipants.length);\nconsole.log('Total na regra:', rule.__meta__.ecs_count);\n```\n\n**4. An√°lise de Prioridades:**\n```typescript\n// Ordenar participantes por prioridade\nconst rule = await api.get('/api/transactions/split/pre/3', {\n  headers: { establishment_id: '415585' }\n});\n\nconst sorted = [...rule.establishments].sort((a, b) => a.priority - b.priority);\nsorted.forEach(p => {\n  console.log(`Prioridade ${p.priority}: ${p.establishment.first_name}`);\n});\n```\n\n**‚ö†Ô∏è Observa√ß√µes Importantes:**\n\n- üî¢ **Prioridade:** define ordem de processamento do split\n- üí∞ **Divis√£o PERCENTAGE:** valores s√£o porcentagens (0-100)\n- üíµ **Divis√£o CURRENCY:** valores s√£o em centavos\n- ‚úÖ **Active:** apenas participantes ativos recebem valores\n- üìä **ecs_count:** conta total de participantes ativos (√∫til para valida√ß√£o)\n\n**üìñ Estrutura da Resposta:**\n\n**Dados Principais:**\n- `id`: identificador √∫nico da regra\n- `title`: nome descritivo\n- `modality`: ALL, CREDIT, DEBIT, PIX\n- `channel`: ALL, CHIP, TAP, SMART, ONLINE\n- `division`: PERCENTAGE ou CURRENCY\n- `installment`: parcelas (quando CREDIT)\n- `active`: status (1=ativo, 0=inativo)\n\n**Estabelecimento Principal:**\n- `establishment_percentage`: porcentagem do EC principal\n- `establishment`: objeto com id, first_name, last_name, document\n\n**Participantes (establishments[]):**\n- `value`: valor ou % atribu√≠do\n- `priority`: ordem de execu√ß√£o\n- `active`: status do participante\n- `establishment`: dados completos do EC secund√°rio\n\n**Metadados:**\n- `__meta__.ecs_count`: total de participantes ativos\n    ",
        "operationId": "TransactionsController_getSplitPreDetail",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento dono da regra",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "splitId",
            "required": true,
            "in": "path",
            "description": "ID da regra de Split Pr√© a ser consultada",
            "schema": {
              "example": "3",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes da regra retornados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SplitPreDetailDto"
                },
                "example": {
                  "id": 3,
                  "title": "Comiss√£o Sandbox Atualizado",
                  "modality": "PIX",
                  "channel": "ALL",
                  "division": "PERCENTAGE",
                  "installment": 2,
                  "active": 1,
                  "establishment_percentage": 20,
                  "establishment": {
                    "id": 155085,
                    "first_name": "EC Cobran√ßas",
                    "last_name": null,
                    "document": "10068114001"
                  },
                  "establishments": [
                    {
                      "value": 30,
                      "priority": 1,
                      "active": 1,
                      "establishment": {
                        "id": 155082,
                        "first_name": "Webhooks Integra√ß√µes",
                        "last_name": "API Integra√ß√µes",
                        "document": "60274849000185"
                      }
                    },
                    {
                      "value": 30,
                      "priority": 2,
                      "active": 1,
                      "establishment": {
                        "id": 155099,
                        "first_name": "Atacad√£o dos Programadores",
                        "last_name": "Atacad√£o DEV",
                        "document": "37603116000125"
                      }
                    },
                    {
                      "value": 20,
                      "priority": 3,
                      "active": 1,
                      "establishment": {
                        "id": 155100,
                        "first_name": "Teste Sandbox",
                        "last_name": "Solucoes",
                        "document": "11299221000129"
                      }
                    }
                  ],
                  "__meta__": {
                    "ecs_count": 3
                  }
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          },
          "403": {
            "description": "Sem permiss√£o para acessar esta regra"
          },
          "404": {
            "description": "Regra de Split Pr√© n√£o encontrada",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Split Pre rule not found"
                }
              }
            }
          }
        },
        "summary": "Obter Detalhes de Regra de Split Pr√©",
        "tags": [
          "Transactions"
        ]
      },
      "put": {
        "description": "\nPermite atualizar os dados de uma regra de Split Pr√©-cadastrada por um estabelecimento.\n\n**üéØ O que pode ser atualizado?**\n\nEsta rota permite alterar diversos aspectos de uma regra existente:\n\n**üìù Campos Edit√°veis:**\n\n**title (opcional):** novo t√≠tulo descritivo\n```typescript\n\"Comiss√£o Atualizada 2025\"\n```\n\n**modality (opcional):** nova modalidade\n```typescript\n\"CREDIT\"  // Mudar de PIX para cr√©dito\n```\n\n**channel (opcional):** novo canal\n```typescript\n\"ONLINE\"  // Mudar de ALL para apenas online\n```\n\n**division (opcional):** novo tipo de divis√£o\n```typescript\n\"CURRENCY\"  // Mudar de PERCENTAGE para valor fixo\n```\n\n**active (opcional):** ativar/desativar regra\n```typescript\nfalse  // Desativar temporariamente\n```\n\n**installment (opcional):** alterar parcelas\n```typescript\n6  // Mudar de 3x para 6x\n```\n\n**establishments (obrigat√≥rio):** nova lista de participantes\n```typescript\n[\n  { \"id\": 4155085, \"active\": true, \"value\": 30 }\n]\n```\n\n**üìä Casos de Uso:**\n\n**1. Ajustar Comiss√£o:**\n```typescript\nPUT /api/transactions/split/pre/2\n{\n  \"establishments\": [\n    { \"id\": 9876, \"active\": true, \"value\": 35 }  // Era 30%, agora 35%\n  ]\n}\n```\n\n**2. Desativar Temporariamente:**\n```typescript\n{\n  \"active\": false,  // Pausar regra sem deletar\n  \"establishments\": [\n    { \"id\": 9876, \"active\": false, \"value\": 30 }\n  ]\n}\n```\n\n**3. Mudar de Percentual para Fixo:**\n```typescript\n{\n  \"division\": \"CURRENCY\",  // Era PERCENTAGE\n  \"establishments\": [\n    { \"id\": 5432, \"active\": true, \"value\": 1000 }  // R$ 10,00 fixo\n  ]\n}\n```\n\n**4. Adicionar Participantes:**\n```typescript\n{\n  \"establishments\": [\n    { \"id\": 1001, \"active\": true, \"value\": 60 },\n    { \"id\": 1002, \"active\": true, \"value\": 30 },\n    { \"id\": 1003, \"active\": true, \"value\": 10 }  // Novo participante\n  ]\n}\n```\n\n**5. Atualizar Modalidade e Canal:**\n```typescript\n{\n  \"modality\": \"CREDIT\",    // Era PIX\n  \"channel\": \"ONLINE\",     // Era ALL\n  \"installment\": 3,        // Agora obrigat√≥rio (CREDIT)\n  \"establishments\": [\n    { \"id\": 9876, \"active\": true, \"value\": 30 }\n  ]\n}\n```\n\n**‚úÖ Valida√ß√µes na Atualiza√ß√£o:**\n\n- ‚úÖ Soma de PERCENTAGE n√£o pode exceder 100%\n- ‚úÖ N√£o pode criar conflito com outras regras ativas\n- ‚úÖ Todos os ECs devem permanecer v√°lidos (mesma credenciadora)\n- ‚úÖ Se mudar para CREDIT, installment torna-se obrigat√≥rio\n\n**‚ö†Ô∏è Observa√ß√µes Importantes:**\n\n- üîÑ **Aplica√ß√£o imediata:** mudan√ßas afetam transa√ß√µes futuras\n- üìä **Transa√ß√µes existentes:** n√£o s√£o afetadas pela atualiza√ß√£o\n- üéØ **Prioridades:** s√£o recalculadas automaticamente\n- üîí **Establishments obrigat√≥rio:** sempre deve ser enviado (mesmo que sem mudan√ßas)\n- ‚è±Ô∏è **Status:** regras inativas n√£o afetam transa√ß√µes at√© reativa√ß√£o\n\n**üí° Dica de Integra√ß√£o:**\n\nPara atualizar apenas um campo mantendo os demais:\n```typescript\n// 1. GET detalhes atuais\nconst current = await api.get('/api/transactions/split/pre/2');\n\n// 2. PUT com mudan√ßa espec√≠fica\nawait api.put('/api/transactions/split/pre/2', {\n  ...current,              // Mant√©m campos atuais\n  active: false,           // Altera apenas status\n});\n```\n    ",
        "operationId": "TransactionsController_updateSplitPreRule",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento dono da regra",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "splitId",
            "required": true,
            "in": "path",
            "description": "ID da regra de Split Pr√© a ser atualizada",
            "schema": {
              "example": "2",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSplitPreDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Regra atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SplitPreDetailDto"
                },
                "example": {
                  "id": 2,
                  "title": "Comiss√£o Sandbox",
                  "modality": "CREDIT",
                  "channel": "ONLINE",
                  "division": "PERCENTAGE",
                  "installment": 3,
                  "active": 1,
                  "establishment_percentage": 70,
                  "establishment": {
                    "id": 4155085,
                    "first_name": "EC Cobran√ßas",
                    "last_name": null,
                    "document": "10068114001"
                  },
                  "establishments": [
                    {
                      "value": 30,
                      "priority": 1,
                      "active": 1,
                      "establishment": {
                        "id": 4155085,
                        "first_name": "EC Cobran√ßas",
                        "last_name": null,
                        "document": "10068114001"
                      }
                    }
                  ],
                  "__meta__": {
                    "ecs_count": 1
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos ou conflito com regra existente",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Rule conflict: another rule exists for CREDIT + ONLINE"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          },
          "403": {
            "description": "Sem permiss√£o para atualizar esta regra"
          },
          "404": {
            "description": "Regra n√£o encontrada",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Split Pre rule not found"
                }
              }
            }
          }
        },
        "summary": "Atualizar Regra de Split Pr√©",
        "tags": [
          "Transactions"
        ]
      },
      "delete": {
        "description": "\nExclui permanentemente uma regra de Split Pr√©-cadastrada de um estabelecimento.\n\n**üéØ Quando usar?**\n\nUse este endpoint quando:\n- ‚úÖ Regra n√£o √© mais necess√°ria\n- ‚úÖ Deseja remover completamente (vs desativar temporariamente)\n- ‚úÖ N√£o h√° transa√ß√µes pendentes vinculadas\n\n**‚ö†Ô∏è Diferen√ßa: DELETE vs Desativar**\n\n| A√ß√£o | DELETE | PUT (active: false) |\n|------|--------|---------------------|\n| **Efeito** | Remove permanentemente | Mant√©m regra desativada |\n| **Revers√≠vel** | ‚ùå N√£o (precisa recriar) | ‚úÖ Sim (reativar depois) |\n| **Uso** | Regra obsoleta | Pausa tempor√°ria |\n\n**üìã Requisitos para Deletar:**\n\nPara que a exclus√£o seja permitida:\n- ‚úÖ Regra n√£o deve estar vinculada a transa√ß√µes **pendentes**\n- ‚úÖ Regra n√£o deve estar vinculada a transa√ß√µes **em processamento**\n- ‚úÖ Usu√°rio deve ter permiss√£o no estabelecimento\n\n**‚úÖ Pode deletar quando:**\n- Regra nunca foi usada\n- Todas as transa√ß√µes j√° foram liquidadas\n- Todas as transa√ß√µes foram canceladas\n\n**‚ùå N√£o pode deletar quando:**\n- H√° transa√ß√µes PENDING usando a regra\n- H√° transa√ß√µes PROCESSING usando a regra\n- H√° liquida√ß√µes em andamento\n\n**üìä Casos de Uso:**\n\n**1. Remover Regra Teste:**\n```typescript\n// Regra criada para teste, nunca usada\nDELETE /api/transactions/split/pre/99\nResponse: { \"message\": \"Regra de Split e regras associadas exclu√≠das com sucesso.\" }\n```\n\n**2. Limpar Regras Antigas:**\n```typescript\n// 1. Listar regras\nconst rules = await api.get('/api/transactions/split/pre');\n\n// 2. Filtrar regras sem uso recente\nconst oldRules = rules.data.filter(r =>\n  r.modality === 'DEBIT' && r.__meta__.ecs_count === 0\n);\n\n// 3. Deletar uma por uma\nfor (const rule of oldRules) {\n  await api.delete(`/api/transactions/split/pre/${rule.id}`);\n}\n```\n\n**3. Substituir Regra Completamente:**\n```typescript\n// 1. Deletar regra antiga\nawait api.delete('/api/transactions/split/pre/5');\n\n// 2. Criar nova regra com novos crit√©rios\nawait api.post('/api/transactions/split/pre', {\n  title: \"Nova Comiss√£o 2025\",\n  modality: \"PIX\",\n  channel: \"ALL\",\n  division: \"PERCENTAGE\",\n  active: true,\n  establishments: [\n    { id: 9999, active: true, value: 40 }\n  ]\n});\n```\n\n**‚ö†Ô∏è Observa√ß√µes Importantes:**\n\n- üîÑ **Opera√ß√£o irrevers√≠vel:** n√£o h√° \"desfazer\"\n- üìä **Backup recomendado:** fa√ßa GET antes de DELETE para guardar configura√ß√£o\n- üéØ **Transa√ß√µes antigas:** n√£o s√£o afetadas (j√° liquidadas)\n- üîí **Alternativa segura:** use PUT com `active: false` para pausar temporariamente\n- ‚è±Ô∏è **Erro 409:** se houver transa√ß√µes pendentes, aguarde liquida√ß√£o ou use desativa√ß√£o\n\n**üí° Dica de Seguran√ßa:**\n\nSempre confirme antes de deletar:\n```typescript\n// 1. Buscar detalhes da regra\nconst rule = await api.get('/api/transactions/split/pre/2');\nconsole.log(`Deletar: ${rule.title}`);\nconsole.log(`Participantes: ${rule.__meta__.ecs_count}`);\n\n// 2. Confirmar com usu√°rio\nif (confirm('Tem certeza? Esta a√ß√£o √© irrevers√≠vel!')) {\n  await api.delete('/api/transactions/split/pre/2');\n}\n```\n\n**üìñ Response da API:**\n\n```json\n{\n  \"message\": \"Regra de Split e regras associadas exclu√≠das com sucesso.\"\n}\n```\n\n**Erros Poss√≠veis:**\n\n- **404:** Regra n√£o encontrada (j√° deletada ou ID inv√°lido)\n- **403:** Sem permiss√£o no estabelecimento\n- **409:** Transa√ß√µes pendentes impedem exclus√£o\n    ",
        "operationId": "TransactionsController_deleteSplitPreRule",
        "parameters": [
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento dono da regra",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "splitId",
            "required": true,
            "in": "path",
            "description": "ID da regra de Split Pr√© a ser deletada",
            "schema": {
              "example": "2",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Regra exclu√≠da com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteSplitPreResponseDto"
                },
                "example": {
                  "message": "Regra de Split e regras associadas exclu√≠das com sucesso."
                }
              }
            }
          },
          "401": {
            "description": "N√£o autenticado"
          },
          "403": {
            "description": "Sem permiss√£o para deletar esta regra"
          },
          "404": {
            "description": "Regra n√£o encontrada",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Split Pre rule not found"
                }
              }
            }
          },
          "409": {
            "description": "N√£o √© poss√≠vel deletar (h√° transa√ß√µes pendentes vinculadas)",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 409,
                  "message": "Cannot delete rule with pending transactions"
                }
              }
            }
          }
        },
        "summary": "Deletar Regra de Split Pr√©",
        "tags": [
          "Transactions"
        ]
      }
    },
    "/api/antifraud/session": {
      "post": {
        "description": "\n**Gera um Session ID √∫nico para uso no Antifraude ClearSale.**\n\nO Session ID √© obrigat√≥rio em todas as transa√ß√µes de cr√©dito quando o antifraude est√° ativado.\n\n### üìã Caracter√≠sticas do Session ID\n\n- Deve ter entre **6 e 128 caracteres**\n- √önico por sess√£o do usu√°rio\n- V√°lido por **30 minutos**\n- Deve ser o mesmo usado no SDK Browser e na cria√ß√£o da transa√ß√£o\n\n### üîÑ Fluxo de Uso\n\n1. **Frontend chama este endpoint** para obter session_id\n2. **Frontend implementa SDK Browser** usando o session_id\n3. **Frontend espera 3 segundos** para coleta de dados\n4. **Frontend envia transa√ß√£o** incluindo session_id no payload\n\n### ‚öôÔ∏è Modos de Gera√ß√£o\n\n**Modo Autom√°tico (recomendado):**\n- N√£o envie `sessionId` no body\n- O sistema gerar√° automaticamente no formato: `sess_{timestamp}_{random}`\n\n**Modo Customizado:**\n- Envie seu pr√≥prio `sessionId` no body\n- √ötil se voc√™ j√° possui sistema de sess√£o\n\n### üí° Exemplo de Integra√ß√£o\n\n```typescript\n// 1. Gerar session_id\nconst { sessionId } = await fetch('/api/antifraud/session', {\n  method: 'POST'\n}).then(r => r.json());\n\n// 2. Implementar SDK Browser (ver endpoint GET /api/antifraud/script-config)\n// 3. Aguardar coleta (m√≠nimo 3 segundos)\n// 4. Criar transa√ß√£o incluindo session_id\nawait fetch('/api/transactions/card', {\n  method: 'POST',\n  body: JSON.stringify({\n    ...transactionData,\n    antifraud: {\n      session_id: sessionId\n    }\n  })\n});\n```\n    ",
        "operationId": "AntifraudController_generateSessionId",
        "parameters": [],
        "requestBody": {
          "required": false,
          "description": "Body opcional. Envie sessionId customizado ou deixe vazio para gera√ß√£o autom√°tica",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateSessionIdDto"
              },
              "examples": {
                "automatic": {
                  "summary": "Gera√ß√£o Autom√°tica",
                  "description": "N√£o envia body - sistema gera automaticamente",
                  "value": {}
                },
                "custom": {
                  "summary": "Session ID Customizado",
                  "description": "Fornece seu pr√≥prio session_id",
                  "value": {
                    "sessionId": "meu_session_custom_123456"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Session ID gerado com sucesso",
            "schema": {
              "example": {
                "sessionId": "sess_1702468200000_a1b2c3d4e5f6g7h8",
                "generatedAt": "2025-06-12T14:30:00.000Z",
                "expiresInMinutes": 30
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionIdResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Session ID inv√°lido (deve ter 6-128 caracteres)"
          }
        },
        "summary": "Gerar Session ID",
        "tags": [
          "Antifraud (ClearSale)"
        ]
      }
    },
    "/api/antifraud/script-config": {
      "get": {
        "description": "\n**Retorna todo o c√≥digo HTML necess√°rio para implementar o SDK Browser ClearSale.**\n\nEste endpoint fornece:\n- C√≥digo do script principal (SDK ClearSale)\n- C√≥digo noscript (fallback)\n- C√≥digo de monitoramento de bloqueio\n- Instru√ß√µes de implementa√ß√£o\n- Session ID (novo ou fornecido)\n\n### üì¶ O que √© o SDK Browser?\n\nO SDK Browser √© um script JavaScript fornecido pela ClearSale que coleta informa√ß√µes p√∫blicas do dispositivo do usu√°rio para an√°lise de fraude.\n\n**Dados coletados:**\n- Localiza√ß√£o precisa (se autorizada)\n- Identificadores de publicidade\n- Caracter√≠sticas do dispositivo (tela, bateria, hardware)\n- Caracter√≠sticas de software (vers√£o, idioma, build)\n- Informa√ß√µes de rede (IP, conex√µes)\n- Operadora do SIM Card\n\n### üéØ Onde Implementar?\n\nO script deve ser inclu√≠do **apenas em uma p√°gina** do seu site:\n- ‚úÖ P√°gina de checkout\n- ‚úÖ P√°gina de dados de pagamento\n- ‚úÖ P√°gina com formul√°rio interativo\n\n**Localiza√ß√£o no HTML:**\n- `scriptCode`: antes do `</body>`\n- `noscriptCode`: logo ap√≥s o `scriptCode`\n- `monitoringCode`: no `<head>` ou rodap√©\n\n### ‚öôÔ∏è Par√¢metros de Configura√ß√£o\n\n**session_id (query):**\n- Se fornecido, ser√° usado no script\n- Se omitido, ser√° gerado automaticamente\n\n**inputElementId (query):**\n- ID de um `<input type=\"hidden\">` onde o session_id ser√° armazenado\n- √ötil para Google Tag Manager\n- Se fornecido, o script usar√° `outputsessionid` em vez de `sessionid`\n\n### üí° Exemplo de Uso\n\n```html\n<!-- 1. Criar input hidden para receber session_id -->\n<input type=\"hidden\" id=\"antifraud-session-id\" value=\"\"/>\n\n<!-- 2. Obter configura√ß√£o do script -->\n<script>\n  fetch('/api/antifraud/script-config?inputElementId=antifraud-session-id')\n    .then(r => r.json())\n    .then(config => {\n      // 3. Inserir scripts na p√°gina\n      document.body.insertAdjacentHTML('beforeend', config.scriptCode);\n      document.body.insertAdjacentHTML('beforeend', config.noscriptCode);\n      document.head.insertAdjacentHTML('beforeend', config.monitoringCode);\n\n      // 4. Aguardar coleta (3 segundos)\n      setTimeout(() => {\n        const sessionId = document.getElementById('antifraud-session-id').value;\n        console.log('Session ID:', sessionId);\n      }, 3000);\n    });\n</script>\n```\n\n### ‚è±Ô∏è Tempo de Execu√ß√£o\n\n- O script executa em **menos de 3 segundos** geralmente\n- **Aguarde pelo menos 3 segundos** antes de submeter o formul√°rio de pagamento\n- Evita que o usu√°rio saia da p√°gina antes da coleta completa\n\n### üîí Privacidade e LGPD\n\nTodas as informa√ß√µes coletadas s√£o para **preven√ß√£o de fraude** e prote√ß√£o do usu√°rio:\n- Aderente √† LGPD e pol√≠ticas Google/Apple\n- Deve constar na pol√≠tica de privacidade do seu aplicativo\n- N√£o coleta dados sens√≠veis pessoais\n    ",
        "operationId": "AntifraudController_getScriptConfig",
        "parameters": [
          {
            "name": "sessionId",
            "required": false,
            "in": "query",
            "description": "Session ID existente (6-128 caracteres). Se omitido, ser√° gerado automaticamente",
            "schema": {
              "example": "sess_1702468200000_a1b2c3d4e5f6g7h8",
              "type": "string"
            }
          },
          {
            "name": "inputElementId",
            "required": false,
            "in": "query",
            "description": "ID do elemento <input> onde o session_id ser√° armazenado (√∫til para GTM)",
            "schema": {
              "example": "antifraud-session-id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Configura√ß√£o do SDK Browser retornada com sucesso",
            "schema": {
              "example": {
                "appKey": "paytime_app_key_12345",
                "scriptUrl": "https://device.clearsale.com.br/p/fp.js",
                "monitorUrl": "https://web.fpcs-monitor.com.br/p/fp.png",
                "scriptCode": "<script>\n    (function (a, b, c, d, e, f, g) {\n    a['CsdpObject'] = e; a[e] = a[e] || function () {\n    (a[e].q = a[e].q || []).push(arguments)\n    }, a[e].l = 1 * new Date(); f = b.createElement(c),\n    g = b.getElementsByTagName(c)[0]; f.async = 1; f.src = d; g.parentNode.insertBefore(f, g)\n    })(window, document, 'script', 'https://device.clearsale.com.br/p/fp.js', 'csdp');\n    csdp('app', 'paytime_app_key_12345');\n    csdp('sessionid', 'sess_1702468200000_a1b2c3d4e5f6g7h8');\n</script>",
                "noscriptCode": "<noscript>\n    <img src=\"https://device.clearsale.com.br/p/fp.png?sid=sess_1702468200000_a1b2c3d4e5f6g7h8&app=paytime_app_key_12345&ns=1\" />\n</noscript>",
                "monitoringCode": "<script>\n    function checkUrl(url){\n        let request = new XMLHttpRequest();\n        request.open( \"GET\", url, true );\n        request.send(null);\n        request.onerror = (event) => {\n            request.open(\"GET\", \"https://web.fpcs-monitor.com.br/p/fp.png?sid=sess_1702468200000_a1b2c3d4e5f6g7h8&app=paytime_app_key_12345&bl=1\", false);\n            request.send(null);\n        }\n    }\n    checkUrl(\"https://device.clearsale.com.br/p/fp.png\");\n</script>",
                "sessionId": "sess_1702468200000_a1b2c3d4e5f6g7h8",
                "instructions": [
                  "1. Incluir scriptCode antes do </body> da p√°gina de checkout",
                  "2. Incluir noscriptCode logo ap√≥s o scriptCode",
                  "3. Incluir monitoringCode no <head> ou rodap√© da p√°gina",
                  "4. Usar o sessionId retornado no campo \"session_id\" ao criar transa√ß√£o de cr√©dito",
                  "5. Aguardar pelo menos 3 segundos antes de submeter o formul√°rio de pagamento"
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScriptConfigResponseDto"
                }
              }
            }
          }
        },
        "summary": "Obter Configura√ß√£o do SDK Browser",
        "tags": [
          "Antifraud (ClearSale)"
        ]
      }
    },
    "/api/antifraud/test-behavior": {
      "get": {
        "description": "\n**Simula o comportamento esperado do antifraude baseado no √∫ltimo d√≠gito do telefone.**\n\nEste endpoint √© √∫til para **testes em sandbox** e para entender as regras de valida√ß√£o.\n\n### üìä Regras de Comportamento\n\n#### ‚úÖ Antifraude HABILITADO\n\n| √öltimo D√≠gito | Status Inicial | Status Antifraude | Status Final | Webhook? |\n|---------------|----------------|-------------------|--------------|----------|\n| 2             | FAILED         | FAILED            | FAILED       | ‚ùå N√£o    |\n| Outros        | PENDING        | APPROVED          | PAID         | ‚úÖ Sim    |\n\n**Explica√ß√£o:**\n- Telefone terminando em **2**: transa√ß√£o falha imediatamente com status FAILED\n- Telefone com **outros d√≠gitos**: transa√ß√£o inicia PENDING, antifraude aprova (APPROVED), status final PAID vem via webhook\n\n#### ‚ùå Antifraude DESABILITADO\n\n| √öltimo D√≠gito | Status Inicial | Status Antifraude | Status Final | Webhook? |\n|---------------|----------------|-------------------|--------------|----------|\n| 4             | PENDING        | NO_ANALYSED       | FAILED       | ‚úÖ Sim    |\n| Outros        | PENDING        | NO_ANALYSED       | PAID         | ‚úÖ Sim    |\n\n**Explica√ß√£o:**\n- Telefone terminando em **4**: transa√ß√£o inicia PENDING, falha (FAILED) via webhook\n- Telefone com **outros d√≠gitos**: transa√ß√£o inicia PENDING, aprova (PAID) via webhook\n\n### üéØ Casos de Teste Recomendados\n\n```javascript\n// Teste 1: Antifraude ativo + falha imediata\ntestAntifraud('31992831122', true); // √öltimo d√≠gito 2 ‚Üí FAILED imediato\n\n// Teste 2: Antifraude ativo + aprova√ß√£o\ntestAntifraud('31992831125', true); // √öltimo d√≠gito 5 ‚Üí PENDING ‚Üí PAID\n\n// Teste 3: Sem antifraude + falha webhook\ntestAntifraud('31992831124', false); // √öltimo d√≠gito 4 ‚Üí PENDING ‚Üí FAILED\n\n// Teste 4: Sem antifraude + aprova√ß√£o\ntestAntifraud('31992831127', false); // √öltimo d√≠gito 7 ‚Üí PENDING ‚Üí PAID\n```\n\n### üí° Exemplo de Uso\n\n```bash\n# Testar com antifraude habilitado\ncurl 'http://localhost:3001/api/antifraud/test-behavior?phone=31992831122&antifraudEnabled=true'\n\n# Testar sem antifraude\ncurl 'http://localhost:3001/api/antifraud/test-behavior?phone=31992831124&antifraudEnabled=false'\n```\n\n### ‚ö†Ô∏è Importante\n\n- Estas regras aplicam-se apenas ao **ambiente sandbox**\n- Em **produ√ß√£o**, o comportamento real depende da an√°lise da ClearSale\n- Use este endpoint para **planejar testes automatizados** e validar integra√ß√£o\n    ",
        "operationId": "AntifraudController_testAntifraudBehavior",
        "parameters": [
          {
            "name": "phone",
            "required": true,
            "in": "query",
            "description": "N√∫mero de telefone completo (usado para extrair √∫ltimo d√≠gito)",
            "schema": {
              "example": "31992831122",
              "type": "string"
            }
          },
          {
            "name": "antifraudEnabled",
            "required": true,
            "in": "query",
            "description": "Se o antifraude est√° habilitado para o estabelecimento",
            "schema": {
              "example": true,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Comportamento esperado do antifraude",
            "schema": {
              "example": {
                "lastPhoneDigit": 2,
                "expectedStatus": "FAILED",
                "expectedAntifraudStatus": "FAILED",
                "antifraudEnabled": true,
                "behavior": "Com antifraude ativo e telefone terminando em 2, transa√ß√£o falha imediatamente com status FAILED",
                "webhookRequired": false
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AntifraudTestResponseDto"
                }
              }
            }
          }
        },
        "summary": "Testar Comportamento do Antifraude",
        "tags": [
          "Antifraud (ClearSale)"
        ]
      }
    },
    "/api/antifraud/threeds/sdk-config": {
      "get": {
        "description": "\n**Retorna todo o c√≥digo necess√°rio para implementar o SDK 3DS PagBank.**\n\n### üîê O que √© 3DS?\n\n**3DS (Three Domain Secure)** √© um protocolo de autentica√ß√£o usado em transa√ß√µes online com cart√£o para garantir a seguran√ßa do pagamento.\n\n**Benef√≠cios:**\n- ‚úÖ Reduz riscos de fraude\n- ‚úÖ Diminui chargebacks\n- ‚úÖ Aumenta taxa de aprova√ß√£o\n- ‚úÖ Transfere responsabilidade de fraude para o emissor do cart√£o\n\n### üéØ Quando √© Necess√°rio?\n\nO 3DS √© **obrigat√≥rio** quando a transa√ß√£o retorna:\n- `status`: `PENDING`\n- `antifraud.analyse_required`: `THREEDS`\n- `antifraud.analyse_status`: `WAITING_AUTH`\n\n### üìã Fluxo de Implementa√ß√£o\n\n1. **Criar transa√ß√£o de cr√©dito** (POST /api/transactions/card)\n2. **Verificar resposta**: se `analyse_required: THREEDS`, continuar\n3. **Extrair session** do array `antifraud`\n4. **Incluir SDK PagBank** na p√°gina (scriptTag)\n5. **Inicializar SDK** com session e environment\n6. **Montar payload** com dados completos (cliente, cart√£o, endere√ßos)\n7. **Chamar authenticate3DS** do SDK\n8. **Aguardar resultado** (AUTH_FLOW_COMPLETED, etc.)\n9. **Enviar resultado** para POST /api/antifraud/threeds/:id/authenticate\n10. **Obter novo ID** da transa√ß√£o autenticada\n\n### üîÑ Poss√≠veis Respostas do SDK\n\n| Status | Descri√ß√£o |\n|--------|-----------|\n| `AUTH_FLOW_COMPLETED` | Autentica√ß√£o conclu√≠da com sucesso |\n| `AUTH_NOT_SUPPORTED` | Cart√£o n√£o suporta 3DS |\n| `CHANGE_PAYMENT_METHOD` | Recomendado trocar forma de pagamento |\n\n### üí° Exemplo de Uso Completo\n\n```javascript\n// 1. Criar transa√ß√£o\nconst transaction = await fetch('/api/transactions/card', {\n  method: 'POST',\n  body: JSON.stringify({ /* dados da transa√ß√£o */ })\n}).then(r => r.json());\n\n// 2. Verificar se precisa 3DS\nconst needsThreeDS = transaction.antifraud?.some(\n  af => af.analyse_required === 'THREEDS' && af.analyse_status === 'WAITING_AUTH'\n);\n\nif (needsThreeDS) {\n  // 3. Obter session\n  const session = transaction.antifraud.find(af => af.session).session;\n\n  // 4. Obter configura√ß√£o do SDK\n  const config = await fetch(`/api/antifraud/threeds/sdk-config?session=${session}`)\n    .then(r => r.json());\n\n  // 5. Incluir SDK na p√°gina\n  document.body.insertAdjacentHTML('beforeend', config.scriptTag);\n\n  // 6. Aguardar carregamento do SDK\n  setTimeout(() => {\n    // 7. Inicializar\n    eval(config.setupCode);\n\n    // 8. Chamar autentica√ß√£o (usar authenticationCode como base)\n    const request = { /* montar payload */ };\n    PagSeguro.authenticate3DS(request)\n      .then(result => {\n        // 9. Enviar resultado\n        fetch(`/api/antifraud/threeds/${transaction._id}/authenticate`, {\n          method: 'POST',\n          headers: { 'establishment_id': '1234' },\n          body: JSON.stringify(result)\n        });\n      });\n  }, 1000);\n}\n```\n\n### ‚ö†Ô∏è Importante\n\n- A transa√ß√£o fica com `status: PENDING` at√© autentica√ß√£o\n- Transa√ß√µes n√£o autenticadas **n√£o s√£o listadas**\n- Ap√≥s autentica√ß√£o bem-sucedida, **novo ID** pode ser retornado\n- Use o novo ID para consultas futuras\n    ",
        "operationId": "ThreeDSController_getSDKConfig",
        "parameters": [
          {
            "name": "session",
            "required": false,
            "in": "query",
            "description": "Session retornada no array antifraud da transa√ß√£o",
            "schema": {
              "example": "sess_abc123xyz789",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Configura√ß√£o do SDK 3DS retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreeDSConfigResponseDto"
                }
              }
            }
          }
        },
        "summary": "Obter Configura√ß√£o do SDK 3DS",
        "tags": [
          "Antifraud (3DS)"
        ]
      }
    },
    "/api/antifraud/threeds/{id}/authenticate": {
      "post": {
        "description": "\n**Envia o resultado da autentica√ß√£o 3DS para a Paytime.**\n\nEste endpoint deve ser chamado **ap√≥s** o SDK PagBank retornar o resultado da autentica√ß√£o.\n\n### üìã Quando Chamar?\n\nDepois que o m√©todo `PagSeguro.authenticate3DS()` retornar sucesso com um dos status:\n- `AUTH_FLOW_COMPLETED`\n- `AUTH_NOT_SUPPORTED`\n- `CHANGE_PAYMENT_METHOD`\n\n### üîÑ Fluxo Completo\n\n1. **Frontend chama SDK** `PagSeguro.authenticate3DS()`\n2. **SDK retorna resultado** com `id`, `status`, `authentication_status`\n3. **Frontend chama este endpoint** enviando o resultado\n4. **Backend envia para Paytime** via POST /v1/marketplace/transactions/:id/antifraud-auth\n5. **Paytime processa autentica√ß√£o**\n6. **Novo ID pode ser retornado** (usar para consultas futuras)\n\n### üÜî Novo ID da Transa√ß√£o\n\n**Importante:** Ap√≥s autentica√ß√£o 3DS bem-sucedida:\n- **Sem antifraude:** ID permanece o mesmo\n- **Com antifraude:** Novo ID √© retornado no campo `new_transaction_id`\n\nUse sempre o **novo ID** (se fornecido) para consultas e opera√ß√µes futuras.\n\n### üí° Exemplo de Uso\n\n```javascript\n// 1. SDK retorna resultado\nPagSeguro.authenticate3DS(request).then(result => {\n  // result cont√©m: { id, status, authentication_status }\n\n  // 2. Enviar para backend\n  fetch('/api/antifraud/threeds/681258717903c84441e0e823/authenticate', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'establishment_id': '1234'\n    },\n    body: JSON.stringify({\n      id: result.id,\n      status: result.status,\n      authentication_status: result.authentication_status\n    })\n  })\n  .then(response => response.json())\n  .then(data => {\n    console.log('Autenticado:', data);\n    // Usar data.new_transaction_id se fornecido\n    const transactionId = data.new_transaction_id || data.transaction_id;\n    console.log('ID final da transa√ß√£o:', transactionId);\n  });\n});\n```\n\n### ‚ö†Ô∏è Tratamento de Erros\n\nSe o SDK retornar erro, ainda assim voc√™ pode tentar enviar:\n- `status: CHANGE_PAYMENT_METHOD`\n- `authentication_status: NOT_AUTHENTICATED`\n\nIsso permite que a Paytime tome decis√£o sobre prosseguir ou n√£o.\n    ",
        "operationId": "ThreeDSController_authenticate3DS",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transa√ß√£o a ser autenticada",
            "schema": {
              "example": "681258717903c84441e0e823",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento",
            "schema": {
              "type": "string",
              "example": "1234"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Resultado retornado pelo SDK PagBank",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Authenticate3DSDto"
              },
              "examples": {
                "authenticated": {
                  "summary": "Autentica√ß√£o Bem-Sucedida",
                  "value": {
                    "id": "7292865a9-3ce8-47c2-a8e0-40ba7ac08b96",
                    "status": "AUTH_FLOW_COMPLETED",
                    "authentication_status": "AUTHENTICATED"
                  }
                },
                "notAuthenticated": {
                  "summary": "N√£o Autenticado",
                  "value": {
                    "id": "7292865a9-3ce8-47c2-a8e0-40ba7ac08b96",
                    "status": "AUTH_FLOW_COMPLETED",
                    "authentication_status": "NOT_AUTHENTICATED"
                  }
                },
                "notSupported": {
                  "summary": "Cart√£o N√£o Suporta 3DS",
                  "value": {
                    "id": "7292865a9-3ce8-47c2-a8e0-40ba7ac08b96",
                    "status": "AUTH_NOT_SUPPORTED",
                    "authentication_status": "NOT_AUTHENTICATED"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Autentica√ß√£o 3DS processada com sucesso",
            "schema": {
              "example": {
                "message": "Autentica√ß√£o 3DS processada com sucesso",
                "transaction_id": "681258717903c84441e0e823",
                "authentication_status": "AUTHENTICATED",
                "threeds_status": "AUTH_FLOW_COMPLETED",
                "new_transaction_id": "681258717903c84441e0e999"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreeDSAuthResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos ou establishment_id n√£o fornecido"
          },
          "404": {
            "description": "Transa√ß√£o n√£o encontrada"
          }
        },
        "summary": "Autenticar Transa√ß√£o 3DS",
        "tags": [
          "Antifraud (3DS)"
        ]
      }
    },
    "/api/antifraud/threeds/test-cards": {
      "get": {
        "description": "\n**Retorna lista completa de cart√µes para testes de autentica√ß√£o 3DS.**\n\n### üéØ Objetivo\n\nFornece cart√µes de teste para simular **todos os cen√°rios poss√≠veis** de autentica√ß√£o 3DS em ambiente sandbox.\n\n### üìä Cen√°rios de Teste\n\n#### ‚úÖ Transa√ß√µes Aprovadas (PAID)\n\n1. **Autenticado sem desafio**\n   - Cart√£o: `4000000000002701` (Visa), `5200000000001005` (Mastercard)\n   - Valor: `2701`, `1005`\n   - Resultado: `PAID` + `AUTHENTICATED`\n\n2. **Autenticado com desafio**\n   - Cart√£o: `4000000000002503` (Visa), `5200000000001096` (Mastercard)\n   - Valor: `2503`, `1096`\n   - Resultado: `PAID` + `AUTHENTICATED`\n   - **Desafio:** usu√°rio precisa confirmar (senha, SMS, biometria)\n\n3. **N√£o autenticado sem desafio**\n   - Cart√£o: `4000000000002925` (Visa), `5200000000001013` (Mastercard)\n   - Valor: `2925`, `1013`\n   - Resultado: `PAID` + `NOT_AUTHENTICATED`\n\n4. **N√£o autenticado com desafio**\n   - Cart√£o: `4000000000002370` (Visa), `5200000000001104` (Mastercard)\n   - Valor: `2370`, `1104`\n   - Resultado: `PAID` + `NOT_AUTHENTICATED`\n\n#### ‚ùå Transa√ß√µes Recusadas (DECLINED)\n\nMesmo comportamento acima, mas com **valores diferentes** para for√ßar recusa:\n- Visa: `4000` a `4005`\n- Mastercard: `5201` a `5206`\n- Link: `4001`, `6501`, `6508`, `6509`\n\n### üí° Como Usar\n\n```javascript\n// 1. Obter cart√µes de teste\nconst testCards = await fetch('/api/antifraud/threeds/test-cards')\n  .then(r => r.json());\n\n// 2. Filtrar cen√°rio desejado\nconst authenticatedCard = testCards.cards.find(\n  card => card.threeds_status === 'AUTHENTICATED' &&\n          card.charges_status === 'PAID' &&\n          card.behavior.includes('without challenge')\n);\n\n// 3. Usar em transa√ß√£o\nconst transaction = await fetch('/api/transactions/card', {\n  method: 'POST',\n  body: JSON.stringify({\n    card: {\n      number: authenticatedCard.card_number,\n      // ...outros dados\n    },\n    amount: authenticatedCard.amount,\n    // ...\n  })\n});\n```\n\n### üîç Categorias Dispon√≠veis\n\n- Autenticado sem desafio (PAID) - 3 cart√µes\n- Autenticado com desafio (PAID) - 3 cart√µes\n- N√£o autenticado sem desafio (PAID) - 3 cart√µes\n- N√£o autenticado com desafio (PAID) - 3 cart√µes\n- Autenticado sem desafio (DECLINED) - 3 cart√µes\n- Autenticado com desafio (DECLINED) - 3 cart√µes\n\n**Total:** 18 cart√µes de teste\n\n### ‚ö†Ô∏è Importante\n\n- Estes cart√µes **s√≥ funcionam em ambiente SANDBOX**\n- Em **produ√ß√£o**, o comportamento depende do emissor real do cart√£o\n- Use estes cart√µes para **testes automatizados** e valida√ß√£o de integra√ß√£o\n    ",
        "operationId": "ThreeDSController_getTestCards",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Lista de cart√µes de teste retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestCardsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Listar Cart√µes de Teste 3DS",
        "tags": [
          "Antifraud (3DS)"
        ]
      }
    },
    "/api/antifraud/idpay/sdk-config": {
      "get": {
        "description": "\n**Retorna todo o c√≥digo necess√°rio para implementar o SDK IDPAY da Unico.**\n\n### üîê O que √© IDPAY?\n\n**IDPAY** √© uma solu√ß√£o de autentica√ß√£o biom√©trica da Unico que garante a identidade do comprador atrav√©s de:\n- ‚úÖ Reconhecimento facial\n- ‚úÖ Valida√ß√£o de documentos\n- ‚úÖ Prova de vida (liveness)\n- ‚úÖ An√°lise antifraude em tempo real\n\n**Benef√≠cios:**\n- ‚úÖ Reduz fraudes em at√© 95%\n- ‚úÖ Elimina chargebacks por fraude\n- ‚úÖ Aumenta taxa de aprova√ß√£o\n- ‚úÖ Transfere responsabilidade de fraude para o provedor\n- ‚úÖ Experi√™ncia do usu√°rio em segundos\n\n### üéØ Quando √© Necess√°rio?\n\nO IDPAY √© **obrigat√≥rio** quando a transa√ß√£o retorna:\n- `status`: `PENDING`\n- `antifraud.analyse_required`: `IDPAY`\n- `antifraud.analyse_status`: `WAITING_AUTH`\n\n### üìã Requisitos Obrigat√≥rios\n\n‚ö†Ô∏è **ANTES DE USAR EM PRODU√á√ÉO:**\n1. **Informar dom√≠nios** √† Paytime/Unico no roteiro de homologa√ß√£o\n2. Apenas **dom√≠nios autorizados** podem carregar o SDK\n3. SDK deve ser implementado em **fullscreen** (tela cheia)\n4. **N√£o usar** dentro de webview\n5. **N√£o usar** tag HTML direta para iframe\n\n### üöÄ Fluxo de Implementa√ß√£o\n\n1. **Instalar SDK:** `npm install idpay-b2b-sdk`\n2. **Importar SDK** no componente de checkout\n3. **Inicializar** uma vez com `IDPaySDK.init()`\n4. **Criar transa√ß√£o** de cr√©dito\n5. **Verificar resposta**: se `analyse_required: IDPAY`, continuar\n6. **Extrair dados**: `antifraud_id` e `session`\n7. **Abrir SDK** em fullscreen com `IDPaySDK.open()`\n8. **Implementar callback** `onFinish`\n9. **Enviar resultado** para backend\n10. **Novo ID** pode ser retornado\n\n### üîÑ Tipos de Fluxo\n\n| Tipo | Descri√ß√£o | Recomendado |\n|------|-----------|-------------|\n| `IFRAME` | Experi√™ncia integrada na p√°gina | ‚úÖ Sim |\n| `REDIRECT` | Redireciona para p√°gina Unico | ‚ùå N√£o |\n\n**Use sempre IFRAME** para melhor convers√£o e experi√™ncia.\n\n### üí° Exemplo Completo React\n\n```typescript\nimport { useEffect, useState } from 'react';\nimport { IDPaySDK } from 'idpay-b2b-sdk';\n\nfunction Checkout() {\n  const [idpayReady, setIdpayReady] = useState(false);\n\n  // 1. Inicializar SDK (apenas uma vez)\n  useEffect(() => {\n    IDPaySDK.init({\n      type: 'IFRAME',\n      env: 'uat' // Remover em produ√ß√£o\n    });\n    setIdpayReady(true);\n  }, []);\n\n  const handlePayment = async () => {\n    // 2. Criar transa√ß√£o\n    const transaction = await fetch('/api/transactions/card', {\n      method: 'POST',\n      body: JSON.stringify({ /* dados */ })\n    }).then(r => r.json());\n\n    // 3. Verificar se precisa IDPAY\n    const needsIDPay = transaction.antifraud?.some(\n      af => af.analyse_required === 'IDPAY'\n    );\n\n    if (needsIDPay && idpayReady) {\n      const idpay = transaction.antifraud.find(\n        af => af.analyse_required === 'IDPAY'\n      );\n\n      // 4. Abrir IDPAY (IDPaySDK.open recebe antifraud_id internamente)\n      IDPaySDK.open({\n        transactionId: idpay.antifraud_id,\n        token: idpay.session,\n        onFinish: async (result, type) => {\n          if (type === 'FINISH') {\n            // 5. Enviar para backend (path usa transaction._id; body inclui antifraud_id como \"id\")\n            await fetch(`/api/antifraud/idpay/${transaction._id}/authenticate`, {\n              method: 'POST',\n              headers: { 'establishment_id': '1234' },\n              body: JSON.stringify({\n                id: idpay.antifraud_id,\n                concluded: result.concluded,\n                capture_concluded: result.captureConcluded\n              })\n            });\n          }\n        }\n      });\n    }\n  };\n\n  return <button onClick={handlePayment}>Pagar</button>;\n}\n```\n\n### üîí Seguran√ßa\n\n- SDK usa **tokens √∫nicos** por transa√ß√£o\n- **iframes isolados** protegem contra XSS\n- **Dom√≠nios din√¢micos** suportados via autentica√ß√£o\n- **N√£o exp√µe** lista de dom√≠nios autorizados\n- **CSP n√£o necess√°rio** (seguran√ßa via token)\n\n### ‚ö†Ô∏è Importante\n\n- Transa√ß√£o fica `PENDING` at√© autentica√ß√£o\n- **Novo ID** pode ser retornado ap√≥s IDPAY\n- Use novo ID para consultas futuras\n- Implementa√ß√£o **deve ser fullscreen**\n- Dom√≠nios **devem ser pr√©-autorizados**\n\nüìö **Documenta√ß√£o Unico:** https://devcenter.unico.io/unico-idpay/integracao/controlando-a-experiencia/web/sdk\n    ",
        "operationId": "IDPayController_getSDKConfig",
        "parameters": [
          {
            "name": "domains",
            "required": false,
            "in": "query",
            "description": "Lista de dom√≠nios autorizados (separados por v√≠rgula). Estes dom√≠nios devem ser informados √† Paytime",
            "schema": {
              "example": "https://seudominio.com,https://checkout.seudominio.com",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Configura√ß√£o do SDK IDPAY retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IDPayConfigResponseDto"
                }
              }
            }
          }
        },
        "summary": "Obter Configura√ß√£o do SDK IDPAY",
        "tags": [
          "Antifraud (IDPAY)"
        ]
      }
    },
    "/api/antifraud/idpay/{id}/authenticate": {
      "post": {
        "description": "\n**Envia o resultado da autentica√ß√£o biom√©trica IDPAY para a Paytime.**\n\nEste endpoint deve ser chamado **ap√≥s** o SDK Unico retornar o resultado no callback `onFinish`.\n\n### üìã Quando Chamar?\n\nDepois que o m√©todo `IDPaySDK.open()` invocar o callback `onFinish` com `type === 'FINISH'`:\n\n```javascript\nIDPaySDK.open({\n  transactionId,\n  token,\n  onFinish: (transaction, type) => {\n    if (type === 'FINISH') {\n      // ‚úÖ Chamar este endpoint aqui\n      fetch('/api/antifraud/idpay/' + transactionId + '/authenticate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'establishment_id': '1234'\n        },\n        body: JSON.stringify({\n          concluded: transaction.concluded,\n          capture_concluded: transaction.captureConcluded\n        })\n      });\n    } else if (type === 'ERROR') {\n      // ‚ùå Erro no fluxo IDPAY\n      console.error('IDPAY falhou');\n    }\n  }\n});\n```\n\n### üîÑ Fluxo Completo\n\n1. **Frontend abre SDK** `IDPaySDK.open()`\n2. **Usu√°rio completa biometria** (selfie, documento, prova de vida)\n3. **SDK retorna resultado** via callback `onFinish`\n4. **Frontend chama este endpoint** com `concluded` e `capture_concluded`\n5. **Backend envia para Paytime** via POST /v1/marketplace/transactions/:id/antifraud-auth\n6. **Paytime processa autentica√ß√£o**\n7. **Novo ID pode ser retornado** (usar para consultas futuras)\n\n### üÜî Novo ID da Transa√ß√£o\n\n**Importante:** Ap√≥s autentica√ß√£o IDPAY bem-sucedida:\n- **Sem antifraude:** ID permanece o mesmo\n- **Com antifraude:** Novo ID √© retornado no campo `new_transaction_id`\n\nUse sempre o **novo ID** (se fornecido) para consultas e opera√ß√µes futuras.\n\n### üìä Campos do Body\n\n| Campo | Tipo | Descri√ß√£o |\n|-------|------|-----------|\n| `concluded` | boolean | Se o fluxo de verifica√ß√£o foi conclu√≠do com sucesso |\n| `capture_concluded` | boolean | Se a captura biom√©trica foi realizada corretamente |\n\nAmbos os campos v√™m do objeto `transaction` retornado pelo SDK:\n- `transaction.concluded`\n- `transaction.captureConcluded` (converter para snake_case)\n\n### üí° Exemplo de Uso\n\n```typescript\n// 1. SDK retorna resultado\nIDPaySDK.open({\n  transactionId: antifraudId, // antifraud_id (passado internamente ao SDK)\n  token,\n  onFinish: async (transaction, type) => {\n    if (type === 'FINISH') {\n      // 2. Enviar para backend (path = transaction._id; body inclui antifraud_id como \"id\")\n      const response = await fetch(\n        '/api/antifraud/idpay/681258717903c84441e0e823/authenticate', // 681... = transaction._id\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'establishment_id': '1234'\n          },\n          body: JSON.stringify({\n            id: antifraudId,  // antifraud_id do array antifraud\n            concluded: transaction.concluded,\n            capture_concluded: transaction.captureConcluded\n          })\n        }\n      );\n\n      const data = await response.json();\n      console.log('Autentica√ß√£o IDPAY:', data);\n\n      // 3. Usar novo ID se fornecido\n      const finalId = data.new_transaction_id || data.transaction_id;\n      console.log('ID final:', finalId);\n    } else if (type === 'ERROR') {\n      // Fluxo interrompido por erro\n      console.error('Erro no IDPAY');\n      // Pode tentar novamente ou usar outra forma de pagamento\n    }\n  }\n});\n```\n\n### ‚ö†Ô∏è Tratamento de Erros\n\nSe `type === 'ERROR'`:\n- **N√£o chamar** este endpoint\n- Transa√ß√£o permanece `PENDING`\n- **Pode tentar novamente** abrindo SDK novamente\n- Ou **oferecer outra forma** de pagamento\n\n### üîí Webhook\n\nAp√≥s autentica√ß√£o bem-sucedida:\n- Status da transa√ß√£o √© atualizado\n- **Webhook √© disparado** (se configurado)\n- Use webhook para atualizar status no seu sistema\n    ",
        "operationId": "IDPayController_authenticateIDPay",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transa√ß√£o a ser autenticada (antifraud_id)",
            "schema": {
              "example": "681258717903c84441e0e823",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento",
            "schema": {
              "type": "string",
              "example": "1234"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Resultado retornado pelo callback onFinish do SDK Unico",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthenticateIDPayDto"
              },
              "examples": {
                "success": {
                  "summary": "Autentica√ß√£o Bem-Sucedida",
                  "description": "Fluxo completo com biometria aprovada",
                  "value": {
                    "concluded": true,
                    "capture_concluded": true
                  }
                },
                "partialSuccess": {
                  "summary": "Fluxo Conclu√≠do mas Captura Falhou",
                  "description": "Usu√°rio completou fluxo mas biometria teve problema t√©cnico",
                  "value": {
                    "concluded": true,
                    "capture_concluded": false
                  }
                },
                "failed": {
                  "summary": "Fluxo N√£o Conclu√≠do",
                  "description": "Usu√°rio n√£o completou o fluxo",
                  "value": {
                    "concluded": false,
                    "capture_concluded": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Autentica√ß√£o IDPAY processada com sucesso",
            "schema": {
              "example": {
                "message": "Autentica√ß√£o IDPAY processada com sucesso",
                "transaction_id": "681258717903c84441e0e823",
                "concluded": true,
                "capture_concluded": true,
                "new_transaction_id": "681258717903c84441e0e999"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IDPayAuthResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos ou establishment_id n√£o fornecido"
          },
          "404": {
            "description": "Transa√ß√£o n√£o encontrada"
          }
        },
        "summary": "Autenticar Transa√ß√£o IDPAY",
        "tags": [
          "Antifraud (IDPAY)"
        ]
      }
    },
    "/api/liquidations": {
      "get": {
        "description": "Retorna listagem completa de liquida√ß√µes do Marketplace com valores, participantes, pagamentos, planos e hist√≥rico",
        "operationId": "LiquidationsController_listLiquidations",
        "parameters": [
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON com filtros aplic√°veis",
            "schema": {
              "example": "{\"status\":\"PAID\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Texto de busca",
            "schema": {
              "example": "Estabelecimento",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "P√°gina atual",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com lista de ordenadores",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liquida√ß√µes listadas com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListLiquidationsResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Par√¢metros inv√°lidos",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Invalid filters format",
                  "error": "Bad Request"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado (token inv√°lido ou ausente)",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Invalid or missing authentication token",
                  "error": "Unauthorized"
                }
              }
            }
          }
        },
        "summary": "Listar liquida√ß√µes completas",
        "tags": [
          "Liquidations (Marketplace)"
        ]
      }
    },
    "/api/liquidations/extract": {
      "get": {
        "description": "Retorna listagem resumida de liquida√ß√µes para relat√≥rios de repasse, confer√™ncias financeiras e concilia√ß√£o banc√°ria",
        "operationId": "LiquidationsController_listLiquidationsExtract",
        "parameters": [
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON com filtros aplic√°veis",
            "schema": {
              "example": "{\"status\":\"CREATED\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Texto de busca",
            "schema": {
              "example": "Estabelecimento",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "P√°gina atual",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com lista de ordenadores",
            "schema": {
              "example": "[{\"column\":\"liquidation\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liquida√ß√µes sumarizadas listadas com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListLiquidationsExtractResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Par√¢metros inv√°lidos",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Invalid filters format",
                  "error": "Bad Request"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado (token inv√°lido ou ausente)",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Invalid or missing authentication token",
                  "error": "Unauthorized"
                }
              }
            }
          }
        },
        "summary": "Listar liquida√ß√µes sumarizadas",
        "tags": [
          "Liquidations (Marketplace)"
        ]
      }
    },
    "/api/liquidations/{id}/payments/{paymentId}/transfer": {
      "get": {
        "description": "Retorna informa√ß√µes completas de uma transfer√™ncia espec√≠fica vinculada a um pagamento dentro de uma liquida√ß√£o",
        "operationId": "LiquidationsController_getTransfer",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da liquida√ß√£o associada √† transfer√™ncia",
            "schema": {
              "example": "6720c0e72b1f2399b8e00000",
              "type": "string"
            }
          },
          {
            "name": "paymentId",
            "required": true,
            "in": "path",
            "description": "ID do pagamento relacionado √† transfer√™ncia",
            "schema": {
              "example": "0000c0e72b1f2399b8e00000",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transfer√™ncia encontrada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransferResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Requisi√ß√£o inv√°lida (IDs malformados)",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Invalid liquidation_id or payment_id format",
                  "error": "Bad Request"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado (token inv√°lido ou ausente)",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Invalid or missing authentication token",
                  "error": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Transfer√™ncia n√£o encontrada",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 404,
                  "message": "Transfer not found",
                  "error": "Not Found"
                }
              }
            }
          }
        },
        "summary": "Exibir transfer√™ncia",
        "tags": [
          "Liquidations (Marketplace)"
        ]
      }
    },
    "/api/establishments": {
      "get": {
        "description": "\n# Listar Estabelecimentos\n\nLista todos os estabelecimentos cadastrados no Marketplace com suporte a filtros, busca textual, pagina√ß√£o e ordena√ß√£o.\n\n## Par√¢metros de Query\n\n### filters (opcional)\nString JSON contendo filtros espec√≠ficos:\n```json\n{\n  \"status\": \"APPROVED\",\n  \"type\": \"BUSINESS\",\n  \"risk\": \"LOW\"\n}\n```\n\n**Valores aceitos:**\n- **status:** PENDING, VALIDATION, RISK_ANALYSIS, APPROVED, DISAPPROVED, DISCREDITED, BACKGROUND_CHECK\n- **type:** INDIVIDUAL (pessoa f√≠sica), BUSINESS (pessoa jur√≠dica)\n- **risk:** LOW, MEDIUM, HIGH\n\n### search (opcional)\nBusca textual que procura em m√∫ltiplos campos:\n- document (CPF/CNPJ)\n- email\n- first_name (nome/raz√£o social)\n- phone_number\n\nExemplo: `search=joao` ou `search=11299221000129`\n\n### perPage (opcional)\nN√∫mero de registros por p√°gina. Padr√£o: 20, M√°ximo: 100\n\n### page (opcional)\nN√∫mero da p√°gina a ser retornada. Padr√£o: 1\n\n### sorters (opcional)\nString JSON com array de objetos para ordena√ß√£o:\n```json\n[\n  {\"column\": \"created_at\", \"direction\": \"desc\"},\n  {\"column\": \"status\", \"direction\": \"asc\"}\n]\n```\n\n**Colunas dispon√≠veis:** id, document, first_name, email, status, type, risk, created_at, updated_at\n\n## Exemplos de Uso\n\n### Listar estabelecimentos aprovados\n```\nGET /api/establishments?filters={\"status\":\"APPROVED\"}\n```\n\n### Buscar por documento\n```\nGET /api/establishments?search=11299221000129\n```\n\n### Filtros combinados + ordena√ß√£o\n```\nGET /api/establishments?filters={\"type\":\"BUSINESS\",\"risk\":\"LOW\"}&perPage=50&sorters=[{\"column\":\"created_at\",\"direction\":\"desc\"}]\n```\n\n### Busca paginada\n```\nGET /api/establishments?search=joao&page=2&perPage=30\n```\n\n## Resposta\nRetorna lista paginada com metadados incluindo:\n- Lista de estabelecimentos com dados completos\n- Total de registros\n- P√°gina atual\n- Total de p√°ginas\n- Itens por p√°gina\n\n## Integra√ß√£o com Frontend\nEsta listagem pode ser usada para:\n- Dashboard de estabelecimentos\n- Sele√ß√£o de estabelecimento em formul√°rios\n- Relat√≥rios e exporta√ß√µes\n- Monitoramento de status\n    ",
        "operationId": "EstablishmentsController_listEstablishments",
        "parameters": [
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "Filtros em JSON (status, type, risk)",
            "schema": {
              "example": "{\"status\":\"APPROVED\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca textual",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°x: 100)",
            "schema": {
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "P√°gina atual",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "Ordena√ß√£o em JSON",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de estabelecimentos retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListEstablishmentsResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Lista estabelecimentos",
        "tags": [
          "Establishments"
        ]
      },
      "post": {
        "description": "\n# Criar Estabelecimento\n\nCadastra um novo estabelecimento no Marketplace Paytime. O estabelecimento ser√° criado com status PENDING e passar√° por valida√ß√£o autom√°tica.\n\n## Campos Obrigat√≥rios\n\n### Dados B√°sicos\n- **type:** INDIVIDUAL (pessoa f√≠sica) ou BUSINESS (pessoa jur√≠dica)\n- **document:** CPF (11 d√≠gitos) ou CNPJ (14 d√≠gitos)\n- **email:** Email v√°lido do estabelecimento\n- **phone_number:** Telefone no formato brasileiro (ex: 27998765431)\n- **cnae:** C√≥digo CNAE da atividade (ex: 0111302)\n- **format:** Formato jur√≠dico (LTDA, SA, ME, MEI, EI, EIRELI, SLU, ESI, SS, SC, SPE)\n\n### Objeto responsible (Respons√°vel)\n- **email:** Email v√°lido do respons√°vel\n- **document:** CPF do respons√°vel (11 d√≠gitos)\n- **first_name:** Nome completo do respons√°vel\n- **phone:** Telefone do respons√°vel\n- **birthdate:** Data de nascimento no formato YYYY-MM-DD\n\n### Objeto address (Endere√ßo)\n- **zip_code:** CEP sem m√°scara (8 d√≠gitos)\n- **street:** Logradouro\n- **number:** N√∫mero\n- **neighborhood:** Bairro\n- **city:** Cidade\n- **state:** UF (sigla do estado: SP, RJ, ES, etc)\n- **complement:** Complemento (opcional)\n\n## Campos Opcionais\n- **activity_id:** ID da atividade econ√¥mica\n- **representative_id:** ID do representante comercial (‚ö†Ô∏è IMPORTANTE: s√≥ envie se o representante j√° existe - consulte antes via GET /api/representatives)\n- **notes:** Observa√ß√µes internas\n- **visited:** Se o estabelecimento foi visitado (boolean)\n- **first_name:** Raz√£o social (para BUSINESS)\n- **last_name:** Nome fantasia (para BUSINESS)\n- **birthdate:** Data de abertura da empresa (obrigat√≥rio para BUSINESS)\n- **revenue:** Faturamento mensal estimado\n- **gmv:** Meta de faturamento anual\n\n## ‚ö†Ô∏è Erros Comuns\n\n### \"Representante n√£o encontrado\" (404 - API000122)\nVoc√™ enviou representative_id com um ID que n√£o existe.\n\n**Solu√ß√µes:**\n1. **Remova o campo:** Se n√£o tem representante, simplesmente n√£o envie representative_id\n2. **Liste representantes dispon√≠veis primeiro:**\n   \\`\\`\\`bash\n   GET /api/representatives\n   \\`\\`\\`\n   Use um ID v√°lido da resposta\n3. **Crie sem representante:** O campo √© opcional, estabelecimento funciona sem ele\n\n## Regras de Valida√ß√£o\n\n### Documento\n- CPF: deve ter 11 d√≠gitos e ser v√°lido\n- CNPJ: deve ter 14 d√≠gitos e ser v√°lido\n\n### Email\n- Deve ser um email v√°lido\n- Ser√° enviado email de confirma√ß√£o\n\n### CEP\n- Deve ser um CEP v√°lido de 8 d√≠gitos\n- Sistema valida exist√™ncia do CEP\n\n### Data de Nascimento/Abertura\n- Formato: YYYY-MM-DD\n- Obrigat√≥rio quando type = BUSINESS (data de abertura)\n- Respons√°vel deve ter no m√≠nimo 18 anos\n\n### Telefone\n- Formato brasileiro\n- Aceita com ou sem c√≥digo de √°rea\n\n## Teste no Sandbox\n\nPara simular diferentes status de aprova√ß√£o no ambiente de testes, use o √∫ltimo d√≠gito do telefone:\n- **1:** Estabelecimento ser√° APROVADO automaticamente\n- **2:** Estabelecimento ficar√° em AN√ÅLISE DE RISCO\n- **3:** Estabelecimento ser√° REPROVADO\n- **Outros:** Status PENDING (padr√£o)\n\nExemplo para teste de aprova√ß√£o autom√°tica: `phone_number: \"00000000001\"`\n\n## Exemplo de Request\n```json\n{\n  \"type\": \"BUSINESS\",\n  \"responsible\": {\n    \"email\": \"joao@email.com\",\n    \"document\": \"40075201003\",\n    \"first_name\": \"Jo√£o Desenvolvedor\",\n    \"phone\": \"00000000001\",\n    \"birthdate\": \"2000-10-12\"\n  },\n  \"address\": {\n    \"zip_code\": \"29090390\",\n    \"street\": \"Rua Dos Desenvolvedores\",\n    \"neighborhood\": \"Bairro da Programa√ß√£o\",\n    \"city\": \"Vit√≥ria\",\n    \"state\": \"ES\",\n    \"number\": \"01\"\n  },\n  \"first_name\": \"Raz√£o Social LTDA\",\n  \"last_name\": \"Nome Fantasia\",\n  \"cnae\": \"0111302\",\n  \"document\": \"11299221000129\",\n  \"phone_number\": \"27998765431\",\n  \"format\": \"LTDA\",\n  \"email\": \"ec@email.com\",\n  \"birthdate\": \"2022-01-01\",\n  \"revenue\": 50000,\n  \"gmv\": 600000\n}\n```\n\n**Observa√ß√£o:** Note que representative_id N√ÉO est√° inclu√≠do no exemplo acima - s√≥ adicione se voc√™ j√° tiver um representante cadastrado.\n\n## Fluxo P√≥s-Cria√ß√£o\n1. Estabelecimento criado com status PENDING\n2. Sistema inicia valida√ß√£o autom√°tica de documentos\n3. Status pode mudar para: VALIDATION ‚Üí RISK_ANALYSIS ‚Üí APPROVED/DISAPPROVED\n4. Email enviado ao respons√°vel em cada mudan√ßa de status\n\n## Integra√ß√£o com Frontend\n- Formul√°rio de cadastro com valida√ß√£o em tempo real\n- Preview dos dados antes do envio\n- Feedback visual do status de cria√ß√£o\n- Redirecionamento para p√°gina de detalhes ap√≥s sucesso\n    ",
        "operationId": "EstablishmentsController_createEstablishment",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEstablishmentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Estabelecimento criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EstablishmentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos"
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "422": {
            "description": "Erro de valida√ß√£o (documento duplicado, CEP inv√°lido, etc)"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Cria novo estabelecimento",
        "tags": [
          "Establishments"
        ]
      }
    },
    "/api/establishments/{id}": {
      "get": {
        "description": "\n# Exibir Estabelecimento\n\nRetorna todos os detalhes de um estabelecimento espec√≠fico incluindo dados cadastrais, endere√ßo, respons√°vel, planos contratados e gateways configurados.\n\n## Par√¢metro\n- **id:** ID num√©rico do estabelecimento\n\n## Resposta Completa\nA resposta inclui:\n\n### Dados B√°sicos\n- id, type, status, risk, access_type\n- document, email, phone_number\n- first_name (nome/raz√£o social), last_name (sobrenome/nome fantasia)\n\n### Dados Empresariais (quando type = BUSINESS)\n- cnae (c√≥digo de atividade)\n- format (LTDA, SA, ME, MEI, etc)\n- birthdate (data de abertura)\n- revenue (receita estimada)\n- gmv (meta de faturamento anual)\n\n### Objetos Aninhados\n- **address:** endere√ßo completo (zip_code, street, number, neighborhood, city, state, complement)\n- **responsible:** dados do respons√°vel (email, document, first_name, phone, birthdate)\n- **representative:** representante comercial (se houver)\n- **plans[]:** planos contratados com taxas e status\n- **gateways[]:** gateways de pagamento configurados\n\n### Metadados\n- created_at: data de cria√ß√£o\n- updated_at: data da √∫ltima atualiza√ß√£o\n\n## Status Poss√≠veis\n- **PENDING:** Aguardando valida√ß√£o inicial\n- **VALIDATION:** Em processo de valida√ß√£o de documentos\n- **RISK_ANALYSIS:** Em an√°lise de risco\n- **APPROVED:** Aprovado para operar\n- **DISAPPROVED:** Reprovado (n√£o pode operar)\n- **DISCREDITED:** Descredenciado (estava aprovado mas foi suspenso)\n- **BACKGROUND_CHECK:** Em verifica√ß√£o de antecedentes\n\n## N√≠veis de Risco\n- **LOW:** Baixo risco (aprova√ß√£o mais r√°pida)\n- **MEDIUM:** Risco m√©dio (an√°lise padr√£o)\n- **HIGH:** Alto risco (an√°lise mais rigorosa)\n\n## Tipos de Acesso\n- **ACQUIRER:** Acesso para adquir√™ncia (pagamentos)\n- **BANKING:** Acesso banc√°rio (transfer√™ncias, saques)\n\n## Exemplo de Uso\n```\nGET /api/establishments/123\n```\n\n## Integra√ß√£o com Frontend\nUse este endpoint para:\n- P√°gina de detalhes do estabelecimento\n- Pr√©-preenchimento de formul√°rios de edi√ß√£o\n- Exibi√ß√£o de status e informa√ß√µes completas\n- Verifica√ß√£o de planos e gateways ativos\n    ",
        "operationId": "EstablishmentsController_getEstablishment",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do estabelecimento",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do estabelecimento",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EstablishmentResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "404": {
            "description": "Estabelecimento n√£o encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Obt√©m estabelecimento por ID",
        "tags": [
          "Establishments"
        ]
      },
      "put": {
        "description": "\n# Atualizar Estabelecimento\n\nAtualiza dados de um estabelecimento existente. Apenas alguns campos podem ser atualizados ap√≥s a cria√ß√£o.\n\n## Par√¢metro\n- **id:** ID num√©rico do estabelecimento a ser atualizado\n\n## Campos Atualiz√°veis\n\n### Obrigat√≥rios\n- **access_type:** ACQUIRER (adquir√™ncia) ou BANKING (banc√°rio)\n- **phone_number:** Telefone de contato\n- **revenue:** Receita mensal estimada (number, m√≠nimo 1)\n- **format:** Formato jur√≠dico (LTDA, SA, ME, MEI, etc)\n- **email:** Email do estabelecimento\n- **birthdate:** Data de nascimento/abertura (YYYY-MM-DD)\n\n### Opcionais\n- **first_name:** Nome/Raz√£o social\n- **last_name:** Sobrenome/Nome fantasia\n- **gmv:** Meta de faturamento anual (n√∫mero)\n\n## Restri√ß√µes\nAlguns campos N√ÉO podem ser alterados ap√≥s cria√ß√£o:\n- document (CPF/CNPJ)\n- type (INDIVIDUAL/BUSINESS)\n- cnae\n- address (endere√ßo completo)\n- responsible (dados do respons√°vel)\n\nPara alterar esses dados, ser√° necess√°rio criar novo estabelecimento ou contatar suporte.\n\n## Valida√ß√µes\n- **Email:** Deve ser v√°lido e √∫nico\n- **Telefone:** Formato brasileiro v√°lido\n- **Revenue:** Deve ser um n√∫mero positivo >= 1\n- **Birthdate:** Formato YYYY-MM-DD v√°lido\n- **Access_type:** Deve ser ACQUIRER ou BANKING\n- **Format:** Deve ser um dos formatos aceitos\n\n## Regras de Neg√≥cio\n1. Estabelecimento deve existir\n2. Apenas estabelecimentos com status APPROVED podem ter access_type alterado\n3. Email alterado requer nova valida√ß√£o\n4. Mudan√ßas podem afetar an√°lise de risco\n\n## Exemplo de Request\n```json\n{\n  \"access_type\": \"ACQUIRER\",\n  \"first_name\": \"Nova Raz√£o Social LTDA\",\n  \"last_name\": \"Novo Nome Fantasia\",\n  \"phone_number\": \"27998765432\",\n  \"revenue\": 75000,\n  \"format\": \"LTDA\",\n  \"email\": \"novoemail@empresa.com\",\n  \"gmv\": 900000,\n  \"birthdate\": \"2022-01-01\"\n}\n```\n\n## Cen√°rios de Uso\n\n### Atualizar tipo de acesso\nQuando estabelecimento for aprovado e precisar liberar funcionalidades banc√°rias:\n```json\n{\n  \"access_type\": \"BANKING\",\n  ...demais campos\n}\n```\n\n### Atualizar proje√ß√£o de faturamento\nQuando estabelecimento crescer e precisar ajustar limites:\n```json\n{\n  \"revenue\": 150000,\n  \"gmv\": 1800000,\n  ...demais campos\n}\n```\n\n### Corrigir dados cadastrais\nPara atualizar informa√ß√µes de contato:\n```json\n{\n  \"email\": \"novoemail@empresa.com\",\n  \"phone_number\": \"27998888888\",\n  ...demais campos\n}\n```\n\n## Fluxo P√≥s-Atualiza√ß√£o\n1. Sistema valida todas as altera√ß√µes\n2. Campos sens√≠veis podem requerer nova an√°lise\n3. Status pode voltar para VALIDATION se necess√°rio\n4. Email enviado ao respons√°vel sobre as altera√ß√µes\n\n## Resposta\nRetorna o estabelecimento atualizado com todos os campos, incluindo:\n- Dados atualizados\n- Status atual\n- Data de atualiza√ß√£o (updated_at)\n- Objetos relacionados (address, responsible, plans, gateways)\n\n## Integra√ß√£o com Frontend\n- Formul√°rio de edi√ß√£o pr√©-preenchido com GET /:id\n- Valida√ß√£o em tempo real\n- Feedback de campos n√£o edit√°veis (disabled)\n- Confirma√ß√£o antes de submeter mudan√ßas cr√≠ticas\n    ",
        "operationId": "EstablishmentsController_updateEstablishment",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do estabelecimento",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEstablishmentDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Estabelecimento atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EstablishmentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos"
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "404": {
            "description": "Estabelecimento n√£o encontrado"
          },
          "422": {
            "description": "Erro de valida√ß√£o"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Atualiza estabelecimento",
        "tags": [
          "Establishments"
        ]
      }
    },
    "/api/establishments/{id}/gateways": {
      "get": {
        "description": "\n# Listar Gateways do Estabelecimento\n\nRetorna todos os gateways configurados para um estabelecimento, incluindo status de ativa√ß√£o, dados banc√°rios e metadados.\n\n## Par√¢metros de Query\n\n### filters (opcional)\nString JSON com filtros. Exemplo: `{\"status\":\"APPROVED\"}`\n\n**Valores poss√≠veis:**\n- **status:** PENDING, WAITING, ANALYZE, BLOCKED, CANCELED, DISAPPROVED, APPROVED\n\n### search (opcional)\nBusca textual nos dados do gateway (nome, gateway_key, etc)\n\n### perPage (opcional)\nQuantidade de registros por p√°gina. Padr√£o: 20, M√°ximo: 100\n\n### page (opcional)\nN√∫mero da p√°gina. Padr√£o: 1\n\n### sorters (opcional)\nString JSON para ordena√ß√£o. Exemplo: `[{\"column\":\"created_at\",\"direction\":\"DESC\"}]`\n\n## Estrutura da Resposta\n\nCada gateway retornado cont√©m:\n- **id:** ID da configura√ß√£o\n- **gateway:** { id, name } - Dados do gateway (ex: PagSeguro, Paytime, Banking)\n- **establishment_id:** ID do estabelecimento\n- **gateway_key:** Chave identificadora (pode ser null)\n- **reference_id:** Refer√™ncia do parceiro\n- **status:** Status da ativa√ß√£o\n- **active:** Se est√° ativo\n- **form_receipt:** Forma de recebimento (BANKACCOUNT, PAYTIME, PAGBANK, ZOOPBANK)\n- **bank_account:** Dados da conta banc√°ria (se form_receipt=BANKACCOUNT)\n- **spb_account:** Conta SPB (para Banking)\n- **metadata:** Informa√ß√µes adicionais (statement_descriptor, email, token, c√≥digo)\n- **created_at/updated_at:** Datas de cria√ß√£o e atualiza√ß√£o\n\n## Gateways Dispon√≠veis\n- **ID 2:** PagSeguro\n- **ID 4:** Paytime (SubPaytime) - Subadquir√™ncia\n- **ID 6:** Banking - Servi√ßos banc√°rios\n\n## Exemplos de Uso\n\n### Listar gateways aprovados\n```\nGET /api/establishments/123/gateways?filters={\"status\":\"APPROVED\"}\n```\n\n### Buscar gateway espec√≠fico\n```\nGET /api/establishments/123/gateways?search=Banking\n```\n\n### Com ordena√ß√£o\n```\nGET /api/establishments/123/gateways?sorters=[{\"column\":\"created_at\",\"direction\":\"DESC\"}]\n```\n    ",
        "operationId": "EstablishmentsController_listGateways",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do estabelecimento",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "Filtros em JSON. Ex: {\"status\":\"APPROVED\"}",
            "schema": {
              "example": "{\"status\":\"APPROVED\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca textual nos dados",
            "schema": {
              "example": "PagSeguro",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "maximum": 100,
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "Ordena√ß√£o em JSON. Ex: [{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de gateways retornada",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListGatewaysResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "404": {
            "description": "Estabelecimento n√£o encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Lista gateways do estabelecimento",
        "tags": [
          "Establishments"
        ]
      },
      "post": {
        "description": "\n# Ativar Gateway\n\nAtiva e configura um gateway de pagamento ou banking para o estabelecimento.\n\n## ‚ö†Ô∏è Pr√©-requisitos\n- Estabelecimento deve estar com **status: APPROVED**\n- Para Split funcionar, √© obrigat√≥rio: Banking (ID 6) + SubPaytime (ID 4)\n\n## Gateways Dispon√≠veis\n- **ID 2:** PagSeguro\n- **ID 4:** Paytime (SubPaytime) - Subadquir√™ncia\n- **ID 6:** Banking - Servi√ßos banc√°rios\n\n## Campos Obrigat√≥rios\n\n### Para Todos os Gateways\n- **reference_id:** Identificador √∫nico do parceiro\n- **gateway_id:** 2, 4 ou 6\n- **active:** true para ativar, false para desativar\n- **form_receipt:** BANKACCOUNT | PAYTIME | PAGBANK | ZOOPBANK\n\n### Banking (Gateway ID 6)\n**Obrigat√≥rios:**\n- **form_receipt:** PAYTIME\n- **fees_banking_id:** ID do pacote de tarifas banc√°rias\n\n**Opcional:**\n- bank_account (se form_receipt=BANKACCOUNT)\n\n**Fluxo:**\n1. Ativar o Banking com fees_banking_id\n2. Fazer nova requisi√ß√£o GET para obter url_documents_copy no metadata\n3. Cliente completa jornada KYC atrav√©s da URL\n4. Ap√≥s aprova√ß√£o do KYC, Banking est√° habilitado\n\n‚ö†Ô∏è **Nota T√©cnica:** Bloqueadores de an√∫ncio podem impactar o KYC. Recomenda-se desabilit√°-los.\n\n### SubPaytime (Gateway ID 4)\n**Obrigat√≥rios:**\n- **form_receipt:** PAYTIME ou BANKACCOUNT\n- **statement_descriptor:** Nome que aparece na fatura do cliente\n- **plans:** Array com planos comerciais vinculados\n\n**Se form_receipt=BANKACCOUNT:**\n- **bank_account:** Objeto completo com dados banc√°rios\n- **fees_banking_id:** ID do pacote de tarifas\n\n### PagSeguro (Gateway ID 2)\n**Obrigat√≥rios:**\n- **plans:** Array com planos comerciais\n\n## Estrutura bank_account\n\nQuando form_receipt=BANKACCOUNT:\n```json\n{\n  \"account_check_digit\": \"1\",\n  \"account_number\": \"123456\",\n  \"bank_code\": \"341\",\n  \"routing_check_digit\": \"9\",\n  \"routing_number\": \"1234\",\n  \"type\": \"CHECKING\"\n}\n```\n\n**C√≥digos de bancos comuns:**\n- 341: Ita√∫\n- 104: Caixa Econ√¥mica Federal\n- 001: Banco do Brasil\n- 237: Bradesco\n- 033: Santander\n\n**Tipos de conta:**\n- CHECKING: Conta corrente\n- SAVING: Conta poupan√ßa\n\n## Estrutura plans\n\nArray de objetos:\n```json\n[\n  {\n    \"id\": 93,\n    \"active\": true\n  }\n]\n```\n\nüìò Consulte os planos dispon√≠veis em: **Listar Planos Comerciais**\n\n## Ordem de Ativa√ß√£o para SPLIT\n\n1. **Banking Paytime (ID 6)**\n   - Ativar com fees_banking_id\n   - Obter URL do KYC\n   - Cliente completa KYC\n\n2. **SubPaytime (ID 4)**\n   - Ativar ap√≥s Banking aprovado\n   - Vincular planos comerciais\n\n## Exemplos de Request\n\n### Ativar Banking Paytime\n```json\n{\n  \"reference_id\": \"REF-BANKING-001\",\n  \"gateway_id\": 6,\n  \"active\": true,\n  \"form_receipt\": \"PAYTIME\",\n  \"fees_banking_id\": 2\n}\n```\n\n### Ativar SubPaytime com PAYTIME\n```json\n{\n  \"reference_id\": \"REF-SUBPAYTIME-001\",\n  \"gateway_id\": 4,\n  \"active\": true,\n  \"form_receipt\": \"PAYTIME\",\n  \"statement_descriptor\": \"Minha Empresa\",\n  \"plans\": [\n    { \"id\": 93, \"active\": true }\n  ]\n}\n```\n\n### Ativar SubPaytime com BANKACCOUNT\n```json\n{\n  \"reference_id\": \"REF-SUBPAYTIME-002\",\n  \"gateway_id\": 4,\n  \"active\": true,\n  \"form_receipt\": \"BANKACCOUNT\",\n  \"bank_account\": {\n    \"account_check_digit\": \"1\",\n    \"account_number\": \"456789\",\n    \"bank_code\": \"341\",\n    \"routing_check_digit\": \"9\",\n    \"routing_number\": \"1234\",\n    \"type\": \"CHECKING\"\n  },\n  \"statement_descriptor\": \"Minha Loja\",\n  \"plans\": [\n    { \"id\": 15, \"active\": true }\n  ],\n  \"fees_banking_id\": 2\n}\n```\n\n## Resposta\n\nRetorna objeto GatewayConfigDto com:\n- ID da configura√ß√£o criada\n- Status da ativa√ß√£o (geralmente PENDING inicialmente)\n- Metadados (incluindo url_documents_copy para Banking ap√≥s segunda chamada)\n- Dados da conta banc√°ria (se aplic√°vel)\n\n## Valida√ß√µes\n- Estabelecimento deve existir e estar APPROVED\n- gateway_id deve ser v√°lido (2, 4 ou 6)\n- Se BANKACCOUNT: bank_account completo obrigat√≥rio\n- Se SubPaytime: statement_descriptor e plans obrigat√≥rios\n- Se Banking: fees_banking_id obrigat√≥rio\n    ",
        "operationId": "EstablishmentsController_activateGateway",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do estabelecimento",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ActivateGatewayDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Gateway ativado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GatewayConfigDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos"
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "404": {
            "description": "Estabelecimento n√£o encontrado"
          },
          "422": {
            "description": "Erro de valida√ß√£o (estabelecimento n√£o aprovado, plano inv√°lido, etc)"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Ativar gateway para estabelecimento",
        "tags": [
          "Establishments"
        ]
      }
    },
    "/api/establishments/{id}/gateways/{gatewayId}": {
      "get": {
        "description": "\n# Exibir Gateway Espec√≠fico\n\nRetorna os dados completos de configura√ß√£o de um gateway espec√≠fico vinculado ao estabelecimento.\n\n## Par√¢metros\n- **id:** ID do estabelecimento\n- **gatewayId:** ID do gateway a ser consultado\n\n## Informa√ß√µes Retornadas\n\n### Dados B√°sicos\n- **id:** ID da configura√ß√£o do gateway\n- **gateway:** Objeto com id e nome do gateway\n- **establishment_id:** ID do estabelecimento vinculado\n- **gateway_key:** Chave identificadora (pode ser null)\n- **reference_id:** Refer√™ncia do parceiro\n- **status:** Status atual da ativa√ß√£o\n- **active:** Se o gateway est√° ativo\n\n### Status Poss√≠veis\n- **PENDING:** Aguardando processamento\n- **WAITING:** Aguardando a√ß√£o\n- **ANALYZE:** Em an√°lise\n- **BLOCKED:** Bloqueado\n- **CANCELED:** Cancelado\n- **DISAPPROVED:** Reprovado\n- **APPROVED:** Aprovado para uso\n\n### Formas de Recebimento\n- **BANKACCOUNT:** Conta banc√°ria tradicional\n- **PAYTIME:** Conta digital Paytime\n- **PAGBANK:** PagBank/PagSeguro\n- **ZOOPBANK:** Zoop Bank\n\n### Dados Banc√°rios\n\n**bank_account:** (quando form_receipt=BANKACCOUNT)\n- account_check_digit: D√≠gito da conta\n- account_number: N√∫mero da conta\n- bank_id: C√≥digo do banco\n- routing_check_digit: D√≠gito da ag√™ncia\n- routing_number: N√∫mero da ag√™ncia\n- type: CHECKING ou SAVING\n\n**spb_account:** (usado em contextos de Banking)\n- Mesma estrutura da bank_account\n\n### Metadados (metadata)\n- **code:** C√≥digo de refer√™ncia\n- **email:** Email vinculado\n- **token:** Token de autentica√ß√£o\n- **statement_descriptor:** Nome que aparece na fatura\n- **url_documents_copy:** URL para KYC (Banking - ap√≥s primeira ativa√ß√£o)\n\n## Casos de Uso\n\n### Verificar Status de Ativa√ß√£o Banking\nAp√≥s ativar Banking (gateway_id 6), consulte para obter URL do KYC:\n```json\n\"metadata\": {\n  \"url_documents_copy\": \"https://...\"\n}\n```\n\n### Validar Conta Banc√°ria Configurada\nVerificar se bank_account est√° preenchido corretamente antes de processar pagamentos\n\n### Obter Statement Descriptor\nPara exibir ao cliente como aparecer√° na fatura\n\n## Exemplo\n```\nGET /api/establishments/123/gateways/371\n```\n    ",
        "operationId": "EstablishmentsController_getGateway",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do estabelecimento",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "gatewayId",
            "required": true,
            "in": "path",
            "description": "ID do gateway",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GatewayConfigDto"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "404": {
            "description": "Estabelecimento ou gateway n√£o encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Exibe gateway do estabelecimento",
        "tags": [
          "Establishments"
        ]
      }
    },
    "/api/gateways": {
      "get": {
        "description": "\n# Listar Gateways Dispon√≠veis\n\nLista todos os gateways dispon√≠veis na plataforma Paytime para ativa√ß√£o em estabelecimentos.\n\n## Gateways Dispon√≠veis\n\nA Paytime oferece diferentes tipos de gateways:\n\n### ACQUIRER (Adquirentes)\n- **PAYTIME (ID 4):** SubPaytime - Plataforma de subadquir√™ncia\n- **PAGSEGURO (ID 2):** Integra√ß√£o com PagSeguro\n\n### BANKING (Servi√ßos Banc√°rios)\n- **CELCOIN (ID 6):** Banking Paytime - Servi√ßos banc√°rios e financeiros\n\n## Par√¢metros de Query\n\n### filters (opcional)\nFiltros em JSON. Exemplo: `{\"status\":\"CREATED\"}`\n\n### search (opcional)\nBusca textual por nome ou tipo do gateway\n\n### perPage (opcional)\nRegistros por p√°gina. Padr√£o: 20, M√°ximo: 100\n\n### page (opcional)\nN√∫mero da p√°gina. Padr√£o: 1\n\n### sorters (opcional)\nOrdena√ß√£o em JSON. Exemplo: `[{\"column\":\"created_at\",\"direction\":\"DESC\"}]`\n\n## Estrutura da Resposta\n\nCada gateway retornado cont√©m:\n- **id:** Identificador √∫nico (usado na ativa√ß√£o)\n- **name:** Nome do gateway (PAYTIME, PAGSEGURO, CELCOIN)\n- **type:** ACQUIRER ou BANKING\n- **created_at:** Data de cadastro na plataforma\n- **updated_at:** Data da √∫ltima atualiza√ß√£o\n\n## Casos de Uso\n\n### Listar gateways do tipo ACQUIRER\n```\nGET /api/gateways?filters={\"type\":\"ACQUIRER\"}\n```\n\n### Buscar gateway espec√≠fico\n```\nGET /api/gateways?search=PAYTIME\n```\n\n### Ordenar por data de cria√ß√£o\n```\nGET /api/gateways?sorters=[{\"column\":\"created_at\",\"direction\":\"DESC\"}]\n```\n\n## Integra√ß√£o com Ativa√ß√£o\n\nUse o **id** retornado aqui no campo **gateway_id** ao ativar gateway para estabelecimento:\n\n```json\nPOST /api/establishments/:id/gateways\n{\n  \"gateway_id\": 4,  // ID obtido nesta listagem\n  \"active\": true,\n  ...\n}\n```\n\n## Fluxo Recomendado\n\n1. **Listar gateways dispon√≠veis** (este endpoint)\n2. **Escolher gateway apropriado** baseado em tipo e recursos\n3. **Verificar pr√©-requisitos** (establishment APPROVED)\n4. **Ativar gateway** via POST /api/establishments/:id/gateways\n5. **Completar KYC** (se Banking)\n6. **Configurar planos** (se SubPaytime/PagSeguro)\n    ",
        "operationId": "GatewaysController_listAvailableGateways",
        "parameters": [
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "Filtros em JSON. Ex: {\"status\":\"APPROVED\"}",
            "schema": {
              "example": "{\"status\":\"APPROVED\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca textual nos dados",
            "schema": {
              "example": "PagSeguro",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "maximum": 100,
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "Ordena√ß√£o em JSON. Ex: [{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de gateways dispon√≠veis",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListAvailableGatewaysResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Listar gateways dispon√≠veis",
        "tags": [
          "Gateways"
        ]
      }
    },
    "/api/gateways/{id}": {
      "get": {
        "description": "\n# Buscar Gateway por ID\n\nRetorna detalhes completos de um gateway espec√≠fico dispon√≠vel na plataforma Paytime.\n\n## Par√¢metro\n- **id:** Identificador √∫nico do gateway\n\n## Informa√ß√µes Retornadas\n\n- **id:** Identificador √∫nico\n- **name:** Nome do gateway\n  - PAYTIME\n  - PAGSEGURO\n  - CELCOIN\n- **type:** Tipo do gateway\n  - ACQUIRER: Adquir√™ncia/subadquir√™ncia\n  - BANKING: Servi√ßos banc√°rios\n- **created_at:** Data de cria√ß√£o\n- **updated_at:** Data da √∫ltima atualiza√ß√£o\n\n## Gateways Dispon√≠veis\n\n### ID 2 - PAGSEGURO\n- **Tipo:** ACQUIRER\n- **Descri√ß√£o:** Integra√ß√£o com PagSeguro\n- **Requer:** Planos comerciais vinculados\n\n### ID 4 - PAYTIME (SubPaytime)\n- **Tipo:** ACQUIRER\n- **Descri√ß√£o:** Subadquir√™ncia Paytime\n- **Requer:** statement_descriptor + planos comerciais\n- **Uso:** Split de pagamentos, marketplace\n\n### ID 6 - CELCOIN (Banking)\n- **Tipo:** BANKING\n- **Descri√ß√£o:** Servi√ßos banc√°rios Paytime\n- **Requer:** fees_banking_id + KYC\n- **Uso:** Transfer√™ncias, saques, P2P\n\n## Casos de Uso\n\n### Verificar Detalhes do Banking\n```\nGET /api/gateways/6\n```\n\n√ötil para confirmar tipo e disponibilidade antes de ativar servi√ßos banc√°rios.\n\n### Validar Gateway para Split\n```\nGET /api/gateways/4\n```\n\nConfirmar que SubPaytime est√° dispon√≠vel antes de configurar split de pagamentos.\n\n### Obter Informa√ß√µes para UI\nUse este endpoint para popular dropdowns, cards ou wizards de configura√ß√£o mostrando gateways dispon√≠veis ao usu√°rio.\n\n## Pr√≥ximos Passos\n\nAp√≥s obter detalhes do gateway:\n1. Verificar pr√©-requisitos do estabelecimento\n2. Preparar payload de ativa√ß√£o adequado\n3. Chamar POST /api/establishments/:id/gateways\n4. Acompanhar status de ativa√ß√£o\n\n## Exemplo\n```\nGET /api/gateways/4\n```\n\nResponse:\n```json\n{\n  \"id\": 4,\n  \"name\": \"PAYTIME\",\n  \"type\": \"ACQUIRER\",\n  \"created_at\": \"2023-06-21T15:06:02.000Z\",\n  \"updated_at\": \"2023-06-21T15:06:02.000Z\"\n}\n```\n    ",
        "operationId": "GatewaysController_getAvailableGateway",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do gateway",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GatewayDto"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "404": {
            "description": "Gateway n√£o encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Buscar gateway espec√≠fico",
        "tags": [
          "Gateways"
        ]
      }
    },
    "/api/representatives": {
      "get": {
        "description": "\n# Listar Representantes do Marketplace\n\nRetorna a listagem completa de representantes cadastrados no Marketplace Paytime com suas respectivas regi√µes de atua√ß√£o e regras de royalties.\n\n## O que s√£o Representantes?\n\nRepresentantes s√£o parceiros comerciais que:\n- Atuam em estados espec√≠ficos\n- Est√£o vinculados a estabelecimentos\n- Recebem comiss√µes (royalties) sobre opera√ß√µes financeiras\n- Gerenciam relacionamento com estabelecimentos em suas regi√µes\n\n## Par√¢metros de Query\n\n### filters (opcional)\nFiltros em JSON. Exemplo: `{\"active\":true}`\n\n**Campo filtr√°vel:**\n- **active:** true (ativos) ou false (inativos)\n\n### search (opcional)\nBusca textual em:\n- first_name (nome do representante)\n- last_name (sobrenome)\n- document (CPF/CNPJ)\n\nExemplo: `search=Tech`\n\n### perPage (opcional)\nRegistros por p√°gina. Padr√£o: 20, M√°ximo: 100\n\n### page (opcional)\nN√∫mero da p√°gina. Padr√£o: 1\n\n### sorters (opcional)\nOrdena√ß√£o em JSON. Exemplo: `[{\"column\":\"created_at\",\"direction\":\"DESC\"}]`\n\n**Campos orden√°veis:**\n- id\n- created_at\n- updated_at\n\n## Estrutura da Resposta\n\nCada representante retornado cont√©m:\n\n### Dados B√°sicos\n- **id:** Identificador √∫nico\n- **active:** Se est√° ativo\n- **created_at/updated_at:** Datas de cria√ß√£o/atualiza√ß√£o\n- **deleted_at:** Data de exclus√£o l√≥gica (se aplic√°vel)\n\n### establishment (Estabelecimento Representado)\n- **first_name/last_name:** Nome do estabelecimento\n- **document:** CPF/CNPJ\n- **owner:** Dados do respons√°vel (first_name, last_name, document)\n\n### states[] (Estados de Atua√ß√£o)\nLista de estados onde o representante atua:\n- **id:** ID do estado\n- **initials:** Sigla (SP, RJ, ES, etc)\n- **name:** Nome completo\n\n### royalties (Comiss√µes)\nPercentuais aplicados por tipo de opera√ß√£o:\n- **pix:** % sobre transa√ß√µes Pix\n- **ted:** % sobre transfer√™ncias TED\n- **debit:** % sobre d√©bito\n- **billet:** % sobre boletos\n- **credit:** % sobre cr√©dito\n\n## Casos de Uso\n\n### Listar apenas representantes ativos\n```\nGET /api/representatives?filters={\"active\":true}\n```\n\n### Buscar representante espec√≠fico\n```\nGET /api/representatives?search=Tech\n```\n\n### Listar ordenando por data de cria√ß√£o\n```\nGET /api/representatives?sorters=[{\"column\":\"created_at\",\"direction\":\"DESC\"}]\n```\n\n### Pagina√ß√£o customizada\n```\nGET /api/representatives?page=2&perPage=50\n```\n\n## Integra√ß√£o com Sistema\n\nUse esta listagem para:\n1. **Dashboard de Representantes:** Exibir todos os parceiros cadastrados\n2. **Sele√ß√£o de Representante:** Ao cadastrar estabelecimento em regi√£o espec√≠fica\n3. **C√°lculo de Comiss√µes:** Aplicar royalties corretos por tipo de opera√ß√£o\n4. **Gest√£o Regional:** Visualizar cobertura por estado\n5. **Relat√≥rios:** An√°lise de performance por representante\n\n## Exemplo de Response\n```json\n{\n  \"total\": 1,\n  \"page\": 1,\n  \"perPage\": 20,\n  \"lastPage\": 1,\n  \"data\": [{\n    \"id\": 63,\n    \"active\": true,\n    \"establishment\": {\n      \"first_name\": \"EC Cobran√ßas API\",\n      \"document\": \"10068114001\",\n      \"owner\": {\n        \"first_name\": \"EC Cobran√ßas API\",\n        \"document\": \"10068114001\"\n      }\n    },\n    \"states\": [\n      { \"id\": 12, \"initials\": \"MS\", \"name\": \"Mato Grosso do Sul\" }\n    ],\n    \"royalties\": {\n      \"pix\": 1, \"ted\": 1, \"debit\": 1, \"billet\": 1, \"credit\": 1\n    }\n  }]\n}\n```\n    ",
        "operationId": "RepresentativesController_listRepresentatives",
        "parameters": [
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "Filtros em JSON. Ex: {\"active\":true}",
            "schema": {
              "example": "{\"active\":true}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca textual em first_name, last_name, document",
            "schema": {
              "example": "Tech",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "maximum": 100,
              "default": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "Ordena√ß√£o em JSON. Ex: [{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de representantes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListRepresentativesResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Listar representantes",
        "tags": [
          "Representatives"
        ]
      }
    },
    "/api/representatives/{id}": {
      "get": {
        "description": "\n# Exibir Detalhes do Representante\n\nRetorna informa√ß√µes detalhadas de um representante espec√≠fico, incluindo todos os dados do estabelecimento vinculado, endere√ßo completo e informa√ß√µes do respons√°vel.\n\n## Par√¢metro\n- **id:** Identificador √∫nico do representante\n\n## Informa√ß√µes Retornadas\n\n### Dados do Representante\n- **id:** Identificador √∫nico\n- **active:** Status ativo/inativo\n- **created_at:** Data de cadastro\n- **updated_at:** √öltima atualiza√ß√£o\n- **deleted_at:** Exclus√£o l√≥gica (se aplic√°vel)\n\n### establishment (Dados Completos)\n\n**Informa√ß√µes B√°sicas:**\n- **id:** ID do estabelecimento\n- **type:** INDIVIDUAL (pessoa f√≠sica) ou BUSINESS (pessoa jur√≠dica)\n- **first_name:** Nome/Raz√£o social\n- **last_name:** Sobrenome/Nome fantasia\n- **document:** CPF/CNPJ\n- **birthdate:** Data de nascimento/abertura\n- **phone_number:** Telefone de contato\n- **email:** Email do estabelecimento\n\n**Status e Avalia√ß√£o:**\n- **active:** Se est√° ativo\n- **status:** PENDING | VALIDATION | RISK_ANALYSIS | APPROVED | DISAPPROVED | DISCREDITED | BACKGROUND_CHECK\n- **risk:** LOW | MEDIUM | HIGH\n\n**Dados Financeiros:**\n- **revenue:** Receita mensal estimada\n- **format:** Formato jur√≠dico (LTDA, SA, ME, MEI, etc)\n\n**address (Endere√ßo Completo):**\n- zip_code, street, number, neighborhood\n- city, state (UF)\n- complement (opcional)\n\n**responsible (Respons√°vel):**\n- id, first_name, email, document\n- phone, birthdate\n\n**Metadados:**\n- created_at, updated_at, deleted_at\n\n## Casos de Uso\n\n### Visualiza√ß√£o Completa\nObter todos os dados do representante para exibi√ß√£o em tela de detalhes ou perfil.\n\n### Valida√ß√£o de V√≠nculo\nVerificar qual estabelecimento est√° representado e seus dados atualizados.\n\n### Auditoria e Compliance\nConsultar hist√≥rico completo incluindo datas de cria√ß√£o, atualiza√ß√£o e exclus√£o.\n\n### Integra√ß√£o com CRM\nSincronizar dados completos do representante e estabelecimento vinculado.\n\n### An√°lise de Risco\nVerificar n√≠vel de risco e status do estabelecimento representado.\n\n## Diferen√ßa entre List e Detail\n\n**GET /api/representatives (list):**\n- Vis√£o resumida de m√∫ltiplos representantes\n- Inclui: estados[], royalties{}\n- Establishment: apenas nome, document e owner\n- Ideal para: listas, sele√ß√£o, dashboards\n\n**GET /api/representatives/:id (detail):**\n- Vis√£o completa de um √∫nico representante\n- Inclui: establishment completo com address, responsible, status, risk\n- N√£o inclui: states[], royalties (consulte via list se necess√°rio)\n- Ideal para: perfil, edi√ß√£o, valida√ß√£o detalhada\n\n## Exemplo\n```\nGET /api/representatives/60030\n```\n\nResponse:\n```json\n{\n  \"id\": 60030,\n  \"active\": true,\n  \"establishment\": {\n    \"id\": 155085,\n    \"type\": \"INDIVIDUAL\",\n    \"first_name\": \"EC Cobran√ßas\",\n    \"document\": \"10068114001\",\n    \"status\": \"APPROVED\",\n    \"risk\": \"LOW\",\n    \"address\": {\n      \"zip_code\": \"29060090\",\n      \"street\": \"Rua C√¢ndido Ramos\",\n      \"city\": \"Vit√≥ria\",\n      \"state\": \"ES\"\n    },\n    \"responsible\": {\n      \"first_name\": \"EC Cobran√ßas\",\n      \"email\": \"emaildoec@email.com\",\n      \"document\": \"10068114001\"\n    }\n  }\n}\n```\n    ",
        "operationId": "RepresentativesController_getRepresentative",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do representante",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token JWT",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do representante",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RepresentativeDetailDto"
                }
              }
            }
          },
          "401": {
            "description": "Token inv√°lido ou expirado"
          },
          "404": {
            "description": "Representante n√£o encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Exibir representante",
        "tags": [
          "Representatives"
        ]
      }
    },
    "/api/plans": {
      "get": {
        "description": "\n# üìã Listar Planos Comerciais\n\nLista todos os planos comerciais dispon√≠veis para integra√ß√£o com gateways configurados para o parceiro.\n\n## üéØ Objetivo\n\nPlanos comerciais definem as **taxas e condi√ß√µes de pagamento** aplicadas √†s transa√ß√µes:\n\n- **Modalidade:** ONLINE (e-commerce) ou PHYSICAL (presencial)\n- **Gateway:** PagSeguro (2), SubPaytime (4), Banking (6)\n- **Antecipa√ß√£o:** se permite antecipa√ß√£o de receb√≠veis\n- **Categorias (CNAEs):** setores de neg√≥cio compat√≠veis\n- **Taxas:** configuradas por bandeira e n√∫mero de parcelas\n\n## üîç Filtros Dispon√≠veis\n\n### gateway_id (number)\n- 2 = PagSeguro\n- 4 = SubPaytime (Paytime)\n- 6 = Banking (Celcoin)\n\nExemplo: `{\"gateway_id\": 4}`\n\n### modality (string)\n- ONLINE = vendas online (e-commerce, API)\n- PHYSICAL = vendas presenciais (chip, tap, smart)\n\nExemplo: `{\"gateway_id\": 4, \"modality\": \"PHYSICAL\"}`\n\n### active (boolean)\n- true = planos ativos\n- false = planos desativados\n\nExemplo: `{\"active\": true}`\n\n### type (string)\n- COMMERCIAL = planos comerciais personalizados\n- STANDARD = planos padr√£o\n\nExemplo: `{\"type\": \"COMMERCIAL\"}`\n\n## üîé Busca Textual\n\nO par√¢metro `search` permite pesquisar por:\n- Nome do plano\n- Descri√ß√£o\n- Nome da categoria (CNAE)\n\nExemplo: `search=Presencial Antecipado`\n\n## üìä Ordena√ß√£o\n\nOrdene por qualquer campo usando o par√¢metro `sorters`:\n\n```json\n[\n  { \"column\": \"created_at\", \"direction\": \"DESC\" },\n  { \"column\": \"name\", \"direction\": \"ASC\" }\n]\n```\n\nDire√ß√µes: ASC (crescente), DESC (decrescente)\n\n## üìÑ Pagina√ß√£o\n\n- `perPage`: m√°ximo de 100 registros por p√°gina\n- `page`: n√∫mero da p√°gina (inicia em 1)\n\n## üí° Casos de Uso\n\n### 1. Listar planos ativos do SubPaytime presencial\n```\nGET /api/plans?filters={\"gateway_id\":4,\"modality\":\"PHYSICAL\",\"active\":true}\n```\n\n### 2. Buscar planos com antecipa√ß√£o\n```\nGET /api/plans?filters={\"allow_anticipation\":true}\n```\n\n### 3. Pesquisar por nome\n```\nGET /api/plans?search=Simulate\n```\n\n### 4. Listar √∫ltimos criados\n```\nGET /api/plans?sorters=[{\"column\":\"created_at\",\"direction\":\"DESC\"}]&perPage=10\n```\n\n## üìö Estrutura da Resposta\n\nCada plano retorna:\n\n- **Identifica√ß√£o:** id, name, description\n- **Configura√ß√£o:** active, gateway_id, type, modality\n- **Recursos:** allow_anticipation (permite antecipa√ß√£o)\n- **Categorias:** CNAEs compat√≠veis com gateway_key\n- **Datas:** created_at, updated_at\n\n## ‚ö†Ô∏è Observa√ß√µes Importantes\n\n1. **Categorias (CNAEs):**\n   - Cada plano pode estar associado a m√∫ltiplas categorias\n   - O `gateway_key` da categoria √© usado pela adquirente\n   - Valide se o CNAE do estabelecimento √© compat√≠vel\n\n2. **Antecipa√ß√£o de Receb√≠veis:**\n   - `allow_anticipation: true` permite solicitar adiantamento\n   - √ötil para estabelecimentos que precisam de liquidez imediata\n   - Taxas de antecipa√ß√£o podem ser aplicadas\n\n3. **Modalidades:**\n   - PHYSICAL: transa√ß√µes com maquininha (chip, tap, smart)\n   - ONLINE: transa√ß√µes via API ou e-commerce\n   - Um estabelecimento pode ter planos de ambas as modalidades\n\n4. **Gateways:**\n   - Cada plano est√° vinculado a um gateway espec√≠fico\n   - O estabelecimento precisa ter o gateway ativado\n   - Taxas variam por gateway e por parceiro\n\n## üîó Endpoints Relacionados\n\n- `GET /api/plans/:id` - Ver taxas detalhadas do plano\n- `GET /api/establishments/:id` - Ver planos ativos do estabelecimento\n- `POST /api/establishments/:id/gateways` - Ativar gateway com plano\n\n## üìå Headers Obrigat√≥rios\n\n- `integration-key`: sua chave de integra√ß√£o Paytime\n- `x-token`: seu token de autentica√ß√£o\n- `Authorization`: Bearer token gerado via `POST /api/paytime/auth/test`\n\n---\n\n**Pr√≥ximo passo:** Use `GET /api/plans/:id` para visualizar as taxas detalhadas por bandeira e parcelas.\n    ",
        "operationId": "PlansController_listPlans",
        "parameters": [
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON de filtros. Exemplo: { \"gateway_id\": 2, \"modality\": \"ONLINE\" }",
            "schema": {
              "example": "{\"gateway_id\":4,\"modality\":\"PHYSICAL\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Texto para busca. Pesquisa por nome do plano, descri√ß√£o, categoria",
            "schema": {
              "example": "Plano Presencial",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "N√∫mero de registros por p√°gina",
            "schema": {
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina atual",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com lista de ordenadores. Exemplo: [{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de planos comerciais",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPlansResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Listar planos comerciais",
        "tags": [
          "Plans"
        ]
      }
    },
    "/api/plans/{id}": {
      "get": {
        "description": "\n# üîç Exibir Detalhes do Plano Comercial\n\nConsulta os detalhes completos de um plano comercial cadastrado, incluindo as **taxas configuradas por modalidade de pagamento e por bandeira**.\n\n## üéØ Objetivo\n\nVisualizar todas as configura√ß√µes de taxas do plano:\n\n- **Taxas por bandeira:** MASTERCARD, VISA, ELO, AMEX, HIPER, OTHERS, BACEN\n- **Taxas por modalidade:** PIX, d√©bito, cr√©dito (1x-18x)\n- **Estrutura de c√°lculo:** standard (base) + markup = fees (final)\n- **Categorias compat√≠veis:** CNAEs aceitos pelo plano\n\n## üí∞ Estrutura de Taxas\n\nCada bandeira possui 3 n√≠veis de taxas:\n\n### 1. Standard (Base)\nTaxas padr√£o fornecidas pela adquirente/gateway.\n\n### 2. Markup\nTaxa adicional (margem) aplicada pelo parceiro sobre a base.\n\n### 3. Fees (Final)\nTaxa final cobrada do estabelecimento: **standard + markup**\n\n## üìä Taxas por Modalidade\n\n### PIX (pix)\n- Taxa √∫nica percentual\n- Exemplo: `1.01` = 1,01%\n\n### D√©bito (debit)\n- Taxa √∫nica percentual\n- Exemplo: `1.02` = 1,02%\n\n### Cr√©dito (credit)\n- Taxa por n√∫mero de parcelas (1x at√© 18x)\n- Cada parcela pode ter taxa diferente\n- Exemplo: `\"1x\": 1.02` = 1,02% para transa√ß√£o √† vista\n\n## üè¶ Bandeiras Dispon√≠veis\n\n| ID | Nome              | Uso Principal       |\n|----|-------------------|---------------------|\n| 1  | MASTERCARD        | Cart√µes MasterCard  |\n| 2  | VISA              | Cart√µes Visa        |\n| 3  | ELO               | Cart√µes Elo         |\n| 4  | AMERICAN EXPRESS  | Cart√µes Amex        |\n| 5  | HIPER / HIPERCARD | Cart√µes Hiper       |\n| 6  | OTHERS            | Outras bandeiras    |\n| 7  | BACEN             | PIX (Banco Central) |\n\n## üìã Campos Retornados\n\n### Informa√ß√µes B√°sicas\n- `id`: ID √∫nico do plano\n- `name`: nome do plano\n- `active`: se est√° ativo\n- `gateway_id`: gateway associado (2/4/6)\n- `description`: descri√ß√£o opcional\n- `type`: COMMERCIAL ou STANDARD\n- `modality`: ONLINE ou PHYSICAL\n- `allow_anticipation`: permite antecipa√ß√£o\n\n### Categorias (categories[])\n- `id`: ID da categoria\n- `name`: nome do CNAE\n- `gateway_key`: c√≥digo usado pela adquirente\n\n### Bandeiras (flags[])\n- `id`: ID da bandeira\n- `name`: nome da bandeira\n- `active`: se est√° ativa no plano\n- `standard`: taxas base { pix, debit, credit{1x-18x} }\n- `markup`: margem adicional { pix, debit, credit{1x-18x} }\n- `fees`: taxas finais { pix, debit, credit{1x-18x} }\n\n## üí° Casos de Uso\n\n### 1. Calcular custo de transa√ß√£o\nPara transa√ß√£o de cr√©dito Mastercard 3x:\n- Taxa = `flags[0].fees.credit[\"3x\"]` (ex: 1.02%)\n- Custo = valor * taxa / 100\n\n### 2. Comparar taxas entre bandeiras\nCompare `fees.credit[\"1x\"]` de cada bandeira para escolher a mais vantajosa.\n\n### 3. Validar compatibilidade de CNAE\nVerifique se o CNAE do estabelecimento est√° em `categories[]`.\n\n### 4. Simular antecipa√ß√£o\nSe `allow_anticipation: true`, o estabelecimento pode solicitar adiantamento dos receb√≠veis.\n\n### 5. Exibir taxas ao cliente\nMostre as taxas finais (`fees`) na tela de checkout ou simula√ß√£o.\n\n## üìà Exemplo de C√°lculo\n\n**Transa√ß√£o:**\n- Valor: R$ 100,00\n- Bandeira: VISA\n- Parcelas: 3x\n- Taxa (fees.credit.3x): 1.02%\n\n**C√°lculo:**\n```\nTarifa = R$ 100,00 * 1.02 / 100\nTarifa = R$ 1,02\nValor L√≠quido = R$ 100,00 - R$ 1,02 = R$ 98,98\n```\n\n## ‚ö†Ô∏è Observa√ß√µes Importantes\n\n1. **Taxa 0 (zero):**\n   - Se `pix: 0`, a modalidade PIX n√£o est√° dispon√≠vel neste plano\n   - Se `debit: 0`, d√©bito n√£o est√° dispon√≠vel\n   - Se todas as parcelas de cr√©dito s√£o 0, cr√©dito n√£o est√° dispon√≠vel\n\n2. **Bandeiras inativas:**\n   - `active: false` indica que a bandeira n√£o est√° habilitada\n   - Transa√ß√µes com essa bandeira ser√£o recusadas\n\n3. **BACEN (ID 7):**\n   - Bandeira especial para transa√ß√µes PIX\n   - Apenas `pix` tem taxa, demais modalidades s√£o 0\n\n4. **Taxas podem mudar:**\n   - Consulte sempre antes de simular/processar transa√ß√£o\n   - Use `updated_at` para validar se houve mudan√ßas recentes\n\n5. **Markup:**\n   - Representa a margem do parceiro\n   - `fees = standard + markup` (c√°lculo simplificado)\n\n## üîó Endpoints Relacionados\n\n- `GET /api/plans` - Listar todos os planos\n- `POST /api/transactions/simulate` - Simular transa√ß√£o com o plano\n- `POST /api/establishments/:id/gateways` - Ativar gateway com planos\n\n## üìå Par√¢metro de Path\n\n- `id` (obrigat√≥rio): ID do plano comercial\n\n## üìå Headers Obrigat√≥rios\n\n- `integration-key`: sua chave de integra√ß√£o Paytime\n- `x-token`: seu token de autentica√ß√£o\n- `Authorization`: Bearer token gerado via `POST /api/paytime/auth/test`\n\n---\n\n**Pr√≥ximo passo:** Use as taxas retornadas para simular transa√ß√µes via `POST /api/transactions/simulate`.\n    ",
        "operationId": "PlansController_getPlan",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do plano comercial",
            "schema": {
              "example": 64,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes completos do plano com taxas por bandeira",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanDetailDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "404": {
            "description": "Plano n√£o encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Exibir plano comercial",
        "tags": [
          "Plans"
        ]
      }
    },
    "/api/banking-fees": {
      "get": {
        "description": "Lista todos os pacotes de tarifas banc√°rias dispon√≠veis no ambiente Paytime",
        "operationId": "BankingFeesController_listBankingFees",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token obtido via /api/paytime/auth/test",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON de filtros. Exemplo: { \"status\": \"CREATED\" }",
            "schema": {
              "example": "{\"status\":\"CREATED\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Texto para busca. Pesquisa por nome do pacote de tarifas",
            "schema": {
              "example": "Pacote Comercial",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "N√∫mero de registros por p√°gina",
            "schema": {
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina atual",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com lista de ordenadores. Exemplo: [{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de pacotes de tarifas banc√°rias",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListBankingFeesResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Listar pacotes de tarifas banc√°rias",
        "tags": [
          "Banking Fees"
        ]
      }
    },
    "/api/banking-fees/{id}": {
      "get": {
        "description": "Consulta os detalhes completos de um pacote espec√≠fico de tarifas banc√°rias",
        "operationId": "BankingFeesController_getBankingFees",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token obtido via /api/paytime/auth/test",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do pacote de tarifas banc√°rias",
            "schema": {
              "example": 2,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes completos do pacote de tarifas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BankingFeesDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "404": {
            "description": "Pacote de tarifas n√£o encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "summary": "Buscar tarifa banc√°ria",
        "tags": [
          "Banking Fees"
        ]
      }
    },
    "/api/banking/balance": {
      "get": {
        "description": "\nEste endpoint retorna o saldo total, bloqueado e dispon√≠vel de um estabelecimento espec√≠fico.\nPode ser utilizado para consultas em tempo real a fim de verificar valores dispon√≠veis para saque ou bloqueados por alguma opera√ß√£o.\n\n**Importante:**\n- Todos os valores s√£o retornados em centavos\n- total_balance = balance + blocked_balance\n- balance: valores dispon√≠veis para saque imediato\n- blocked_balance: valores indispon√≠veis temporariamente\n\n**Exemplo de uso:**\n```bash\ncurl --request GET \\\n  --url 'http://localhost:3001/api/banking/balance' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'establishment_id: 155100' \\\n  --header 'Authorization: Bearer seu_token'\n```\n    ",
        "operationId": "BankingController_getBalance",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento ao qual os lan√ßamentos est√£o vinculados",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Saldo do estabelecimento retornado com sucesso",
            "schema": {
              "example": {
                "total_balance": 5000000,
                "blocked_balance": 0,
                "balance": 5000000
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BalanceResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "403": {
            "description": "Acesso negado - establishment_id inv√°lido ou n√£o autorizado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Exibir saldo do estabelecimento",
        "tags": [
          "Banking"
        ]
      }
    },
    "/api/banking/extract": {
      "get": {
        "description": "\nEste endpoint permite consultar o extrato financeiro de um estabelecimento, retornando movimenta√ß√µes como transfer√™ncias, recebimentos, taxas e dep√≥sitos.\n\n**Tipos de movimenta√ß√£o:**\n- **FEES**: Taxas cobradas\n- **PIX**: Transfer√™ncias PIX\n- **TED**: Transfer√™ncias TED\n- **BILLET**: Boletos\n- **P2P**: Transfer√™ncias entre contas (Peer-to-Peer)\n- **OTHERS**: Outras movimenta√ß√µes (ex: dep√≥sitos)\n\n**Modalidades:**\n- **IN**: Entrada de valores\n- **OUT**: Sa√≠da de valores\n\n**Descri√ß√µes poss√≠veis:**\n- PAGAMENTO DE CONTAS\n- RECEBIMENTO DE PAGAMENTO\n- TRANSFER√äNCIA PIX\n- RECEBIMENTO PIX\n- DEPOSITO\n- TRANSFER√äNCIA ENVIADA\n- TRANSFER√äNCIA RECEBIDA\n- TRANSFER√äNCIA ENTRE CONTAS (P2P)\n\n**Filtros dispon√≠veis (JSON):**\n```json\n{\n  \"type\": \"PIX\",\n  \"modality\": \"IN\",\n  \"status\": \"Saldo Liberado\",\n  \"created_at\": \"2025-08-20\"\n}\n```\n\n**Ordena√ß√£o dispon√≠vel (JSON):**\n```json\n[\n  { \"column\": \"created_at\", \"direction\": \"DESC\" },\n  { \"column\": \"amount\", \"direction\": \"ASC\" }\n]\n```\n\n**Exemplo de uso:**\n```bash\ncurl --request GET \\\n  --url 'http://localhost:3001/api/banking/extract?perPage=20&page=1' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'establishment_id: 155100' \\\n  --header 'Authorization: Bearer seu_token'\n```\n    ",
        "operationId": "BankingController_getExtract",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "description": "ID do estabelecimento ao qual os lan√ßamentos est√£o vinculados",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON com filtros (type, modality, status, created_at)",
            "schema": {
              "example": "{\"type\":\"PIX\",\"modality\":\"IN\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca por description ou gateway_key",
            "schema": {
              "example": "PIX",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com ordenadores (created_at, amount)",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Extrato retornado com sucesso",
            "schema": {
              "example": {
                "total": 2,
                "perPage": 200,
                "page": 1,
                "lastPage": 1,
                "data": [
                  {
                    "type": "OTHERS",
                    "modality": "IN",
                    "created_at": "2025-08-20T23:08:23.000Z",
                    "description": "Deposito",
                    "gateway_key": "42cfba69-49c6-41db-890f-75e888093e7e",
                    "amount": 5000000,
                    "status": "Saldo Liberado",
                    "additionalInformation": {
                      "old_balance": 0,
                      "current_balance": 5000000
                    }
                  },
                  {
                    "type": "P2P",
                    "modality": "OUT",
                    "created_at": "2025-08-20T23:48:13.000Z",
                    "description": "TRANSFER√äNCIA P2P",
                    "gateway_key": "14992f6c-ac1c-494c-8a72-2f8260e1bdfd",
                    "amount": -50000,
                    "status": "Saldo Liberado",
                    "additionalInformation": {
                      "old_balance": 5000000,
                      "current_balance": 4950000
                    }
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListExtractResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "403": {
            "description": "Acesso negado - establishment_id inv√°lido ou n√£o autorizado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Listar extrato do estabelecimento",
        "tags": [
          "Banking"
        ]
      }
    },
    "/api/banking/transfers": {
      "get": {
        "description": "\nEsse endpoint permite listar as transfer√™ncias associadas a um estabelecimento, com possibilidade de aplicar filtros, pagina√ß√£o e ordena√ß√£o.\n\n**Tipos de transfer√™ncia:**\n- **TED**: Transfer√™ncia Eletr√¥nica Dispon√≠vel\n- **P2P**: Transfer√™ncia entre contas (Peer-to-Peer)\n- **PIX**: Transfer√™ncias via PIX\n- **WITHDRAW**: Saques\n\n**Status poss√≠veis:**\n- **CREATED**: Criada\n- **PENDING**: Pendente de processamento\n- **PAID**: Paga/Conclu√≠da\n- **FAILED**: Falhou\n- **REFUNDED**: Reembolsada\n- **CANCELED**: Cancelada\n- **PROCESSING**: Em processamento\n\n**M√©todos (dire√ß√£o):**\n- **IN**: Entrada (recebimento)\n- **OUT**: Sa√≠da (envio)\n\n**Filtros dispon√≠veis (JSON):**\n```json\n{\n  \"status\": \"CREATED\",\n  \"type\": \"PIX\",\n  \"method\": \"OUT\",\n  \"payer.establishment.document\": \"11299221000129\",\n  \"recipient.establishment.document\": \"10068114001\",\n  \"created_at\": \"2025-08-20\",\n  \"amount\": 50000\n}\n```\n\n**Busca textual em:**\n- _id, description, gateway_authorization\n- pix_protocol, end_to_end\n- documentos e nomes de payer/recipient\n\n**Ordena√ß√£o dispon√≠vel (JSON):**\n```json\n[\n  { \"column\": \"created_at\", \"direction\": \"DESC\" },\n  { \"column\": \"amount\", \"direction\": \"ASC\" }\n]\n```\n\n**Exemplo de uso:**\n```bash\ncurl --request GET \\\n  --url 'http://localhost:3001/api/banking/transfers?perPage=20&page=1' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'Authorization: Bearer seu_token'\n```\n    ",
        "operationId": "BankingController_listTransfers",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON com filtros (status, type, documents, description, created_at, amount, method)",
            "schema": {
              "example": "{\"status\":\"CREATED\",\"type\":\"PIX\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca por _id, description, gateway_authorization, documents, names",
            "schema": {
              "example": "PIX",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com ordenadores (created_at, amount)",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de transfer√™ncias retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListTransfersResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Listar transfer√™ncias",
        "tags": [
          "Banking"
        ]
      }
    },
    "/api/banking/transfers/{id}": {
      "get": {
        "description": "\nEsse endpoint permite consultar os detalhes completos de uma transfer√™ncia registrada no sistema da Paytime.\n√â utilizado para obter informa√ß√µes como valores, status, dados do recebedor e pagador, al√©m do hist√≥rico da transfer√™ncia.\n\n**Informa√ß√µes retornadas:**\n\n**Recipient/Payer (conta recebedora/pagadora):**\n- Dados da conta (account_number, account_check_digit)\n- Informa√ß√µes do estabelecimento (id, first_name, last_name, document)\n- Dados do marketplace\n- Informa√ß√µes do representante (quando aplic√°vel)\n- Tipo da conta (SAVING, CHECKING, PAYMENT)\n- Dados banc√°rios (bank_code, bank_ispb, bank_name)\n- Ag√™ncia (routing_number, routing_check_digit)\n- Chave PIX (quando aplic√°vel)\n\n**History (hist√≥rico de status):**\nCada item cont√©m:\n- status (CREATED ‚Üí PENDING ‚Üí PAID/FAILED/CANCELED)\n- created_at (timestamp da mudan√ßa)\n- _id (identificador do registro)\n\n**User (usu√°rio respons√°vel):**\n- id, first_name, last_name\n- profile_id (tipo de perfil)\n\n**Valores:**\n- amount: valor transferido (centavos)\n- original_amount: valor antes de taxas (centavos)\n- fees: valor total de taxas (centavos)\n\n**Identificadores:**\n- _id: ID da transfer√™ncia\n- gateway_key: c√≥digo do gateway\n- gateway_authorization: c√≥digo de autoriza√ß√£o\n- end_to_end: ID √∫nico Pix (quando aplic√°vel)\n- pixKey: chave utilizada (quando aplic√°vel)\n\n**Exemplo de uso:**\n```bash\ncurl --request GET \\\n  --url 'http://localhost:3001/api/banking/transfers/68a65eba69af539aa8ac9faf' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'Authorization: Bearer seu_token'\n```\n    ",
        "operationId": "BankingController_getTransfer",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da transfer√™ncia",
            "schema": {
              "example": "68a65eba69af539aa8ac9faf",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes da transfer√™ncia retornados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransferDetailDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "404": {
            "description": "Transfer√™ncia n√£o encontrada"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Detalhar transfer√™ncia",
        "tags": [
          "Banking"
        ]
      }
    },
    "/api/webhooks/receive": {
      "post": {
        "description": "\n**‚ö†Ô∏è IMPORTANTE: Este endpoint √© chamado PELA PAYTIME, n√£o por voc√™!**\n\nEste endpoint recebe notifica√ß√µes autom√°ticas (webhooks) enviadas pela Paytime quando eventos importantes acontecem:\n\n## üîí Seguran√ßa Implementada\n\n### Valida√ß√£o por Header Secreto ‚úÖ\n```typescript\n// A Paytime deve enviar:\nHeaders: {\n  \"x-webhook-secret\": \"seu_token_secreto\"\n}\n```\n\n**Configure no .env:**\n```env\nPAYTIME_WEBHOOK_SECRET=seu_token_super_secreto_aqui\n```\n\n‚ö†Ô∏è **Se o header n√£o corresponder, retorna 401 Unauthorized**\n\n### Recomenda√ß√µes Adicionais de Seguran√ßa:\n\n1. **HTTPS obrigat√≥rio** em produ√ß√£o\n2. **IP Allowlist** no firewall (IPs da Paytime)\n3. **Rate limiting** para prevenir spam\n4. **Idempot√™ncia** - processar eventos duplicados de forma segura\n\n## üìã Eventos que Este Endpoint Recebe:\n\n- **new-sub-transaction** - Nova transa√ß√£o criada\n- **updated-sub-transaction** - Transa√ß√£o atualizada (status, estorno, etc)\n- **new-sub-split** - Split criado\n- **canceled-sub-split** - Split cancelado\n- **new-establishment** - Estabelecimento cadastrado\n- **updated-establishment-status** - Status do EC alterado\n- **new-billet** - Boleto criado\n- **updated-billet-status** - Status do boleto alterado\n\n## üíª Exemplo de Payload Recebido:\n\n```json\n{\n  \"event\": \"updated-sub-transaction\",\n  \"data\": {\n    \"_id\": \"681259d37903c84441e0e85a\",\n    \"status\": \"PAID\",\n    \"amount\": 1005,\n    \"type\": \"CREDIT\",\n    \"gateway_authorization\": \"PAYTIME\",\n    \"created_at\": \"2025-04-30T17:11:47.341Z\"\n  },\n  \"timestamp\": \"2025-04-30T17:12:00.000Z\"\n}\n```\n\n## üîß Como Configurar:\n\n1. Implemente este endpoint em produ√ß√£o (URL p√∫blica)\n2. Configure o PAYTIME_WEBHOOK_SECRET no .env\n3. Informe a Paytime para enviar o header x-webhook-secret\n4. Registre sua URL na Paytime via POST /api/webhooks/events\n\n**URL de exemplo:**\n`https://seu-dominio.com/api/webhooks/receive`\n\n## ‚ö° Performance:\n\n- ‚úÖ Retorna 200 OK imediatamente\n- ‚úÖ Processamento ass√≠ncrono recomendado\n- ‚úÖ Timeout m√°ximo: 1 segundo (requisito Paytime)\n\n## üîç Monitoramento:\n\n- Logs detalhados de cada webhook recebido\n- IDs dos eventos para rastreabilidade\n- Timestamps de processamento\n    ",
        "operationId": "WebhooksController_receiveWebhook",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-webhook-secret",
            "required": true,
            "in": "header",
            "description": "Token secreto para valida√ß√£o do webhook (configurado no .env)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Payload do webhook enviado pela Paytime",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebhookReceiveDto"
              },
              "examples": {
                "transacao-paga": {
                  "summary": "Transa√ß√£o Paga",
                  "value": {
                    "event": "updated-sub-transaction",
                    "data": {
                      "_id": "681259d37903c84441e0e85a",
                      "status": "PAID",
                      "amount": 1005,
                      "type": "CREDIT",
                      "gateway_authorization": "PAYTIME"
                    },
                    "timestamp": "2025-04-30T17:12:00.000Z"
                  }
                },
                "split-criado": {
                  "summary": "Split Criado",
                  "value": {
                    "event": "new-sub-split",
                    "data": {
                      "_id": "507f191e810c19729de860ea",
                      "transaction_id": "681259d37903c84441e0e85a",
                      "amount": 500,
                      "status": "CREATED"
                    },
                    "timestamp": "2025-04-30T17:13:00.000Z"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook recebido e processado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookReceiveResponseDto"
                },
                "example": {
                  "message": "Webhook recebido com sucesso",
                  "eventId": "681259d37903c84441e0e85a",
                  "processedAt": "2025-04-30T17:12:00.500Z"
                }
              }
            }
          },
          "400": {
            "description": "Payload inv√°lido",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 400,
                  "message": "Validation failed",
                  "errors": [
                    "event must be a string"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Header x-webhook-secret inv√°lido ou ausente",
            "content": {
              "application/json": {
                "example": {
                  "statusCode": 401,
                  "message": "Webhook inv√°lido - token de seguran√ßa incorreto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "üîî Receber webhook da Paytime",
        "tags": [
          "Webhooks"
        ]
      }
    },
    "/api/webhooks/events": {
      "get": {
        "description": "\nLista todos os eventos de webhook registrados na plataforma Paytime.\n\n**üìå O que s√£o Webhooks?**\n\nWebhooks, tamb√©m conhecidos como HTTP Callbacks, permitem que voc√™ se inscreva para receber notifica√ß√µes em uma URL espec√≠fica de sua escolha.\n\nSempre que ocorre uma altera√ß√£o no estado de um recurso nas plataformas da Paytime ‚Äî como a cria√ß√£o bem-sucedida de uma transa√ß√£o ou o estorno de uma transa√ß√£o ‚Äî um evento correspondente √© gerado e enviado para os webhooks cadastrados.\n\n**üîî Eventos Dispon√≠veis:**\n\n| Evento | Descri√ß√£o | Quando √© Disparado |\n|--------|-----------|-------------------|\n| **new-billet** | Novo boleto criado | Cria√ß√£o de boleto manual via Portal |\n| **updated-billet-status** | Atualiza√ß√£o do status de boleto | A√ß√µes ass√≠ncronas (Portal ou API) |\n| **new-sub-split** | Split de Transa√ß√£o Sub | Qualquer tipo de split (independente da origem) |\n| **canceled-sub-split** | Cancelamento de Split Sub | Split cancelado (independente da origem) |\n| **new-establishment** | Novo estabelecimento cadastrado | Cria√ß√£o de EC manual via Portal |\n| **updated-establishment-status** | Atualiza√ß√£o do status de EC | Portal ou automa√ß√£o/webhook/antifraude |\n| **updated-establishment-gateway** | Atualiza√ß√£o de plataforma de EC | Portal ou webhook/automa√ß√£o |\n| **updated-establishment-data** | Atualiza√ß√£o de dados de EC | Portal |\n| **new-sub-transaction** | Nova transa√ß√£o Sub | Sempre (exceto via API) |\n| **updated-sub-transaction** | Transa√ß√£o Sub atualizada | Estorno, split, liquida√ß√£o, mudan√ßa de status |\n| **new-pagseguro-transaction** | Nova transa√ß√£o PagSeguro | Sempre |\n| **updated-pagseguro-transaction** | Transa√ß√£o PagSeguro atualizada | Estorno, mudan√ßa de status |\n| **new-zoop-transaction** | Nova transa√ß√£o Zoop | Sempre |\n| **updated-zoop-transaction** | Transa√ß√£o Zoop atualizada | Estorno, mudan√ßa de status (exceto conciliadores) |\n\n**‚ö†Ô∏è Importante:**\n\n- Eventos s√≠ncronos (POST/PUT diretos) j√° retornam resposta na pr√≥pria requisi√ß√£o e n√£o disparam webhooks adicionais\n- A URL do webhook deve estar publicamente acess√≠vel na internet\n- Paytime espera resposta em at√© 1 segundo (timeout)\n- Ap√≥s 3 tentativas sem sucesso, o evento entra em estado de falha\n- Implemente tratamento para eventos duplicados (garantia de idempot√™ncia)\n\n**Filtros dispon√≠veis (JSON):**\n```json\n{\n  \"active\": true,\n  \"status\": \"CREATED\"\n}\n```\n\n**Ordena√ß√£o dispon√≠vel (JSON):**\n```json\n[\n  { \"column\": \"created_at\", \"direction\": \"DESC\" },\n  { \"column\": \"id\", \"direction\": \"ASC\" }\n]\n```\n\n**Exemplo de uso:**\n```bash\ncurl --request GET \\\n  --url 'http://localhost:3001/api/webhooks/events?perPage=20&page=1' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'Authorization: Bearer seu_token'\n```\n    ",
        "operationId": "WebhooksController_listWebhookEvents",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON com filtros (active, status)",
            "schema": {
              "example": "{\"active\":true}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca por name ou description",
            "schema": {
              "example": "transaction",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°ximo 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com ordenadores (id, created_at)",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de eventos retornada com sucesso",
            "schema": {
              "example": {
                "total": 1,
                "page": 1,
                "perPage": 20,
                "lastPage": 1,
                "data": [
                  {
                    "id": 5,
                    "name": "new-sub-transaction",
                    "description": "Nova transa√ß√£o Sub.",
                    "active": true,
                    "url": "https://meusistema.com.br/webhook-receiver",
                    "basic_user": null,
                    "basic_pass": null,
                    "created_at": "2025-09-15T20:01:46.000Z",
                    "updated_at": "2025-09-15T20:01:46.000Z"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListWebhookEventsResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Listar eventos de webhook",
        "tags": [
          "Webhooks"
        ]
      },
      "post": {
        "description": "Registra novos eventos de webhook para receber notifica√ß√µes autom√°ticas da Paytime. Configure sua URL de recebimento, registre os eventos desejados e implemente o tratamento. A URL deve estar publicamente acess√≠vel (HTTPS recomendado) e o endpoint deve retornar 200 OK em at√© 1 segundo.",
        "operationId": "WebhooksController_registerWebhookEvents",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Dados dos eventos a serem registrados",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterWebhookEventDto"
              },
              "examples": {
                "com-autenticacao": {
                  "summary": "Com autentica√ß√£o HTTP Basic",
                  "value": {
                    "events": [
                      {
                        "event_id": 1,
                        "active": true,
                        "url": "https://meusistema.com.br/webhook-receiver",
                        "basic_user": "usuario_webhook",
                        "basic_pass": "senha_segura"
                      }
                    ]
                  }
                },
                "sem-autenticacao": {
                  "summary": "Sem autentica√ß√£o",
                  "value": {
                    "events": [
                      {
                        "event_id": 1,
                        "active": true,
                        "url": "https://meusistema.com.br/webhook-receiver"
                      }
                    ]
                  }
                },
                "multiplos-eventos": {
                  "summary": "M√∫ltiplos eventos",
                  "value": {
                    "events": [
                      {
                        "event_id": 1,
                        "active": true,
                        "url": "https://meusistema.com.br/webhook/transactions"
                      },
                      {
                        "event_id": 5,
                        "active": true,
                        "url": "https://meusistema.com.br/webhook/split"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Eventos registrados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterWebhookEventsResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos - URL obrigat√≥ria quando active = true"
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Registrar evento de webhook",
        "tags": [
          "Webhooks"
        ]
      }
    },
    "/api/webhooks/resend": {
      "post": {
        "description": "\nRedispara um evento de webhook manualmente para uma entidade espec√≠fica.\n\n**üîÑ Quando Usar:**\n\n- Webhook n√£o foi recebido devido a falha tempor√°ria no seu sistema\n- URL estava incorreta no momento do disparo original\n- Necessita reprocessar evento por quest√µes operacionais\n- Testes e valida√ß√£o de integra√ß√£o\n\n**üìã Eventos Dispon√≠veis para Redisparo:**\n\n- **Transa√ß√µes:** new-sub-transaction, updated-sub-transaction\n- **Split:** new-sub-split, canceled-sub-split\n- **Estabelecimentos:** new-establishment, updated-establishment-status, updated-establishment-data, updated-establishment-gateway\n- **Boletos:** new-billet, updated-billet-status\n- **Gateways:** new-pagseguro-transaction, updated-pagseguro-transaction, new-zoop-transaction, updated-zoop-transaction\n\n**‚öôÔ∏è Como Funciona:**\n\n1. Informe o tipo de evento (ex: \"updated-sub-transaction\")\n2. Informe o ID da entidade (ex: ID da transa√ß√£o)\n3. Paytime enviar√° o evento para as URLs cadastradas\n4. O payload ser√° id√™ntico ao evento original\n\n**‚ö†Ô∏è Requisitos:**\n\n- Evento deve estar ativo (active: true)\n- URL deve estar configurada corretamente\n- Entidade (transa√ß√£o, EC, etc) deve existir\n- Mesmas regras de timeout (1 segundo) e tentativas (3x)\n\n**üí° Dica:**\n\nUse este endpoint em conjunto com um sistema de monitoramento de webhooks. Quando detectar que um evento n√£o foi recebido, redispare automaticamente.\n\n**Exemplo - Redisparar transa√ß√£o atualizada:**\n```bash\ncurl --request POST \\\n  --url 'http://localhost:3001/api/webhooks/resend' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'Authorization: Bearer seu_token' \\\n  --header 'Content-Type: application/json' \\\n  --data '{\n    \"event\": \"updated-sub-transaction\",\n    \"id\": \"681258717903c84441e0e823\"\n  }'\n```\n\n**Exemplo - Redisparar split cancelado:**\n```bash\ncurl --request POST \\\n  --url 'http://localhost:3001/api/webhooks/resend' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'Authorization: Bearer seu_token' \\\n  --header 'Content-Type: application/json' \\\n  --data '{\n    \"event\": \"canceled-sub-split\",\n    \"id\": \"507f191e810c19729de860ea\"\n  }'\n```\n    ",
        "operationId": "WebhooksController_resendWebhook",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Dados do evento a ser redisparado",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendWebhookDto"
              },
              "examples": {
                "transacao-atualizada": {
                  "summary": "Transa√ß√£o atualizada",
                  "value": {
                    "event": "updated-sub-transaction",
                    "id": "681258717903c84441e0e823"
                  }
                },
                "split-cancelado": {
                  "summary": "Split cancelado",
                  "value": {
                    "event": "canceled-sub-split",
                    "id": "507f191e810c19729de860ea"
                  }
                },
                "estabelecimento-novo": {
                  "summary": "Novo estabelecimento",
                  "value": {
                    "event": "new-establishment",
                    "id": 155085
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Redisparo solicitado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResendWebhookResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos - evento ou ID incorreto"
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "404": {
            "description": "Entidade n√£o encontrada ou evento n√£o configurado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Redisparar evento de webhook",
        "tags": [
          "Webhooks"
        ]
      }
    },
    "/api/webhooks/events/{eventId}": {
      "delete": {
        "description": "\nRemove um evento de webhook registrado anteriormente.\n\n**üóëÔ∏è O que Acontece:**\n\n- O evento √© exclu√≠do permanentemente\n- Nenhum novo webhook ser√° disparado para este evento\n- Hist√≥rico de webhooks anteriores permanece (se aplic√°vel)\n- Opera√ß√£o irrevers√≠vel\n\n**‚ö†Ô∏è Cuidados:**\n\n- **Certifique-se antes de deletar** - opera√ß√£o n√£o pode ser desfeita\n- Considere desativar temporariamente (PUT com active: false) ao inv√©s de deletar\n- Verifique se n√£o h√° integra√ß√µes dependendo deste webhook\n- Documente o motivo da remo√ß√£o para auditoria\n\n**üîÑ Alternativa: Desativar Temporariamente**\n\nAo inv√©s de deletar, voc√™ pode desativar o webhook mantendo a configura√ß√£o:\n\n```bash\n# Use PUT /api/webhooks/events com:\n{\n  \"events\": [\n    {\n      \"event_id\": 5,\n      \"active\": false,  // Desativa sem deletar\n      \"url\": \"https://meusistema.com.br/webhook-receiver\"\n    }\n  ]\n}\n```\n\n**Quando Deletar:**\n\n‚úÖ URL n√£o ser√° mais utilizada\n‚úÖ Evento n√£o √© mais relevante para o neg√≥cio\n‚úÖ Migra√ß√£o para nova URL/configura√ß√£o\n‚úÖ Limpeza de webhooks de teste/desenvolvimento\n\n**Quando N√ÉO Deletar:**\n\n‚ùå Pausa tempor√°ria de integra√ß√£o (use active: false)\n‚ùå Manuten√ß√£o do sistema receptor (use active: false)\n‚ùå Testes de fallback/redund√¢ncia (mantenha configurado)\n\n**Exemplo de uso:**\n```bash\ncurl --request DELETE \\\n  --url 'http://localhost:3001/api/webhooks/events/5' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'Authorization: Bearer seu_token'\n```\n    ",
        "operationId": "WebhooksController_removeWebhookEvent",
        "parameters": [
          {
            "name": "x-token",
            "in": "header",
            "description": "Token de autentica√ß√£o da API Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "integration-key",
            "in": "header",
            "description": "Chave de integra√ß√£o fornecida pela Paytime",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "eventId",
            "required": true,
            "in": "path",
            "description": "ID do evento de webhook a ser removido",
            "schema": {
              "example": 5,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Evento removido com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveWebhookEventResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado - token inv√°lido ou expirado"
          },
          "404": {
            "description": "Evento n√£o encontrado"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Remover evento de webhook",
        "tags": [
          "Webhooks"
        ]
      }
    },
    "/api/activities": {
      "get": {
        "description": "\nConsulta a lista de atividades econ√¥micas (CNAEs) cadastradas na Paytime.\n\n**üéØ Objetivo:**\nEste endpoint √© utilizado principalmente durante o cadastro de estabelecimentos para selecionar a atividade econ√¥mica correspondente ao neg√≥cio.\n\n**üìã Campos Filtr√°veis:**\n- **id:** Identificador √∫nico da atividade\n- **name:** Nome da atividade (ex: \"Com√©rcio varejista\")\n- **code:** C√≥digo CNAE (ex: \"4763601\")\n\n**üîç Como Filtrar:**\n\nUtilize o par√¢metro `filters` em formato JSON:\n```json\n{\n  \"name\": \"Com√©rcio\",\n  \"code\": \"4763\"\n}\n```\n\n**üîé Busca Textual:**\n\nUse o par√¢metro `search` para buscar em m√∫ltiplos campos simultaneamente:\n```\nsearch=varejo\n```\n\n**üìä Ordena√ß√£o:**\n\nCampos orden√°veis via `sorters`:\n- id, name, code, created_at, updated_at\n\nExemplo:\n```json\n{\"name\": \"asc\", \"created_at\": \"desc\"}\n```\n\n**üí° Casos de Uso:**\n\n1. **Cadastro de Estabelecimento:** Listar CNAEs para o usu√°rio selecionar\n2. **Autocomplete:** Buscar CNAEs enquanto o usu√°rio digita\n3. **Valida√ß√£o:** Verificar se um c√≥digo CNAE existe na base\n\n**‚ö†Ô∏è Notas Importantes:**\n\n- M√°ximo de 100 registros por p√°gina\n- Use `search` para buscas amplas, `filters` para precis√£o\n- CNAEs s√£o utilizados para classifica√ß√£o fiscal e de risco\n\n**Exemplo de uso:**\n```bash\ncurl --request GET \\\n  --url 'http://localhost:3001/api/activities?search=comercio&perPage=20&page=1' \\\n  --header 'integration-key: sua_integration_key' \\\n  --header 'x-token: seu_x_token' \\\n  --header 'Authorization: Bearer seu_token'\n```\n    ",
        "operationId": "ActivitiesController_listActivities",
        "parameters": [
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "Filtros em JSON: id, name, code",
            "schema": {
              "example": "{\"name\":\"Com√©rcio\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Busca textual em m√∫ltiplos campos",
            "schema": {
              "example": "varejo",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Registros por p√°gina (m√°x 100)",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina",
            "schema": {
              "minimum": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "Ordena√ß√£o em JSON",
            "schema": {
              "example": "{\"name\":\"asc\"}",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de atividades retornada com sucesso",
            "schema": {
              "example": {
                "total": 685,
                "page": 1,
                "perPage": 20,
                "lastPage": 35,
                "data": [
                  {
                    "id": 685,
                    "name": "Administra√ß√£o p√∫blica em geral",
                    "code": "9311",
                    "createdAt": "2025-01-16T04:37:36.000Z",
                    "updatedAt": "2025-01-16T04:37:36.000Z"
                  },
                  {
                    "id": 684,
                    "name": "Outras atividades de ensino n√£o especificadas anteriormente",
                    "code": "8241",
                    "createdAt": "2025-01-16T04:37:36.000Z",
                    "updatedAt": "2025-01-16T04:37:36.000Z"
                  },
                  {
                    "id": 683,
                    "name": "Seguran√ßa e ordem p√∫blica",
                    "code": "9223",
                    "createdAt": "2025-01-16T04:37:36.000Z",
                    "updatedAt": "2025-01-16T04:37:36.000Z"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListActivitiesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Requisi√ß√£o inv√°lida - par√¢metros incorretos"
          },
          "401": {
            "description": "Falha na autentica√ß√£o - token inv√°lido ou ausente"
          },
          "500": {
            "description": "Erro interno do servidor"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Listar atividades econ√¥micas (CNAEs)",
        "tags": [
          "Activities"
        ]
      }
    },
    "/api/billets": {
      "post": {
        "description": "\n# üìÑ Criar Boleto Banc√°rio\n\nCria um novo boleto banc√°rio para pagamento. O processo √© **ass√≠ncrono**.\n\n## üéØ Processo de Cria√ß√£o\n\n1. **Requisi√ß√£o:** Cliente envia dados do boleto\n2. **Confirma√ß√£o:** API retorna status `PROCESSING`\n3. **Webhook `new-billet`:** Boleto criado no sistema\n4. **Webhook `updated-billet-status`:** Status evolui para `PENDING`, `PAID`, etc.\n\n## ‚ö†Ô∏è Importante\n\n- O boleto **n√£o est√° v√°lido** apenas com o retorno da requisi√ß√£o\n- Aguarde os **webhooks** para obter c√≥digo de barras, linha digit√°vel e URL do PDF\n- Acompanhe a evolu√ß√£o do status via `updated-billet-status`\n\n## üìã Campos Obrigat√≥rios\n\n### Boleto\n- `amount`: Valor em centavos (ex: 1000 = R$ 10,00)\n- `expiration`: Data de vencimento (ISO 8601: \"2025-08-28\")\n- `recharge`: Se √© recarga (true/false)\n- `external_reference`: Refer√™ncia externa opcional (ex: \"FAT-000090\")\n\n### Cliente\n- `first_name`: Nome ou raz√£o social\n- `last_name`: Sobrenome ou nome fantasia\n- `document`: CPF ou CNPJ (somente n√∫meros)\n- `email`: Email v√°lido\n- `address`: Endere√ßo completo (rua, n√∫mero, bairro, cidade, estado, CEP)\n\n### Instru√ß√µes\n- `booklet`: Se √© carn√™ (true/false)\n- `late_fee`: Multa (mode: PERCENTAGE/FIXED, amount: valor)\n- `interest`: Juros (mode: MONTHLY_PERCENTAGE, amount: valor)\n- `discount`: Desconto (mode: PERCENTAGE, amount: valor, limit_date: data)\n\n## üß™ Testes no Sandbox\n\n### Valor < R$ 100,00 (amount < 10000)\n- Status: `PROCESSING`\n- N√£o evolui automaticamente\n\n### R$ 100,00 ‚â§ Valor < R$ 500,00\n- Status: `PROCESSING` ‚Üí `PENDING`\n- Webhook: `updated-billet-status`\n\n### Valor ‚â• R$ 500,00 (amount ‚â• 50000)\n- Status: `PROCESSING` ‚Üí `PENDING` ‚Üí `PAID`\n- Webhooks: 2x `updated-billet-status`\n\n## üí∞ Taxas\n\nO valor l√≠quido ser√°: `amount - fees_banking.fees`\n\nExemplo: amount=1000 (R$ 10,00) - fees=250 (R$ 2,50) = R$ 7,50 l√≠quido\n\n## üîó Pr√≥ximos Passos\n\n1. Crie o boleto via POST\n2. Configure os webhooks para receber atualiza√ß√µes\n3. Obtenha c√≥digo de barras/linha digit√°vel quando status = PENDING\n4. Forne√ßa ao cliente para pagamento\n    ",
        "operationId": "BilletsController_createBillet",
        "parameters": [
          {
            "name": "establishment_id",
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBilletDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Boleto criado com sucesso (status PROCESSING)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BilletResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dados inv√°lidos"
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "422": {
            "description": "Erro de valida√ß√£o"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Criar boleto banc√°rio",
        "tags": [
          "Billets"
        ]
      },
      "get": {
        "description": "\n# üìã Listar Boletos Banc√°rios\n\nLista todos os boletos gerados no marketplace com filtros e pagina√ß√£o.\n\n## üîç Filtros Dispon√≠veis\n\n### status (string)\n- `PROCESSING`: Em processamento inicial\n- `PENDING`: Aguardando pagamento\n- `PAID`: Pago\n- `CANCELED`: Cancelado\n- `EXPIRED`: Vencido\n- `FAILED`: Falha no processamento\n\nExemplo: `{\"status\":\"PENDING\"}`\n\n### type (string)\n- `BILLET`: Boleto banc√°rio\n\n### establishment_id (string)\n- ID do estabelecimento\n\nExemplo: `{\"establishment_id\":\"155085\"}`\n\n### Filtros combinados\n```json\n{\n  \"status\": \"PENDING\",\n  \"establishment_id\": \"155085\"\n}\n```\n\n## üîé Busca Textual\n\nO par√¢metro `search` busca por:\n- ID do boleto\n- CPF/CNPJ do cliente\n- Email do cliente\n- Nome do estabelecimento\n\n## üìä Ordena√ß√£o\n\n```json\n[\n  { \"column\": \"created_at\", \"direction\": \"DESC\" },\n  { \"column\": \"expiration_at\", \"direction\": \"ASC\" }\n]\n```\n\nCampos orden√°veis: `created_at`, `updated_at`, `expiration_at`, `amount`\n\n## üìÑ Pagina√ß√£o\n\n- `perPage`: M√°ximo 100 registros por p√°gina\n- `page`: N√∫mero da p√°gina (inicia em 1)\n\n## üí° Casos de Uso\n\n### Boletos pendentes de pagamento\n```\nGET /api/billets?filters={\"status\":\"PENDING\"}\n```\n\n### Boletos de um estabelecimento\n```\nGET /api/billets?filters={\"establishment_id\":\"155085\"}\n```\n\n### Buscar por CPF do cliente\n```\nGET /api/billets?search=43878902077\n```\n\n### √öltimos boletos criados\n```\nGET /api/billets?sorters=[{\"column\":\"created_at\",\"direction\":\"DESC\"}]&perPage=20\n```\n\n## üìã Campos Retornados\n\n- **Identifica√ß√£o:** _id, gateway_key\n- **Valores:** amount, original_amount, fees\n- **Pagamento:** barcode, digitable_line, url, pix_emv\n- **Status:** status, expiration_at, payment_limit_date\n- **Relacionamentos:** establishment, marketplace, representative, client\n- **Instru√ß√µes:** billing_instructions (multa, juros, desconto)\n    ",
        "operationId": "BilletsController_listBillets",
        "parameters": [
          {
            "name": "establishment_id",
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON de filtros. Campos filtr√°veis: status, type, establishment_id",
            "schema": {
              "example": "{\"status\":\"PENDING\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Texto para busca. Pesquisa por ID, documento do cliente, estabelecimento",
            "schema": {
              "example": "43878902077",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "N√∫mero de registros por p√°gina",
            "schema": {
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina atual",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com lista de ordenadores. Exemplo: [{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de boletos retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListBilletsResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Listar boletos",
        "tags": [
          "Billets"
        ]
      }
    },
    "/api/billets/{id}": {
      "get": {
        "description": "\n# üîç Exibir Detalhes do Boleto\n\nRetorna todas as informa√ß√µes de um boleto espec√≠fico pelo ID.\n\n## üìã Informa√ß√µes Retornadas\n\n### Dados do Boleto\n- **_id:** Identificador √∫nico\n- **gateway_key:** Chave no gateway banc√°rio\n- **status:** Status atual do boleto\n- **expiration_at:** Data de vencimento\n- **payment_limit_date:** Data limite de pagamento\n\n### Valores\n- **amount:** Valor l√≠quido (ap√≥s taxas)\n- **original_amount:** Valor original\n- **fees:** Taxas aplicadas\n\n### Dados de Pagamento\n- **barcode:** C√≥digo de barras (dispon√≠vel quando PENDING)\n- **digitable_line:** Linha digit√°vel (dispon√≠vel quando PENDING)\n- **url:** Link do PDF do boleto\n- **pix_emv:** C√≥digo PIX copia e cola (se dispon√≠vel)\n\n### Cliente\n- **first_name, last_name:** Nome completo\n- **document:** CPF/CNPJ\n- **email:** Email de contato\n\n### Estabelecimento\n- **id, document:** Identifica√ß√£o\n- **account_number, account_check_digit:** Dados da conta\n\n### Instru√ß√µes de Cobran√ßa\n- **late_fee:** Multa por atraso\n- **interest:** Juros aplicados\n- **discount:** Desconto (se houver)\n\n## üí° Quando Usar\n\n### Verificar se boleto est√° pronto\nAp√≥s receber webhook `updated-billet-status`, consulte para obter:\n- C√≥digo de barras\n- Linha digit√°vel\n- URL do PDF\n\n### Consultar status atual\nAntes de mostrar ao cliente, verifique se status √© `PENDING`\n\n### Obter dados para pagamento\nUse `barcode` ou `digitable_line` para pagamento via app banc√°rio\n\n### Pix via boleto\nSe dispon√≠vel, use `pix_emv` para pagamento via Pix\n\n## üîó Fluxo Recomendado\n\n1. Crie o boleto via `POST /api/billets`\n2. Aguarde webhook `updated-billet-status` com status=PENDING\n3. Consulte `GET /api/billets/:id` para obter dados de pagamento\n4. Exiba c√≥digo de barras/linha digit√°vel ao cliente\n5. Aguarde webhook com status=PAID quando pago\n    ",
        "operationId": "BilletsController_getBillet",
        "parameters": [
          {
            "name": "establishment_id",
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do boleto",
            "schema": {
              "example": "689b893b59a7593764e8b0e1",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do boleto",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BilletResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "404": {
            "description": "Boleto n√£o encontrado"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Exibir boleto espec√≠fico",
        "tags": [
          "Billets"
        ]
      },
      "delete": {
        "description": "\n# üö´ Cancelar Boleto Banc√°rio\n\nCancela um boleto espec√≠fico, impedindo seu pagamento.\n\n## üéØ Objetivo\n\nInvalidar um boleto que n√£o deve mais ser pago, alterando seu status para `CANCELED`.\n\n## ‚ö†Ô∏è Importante\n\n### Quando cancelar\n- ‚úÖ Boleto ainda n√£o foi pago\n- ‚úÖ Status √© `PROCESSING` ou `PENDING`\n- ‚úÖ Cliente desistiu da compra/recarga\n- ‚úÖ Houve erro nos dados do boleto\n\n### N√£o √© poss√≠vel cancelar\n- ‚ùå Boleto j√° pago (status `PAID`)\n- ‚ùå Boleto j√° cancelado (status `CANCELED`)\n- ‚ùå Boleto expirado (status `EXPIRED`)\n\n## üìã Processo\n\n1. **DELETE /api/billets/:id**\n2. Status muda para `CANCELED`\n3. Webhook `updated-billet-status` √© disparado\n4. Boleto n√£o pode mais ser pago\n\n## üîÑ Ap√≥s Cancelamento\n\n### O que acontece\n- ‚úÖ C√≥digo de barras √© invalidado\n- ‚úÖ Linha digit√°vel n√£o funciona mais\n- ‚úÖ URL do PDF ainda acess√≠vel (marcado como CANCELADO)\n- ‚úÖ Pix copia e cola √© invalidado\n\n### O que N√ÉO acontece\n- ‚ùå N√£o h√° reembolso (boleto n√£o foi pago)\n- ‚ùå N√£o gera novo boleto automaticamente\n- ‚ùå N√£o cancela pedido/transa√ß√£o associada\n\n## üí° Casos de Uso\n\n### Cancelar antes do pagamento\nCliente desiste da compra antes de pagar:\n```\nDELETE /api/billets/689b893b59a7593764e8b0e1\n```\n\n### Corrigir erro nos dados\nBoleto gerado com valor errado, cancele e gere novo:\n1. `DELETE /api/billets/:id_errado`\n2. `POST /api/billets` com dados corretos\n\n### Evitar pagamento duplicado\nCliente j√° pagou por outro meio:\n```\nDELETE /api/billets/:id_do_boleto\n```\n\n## üîó Fluxo Recomendado\n\n1. Verifique status atual: `GET /api/billets/:id`\n2. Se status for PENDING ou PROCESSING, prossiga\n3. Cancele: `DELETE /api/billets/:id`\n4. Aguarde webhook `updated-billet-status`\n5. Confirme status=CANCELED\n\n## ‚ö†Ô∏è Aten√ß√£o\n\nSe o cliente tentar pagar um boleto cancelado:\n- O pagamento ser√° **recusado** pelo banco\n- Nenhum valor ser√° debitado\n- Nenhum webhook de pagamento ser√° disparado\n    ",
        "operationId": "BilletsController_cancelBillet",
        "parameters": [
          {
            "name": "establishment_id",
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do boleto a ser cancelado",
            "schema": {
              "example": "689b893b59a7593764e8b0e1",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Boleto cancelado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BilletResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Boleto n√£o pode ser cancelado (j√° pago ou expirado)"
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "404": {
            "description": "Boleto n√£o encontrado"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Cancelar boleto",
        "tags": [
          "Billets"
        ]
      }
    },
    "/api/billets/reference/{reference}": {
      "get": {
        "description": "\n# üîç Buscar Boleto por Refer√™ncia Externa\n\nLocaliza um boleto usando uma refer√™ncia externa como n√∫mero de fatura ou pedido.\n\n## üéØ Objetivo\n\nPermite verificar se j√° existe um boleto para uma fatura/pedido espec√≠fico,\nevitando a gera√ß√£o de boletos duplicados.\n\n## üìã Par√¢metros\n\n### reference (obrigat√≥rio)\n- Refer√™ncia externa usada na cria√ß√£o do boleto\n- **Exemplo:** FAT-000090, PEDIDO-123, ORD-456\n\n## üìù Respostas\n\n### Boleto encontrado (200)\nRetorna os dados do boleto:\n- Status atual\n- C√≥digo de barras/linha digit√°vel (se dispon√≠vel)\n- URL do PDF\n- Dados do cliente\n- Dados do estabelecimento\n\n### Boleto n√£o encontrado (404)\nRetorna erro informando que n√£o h√° boleto para essa refer√™ncia.\n\n## üí° Casos de Uso\n\n### Verificar antes de gerar novo boleto\nAntes de mostrar \"Gerar Boleto\", consulte se j√° existe:\n```\nGET /api/billets/reference/FAT-000090\n```\n\n### Exibir boleto existente\nSe encontrar boleto com status PENDING, mostre:\n- C√≥digo de barras\n- Linha digit√°vel\n- Bot√£o para baixar PDF\n- Op√ß√£o para cancelar (se necess√°rio)\n\n### Controle de duplica√ß√£o\n- ‚úÖ Se n√£o encontrar: pode gerar novo boleto\n- ‚ö†Ô∏è Se encontrar PENDING: mostrar dados existentes\n- ‚úÖ Se encontrar PAID: mostrar como pago\n- ‚úÖ Se encontrar CANCELED/EXPIRED: pode gerar novo\n\n## üîó Fluxo Recomendado\n\n1. Usu√°rio acessa tela de pagamento da fatura\n2. Sistema consulta `GET /api/billets/reference/FAT-000090`\n3. **Se encontrar boleto PENDING**: mostrar dados do boleto\n4. **Se n√£o encontrar**: mostrar bot√£o \"Gerar Boleto\"\n5. **Se encontrar PAID**: mostrar como \"Fatura Paga\"\n    ",
        "operationId": "BilletsController_getBilletByReference",
        "parameters": [
          {
            "name": "establishment_id",
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "reference",
            "required": true,
            "in": "path",
            "description": "Refer√™ncia externa do boleto",
            "schema": {
              "example": "FAT-000090",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Boleto encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BilletResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "404": {
            "description": "Boleto n√£o encontrado para essa refer√™ncia"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Buscar boleto por refer√™ncia externa",
        "tags": [
          "Billets"
        ]
      }
    },
    "/api/billets/recharge": {
      "post": {
        "description": "\n# üí∞ Recarga de Saldo via Boleto\n\nGera um boleto banc√°rio para recarga de saldo na conta digital Paytime.\n\n## üéØ Objetivo\n\nPermite que o estabelecimento adicione saldo √† sua conta atrav√©s do pagamento de um boleto banc√°rio.\n\n## üìã Par√¢metros\n\n### amount (obrigat√≥rio)\n- Valor da recarga em **centavos**\n- **M√≠nimo:** 1000 (R$ 10,00)\n- **Exemplo:** 5000 = R$ 50,00\n\n## ‚ö†Ô∏è Observa√ß√µes\n\n### Taxas\nO valor do boleto incluir√° as taxas banc√°rias:\n- Valor cobrado = `amount + fees_banking.fees`\n- Valor creditado = `amount` (valor solicitado)\n\nExemplo:\n- Recarga solicitada: R$ 100,00 (amount=10000)\n- Taxa: R$ 2,50 (fees=250)\n- Valor do boleto: R$ 102,50\n- Valor creditado ap√≥s pagamento: R$ 100,00\n\n### Vencimento\n- Vencimento autom√°tico: 3 dias ap√≥s cria√ß√£o\n- Pode ser pago ap√≥s o vencimento (conforme regras do banco)\n\n### Processo Ass√≠ncrono\n1. **POST:** Retorna boleto com status `PROCESSING`\n2. **Webhook:** Status evolui para `PENDING` (boleto dispon√≠vel)\n3. **Pagamento:** Cliente paga o boleto\n4. **Webhook:** Status `PAID` e saldo creditado\n\n## üß™ Testes no Sandbox\n\nUse os mesmos valores para simular cen√°rios:\n- **< R$ 100,00:** Fica em PROCESSING\n- **R$ 100-499,99:** Evolui para PENDING\n- **‚â• R$ 500,00:** Evolui para PAID automaticamente\n\n## üí° Casos de Uso\n\n### Recarga r√°pida de R$ 100\n```json\n{\n  \"amount\": 10000\n}\n```\n\n### Recarga de R$ 500 (vai para PAID no sandbox)\n```json\n{\n  \"amount\": 50000\n}\n```\n\n## üîó Pr√≥ximos Passos\n\n1. Crie o boleto de recarga\n2. Aguarde webhook com status=PENDING\n3. Consulte `GET /api/billets/:id` para obter c√≥digo de barras\n4. Cliente paga o boleto\n5. Ap√≥s webhook status=PAID, saldo estar√° dispon√≠vel\n    ",
        "operationId": "BilletsController_rechargeBillet",
        "parameters": [
          {
            "name": "establishment_id",
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RechargeBilletDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Boleto de recarga criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BilletResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Valor inv√°lido (m√≠nimo R$ 10,00)"
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "422": {
            "description": "Erro de valida√ß√£o"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Recarga via boleto",
        "tags": [
          "Billets"
        ]
      }
    },
    "/api/payments": {
      "get": {
        "description": "\n# üí≥ Listar Pagamentos de Boletos\n\nLista todos os pagamentos de boletos banc√°rios realizados no marketplace.\n\n## üéØ Objetivo\n\nConsultar o hist√≥rico de pagamentos para:\n- Concilia√ß√£o financeira\n- Acompanhamento de recebimentos\n- Relat√≥rios gerenciais\n- Auditoria de transa√ß√µes\n\n## üîç Filtros Dispon√≠veis\n\n### status (string)\n- `PROCESSING`: Em processamento\n- `PENDING`: Aguardando confirma√ß√£o\n- `PAID`: Pago e confirmado\n- `REFUNDED`: Reembolsado\n- `CANCELED`: Cancelado\n- `FAILED`: Falha no processamento\n\nExemplo: `{\"status\":\"PAID\"}`\n\n### amount (number)\nValor em centavos\n\nExemplo: `{\"amount\":150000}`\n\n### establishment.id (number)\nID do estabelecimento\n\nExemplo: `{\"establishment.id\":155100}`\n\n### expected_on (date)\nData prevista de recebimento\n\nExemplo: `{\"expected_on\":\"2025-10-23\"}`\n\n## üîé Busca Textual\n\nO par√¢metro `search` busca por:\n- ID do pagamento\n- Documento do estabelecimento\n- Documento do marketplace\n- Nome do estabelecimento\n\n## üìä Ordena√ß√£o\n\n```json\n[\n  { \"column\": \"created_at\", \"direction\": \"DESC\" },\n  { \"column\": \"amount\", \"direction\": \"DESC\" }\n]\n```\n\nCampos orden√°veis: `created_at`, `amount`, `expected_on`, `payment_date`\n\n## üìÑ Pagina√ß√£o\n\n- `perPage`: M√°ximo 100 registros por p√°gina\n- `page`: N√∫mero da p√°gina (inicia em 1)\n\n## üí° Casos de Uso\n\n### Pagamentos confirmados\n```\nGET /api/payments?filters={\"status\":\"PAID\"}\n```\n\n### Pagamentos de um estabelecimento\n```\nGET /api/payments?filters={\"establishment.id\":155100}\n```\n\n### Pagamentos acima de R$ 1000\n```\nGET /api/payments?filters={\"amount\":{\"$gte\":100000}}\n```\n\n### √öltimos pagamentos\n```\nGET /api/payments?sorters=[{\"column\":\"created_at\",\"direction\":\"DESC\"}]&perPage=20\n```\n\n## üìã Campos Retornados\n\n### Pagamento\n- **_id:** ID √∫nico\n- **status:** Status atual\n- **amount:** Valor em centavos\n- **expected_on:** Data prevista de recebimento\n- **payment_date:** Data efetiva do pagamento\n\n### Detalhes (payment_details)\n- **balance:** Valor pago com saldo\n- **card:** Valor pago com cart√£o\n- **total:** Valor total\n- **fees:** Taxas aplicadas\n\n### Estabelecimento\n- **id, type, document:** Identifica√ß√£o\n- **first_name, last_name:** Nome\n- **access_type, active:** Status\n\n### Marketplace\n- **id, type, nickname:** Identifica√ß√£o\n- **document:** CNPJ\n- **active:** Status\n\n## üîî Observa√ß√µes\n\n### Evolu√ß√£o de Status\nOs pagamentos seguem o fluxo:\n1. `PROCESSING`: Boleto pago, processando\n2. `PENDING`: Aguardando compensa√ß√£o\n3. `PAID`: Confirmado e dispon√≠vel\n\n### Webhooks\nConfigure webhooks para ser notificado sobre:\n- `updated-billet-status`: Mudan√ßas no status\n- Eventos de pagamento confirmado\n\n### Concilia√ß√£o\nUse os campos `created_at` e `payment_date` para concilia√ß√£o banc√°ria\n    ",
        "operationId": "PaymentsController_listPayments",
        "parameters": [
          {
            "name": "establishment_id",
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filters",
            "required": false,
            "in": "query",
            "description": "JSON de filtros. Campos filtr√°veis: status, type, establishment_id",
            "schema": {
              "example": "{\"status\":\"PENDING\"}",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Texto para busca. Pesquisa por ID, documento do cliente, estabelecimento",
            "schema": {
              "example": "43878902077",
              "type": "string"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "N√∫mero de registros por p√°gina",
            "schema": {
              "maximum": 100,
              "default": 20,
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "N√∫mero da p√°gina atual",
            "schema": {
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "sorters",
            "required": false,
            "in": "query",
            "description": "JSON com lista de ordenadores. Exemplo: [{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
            "schema": {
              "example": "[{\"column\":\"created_at\",\"direction\":\"DESC\"}]",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de pagamentos retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPaymentsResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Listar pagamentos de boletos",
        "tags": [
          "Payments"
        ]
      }
    },
    "/api/payments/{id}": {
      "get": {
        "description": "\n# üîç Exibir Detalhes do Pagamento\n\nRetorna informa√ß√µes completas de um pagamento de boleto espec√≠fico.\n\n## üìã Informa√ß√µes Retornadas\n\n### Dados do Pagamento\n- **_id:** Identificador √∫nico\n- **type:** Tipo do pagamento (BALANCE)\n- **status:** Status atual\n- **amount:** Valor pago em centavos\n- **expected_on:** Data prevista de recebimento\n- **payment_date:** Data efetiva (quando pago)\n\n### Detalhes do Boleto\n- **barcode:** C√≥digo de barras\n- **digitable_line:** Linha digit√°vel\n- **nominal_amount:** Valor nominal\n- **discount:** Desconto aplicado\n- **fine:** Multa aplicada\n- **interest:** Juros aplicados\n\n### Gateway\n- **gateway_key:** Chave no gateway\n- **gateway_authorization:** Gateway utilizado (CELCOIN)\n- **document_number:** N√∫mero do documento\n\n### Detalhes do Pagamento (payment_details)\n- **balance:** Pago com saldo da conta\n- **card:** Pago com cart√£o\n- **total:** Valor total\n- **fees:** Taxas cobradas\n\n### Benefici√°rio (recipient)\n- **name:** Nome do benefici√°rio\n- **document:** CPF/CNPJ\n\n### Detalhes do Boleto (billet_details)\n- **billet_type:** Tipo do boleto\n- **installments_paid:** Parcelas pagas\n- **total_amount_paid:** Valor total pago\n\n### Usu√°rio\n- **id, first_name, last_name:** Dados do usu√°rio\n- **profile_id:** Perfil\n\n### Estabelecimento\n- **id, type, document:** Identifica√ß√£o\n- **access_type, active:** Status e tipo de acesso\n\n### Marketplace\n- **id, type, nickname:** Identifica√ß√£o\n- **document, active:** CNPJ e status\n\n### Hist√≥rico (history)\nArray com todas as mudan√ßas de status:\n```json\n[\n  {\n    \"status\": \"CREATED\",\n    \"created_at\": \"2025-10-23T17:34:15.551Z\",\n    \"_id\": \"...\"\n  },\n  {\n    \"status\": \"PROCESSING\",\n    \"created_at\": \"2025-10-23T17:34:15.551Z\",\n    \"_id\": \"...\"\n  }\n]\n```\n\n## üí° Quando Usar\n\n### Verificar status de um pagamento\nConsulte para saber se o boleto foi pago e quando\n\n### Obter detalhes para concilia√ß√£o\nUse os dados de valor, data e benefici√°rio para conciliar com extrato banc√°rio\n\n### Auditoria de transa√ß√µes\nConsulte o hist√≥rico de mudan√ßas de status\n\n### Resolver disputas\nTenha acesso a todos os dados do pagamento para an√°lise\n\n## üîó Fluxo Recomendado\n\n1. Cliente paga o boleto\n2. Webhook `updated-billet-status` com status=PAID\n3. Consulte `GET /api/payments/:id` para detalhes completos\n4. Use `payment_date` e `amount` para concilia√ß√£o\n5. Verifique `history` para rastrear evolu√ß√£o do status\n    ",
        "operationId": "PaymentsController_getPayment",
        "parameters": [
          {
            "name": "establishment_id",
            "in": "header",
            "description": "ID do estabelecimento (opcional - usa valor padr√£o se n√£o fornecido)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do pagamento",
            "schema": {
              "example": "68fa6717335fe7e377c83322",
              "type": "string"
            }
          },
          {
            "name": "establishment_id",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do pagamento",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "N√£o autorizado"
          },
          "404": {
            "description": "Pagamento n√£o encontrado"
          },
          "500": {
            "description": "Erro interno"
          }
        },
        "summary": "Exibir pagamento espec√≠fico",
        "tags": [
          "Payments"
        ]
      }
    }
  },
  "info": {
    "title": "RykonPay API",
    "description": "\n# API de Integra√ß√£o com Paytime\n\nServi√ßo centralizado para gerenciamento de pagamentos via Paytime.\n\n## üîë Autentica√ß√£o Paytime\n\nA Paytime utiliza um fluxo de autentica√ß√£o baseado em credenciais que geram um Bearer Token JWT:\n\n**Credenciais necess√°rias (fornecidas pela Paytime):**\n- `integration-key`: Chave de integra√ß√£o √∫nica do parceiro\n- `authentication-key`: Chave de autentica√ß√£o\n- `x-token`: Token adicional de seguran√ßa\n\n**Fluxo:**\n1. Requisi√ß√£o GET para `/v1/auth/login` com credenciais no body (formato JSON)\n2. Recebe Bearer Token JWT que expira em **30 minutos**\n3. Token deve ser inclu√≠do no header `Authorization: Bearer {token}` em todas as requisi√ß√µes subsequentes\n4. O RykonPay gerencia automaticamente a renova√ß√£o do token\n\n## üåç Ambientes\n\n### Sandbox (Testes)\n- URL: `https://api.sandbox.paytime.com.br`\n- Dados fict√≠cios\n- Ideal para desenvolvimento e homologa√ß√£o\n- ‚ö†Ô∏è Evite abusos de volumetria\n\n### Produ√ß√£o\n- URL: `https://api.paytime.com.br`\n- Dados reais\n- Requer valida√ß√£o documental e homologa√ß√£o\n\n## üìã Vari√°veis de Ambiente\n\nConfigure no arquivo `.env`:\n\n```env\n# Servidor\nPORT=3001\nNODE_ENV=development\nCORS_ORIGINS=http://localhost:3000\n\n# Paytime - Sandbox\nPAYTIME_ENV=sandbox\nPAYTIME_BASE_URL=https://api.sandbox.paytime.com.br\nPAYTIME_INTEGRATION_KEY=sua_chave_integracao\nPAYTIME_AUTHENTICATION_KEY=sua_chave_autenticacao\nPAYTIME_X_TOKEN=seu_x_token\n```\n\n## üöÄ Recursos Dispon√≠veis\n\n- **Pagamentos:** Cart√£o, Pix e Boleto\n- **Split:** M√∫ltiplos recebedores por transa√ß√£o\n- **Antifraude:** Seguran√ßa integrada\n- **Estabelecimentos:** Gest√£o via API\n- **Webhooks:** Notifica√ß√µes em tempo real\n- **Banking:** Saldo, extrato e transfer√™ncias\n\n## üìö Documenta√ß√£o Oficial\n\nhttps://docs-parceiro.paytime.com.br\n\n## ‚ö†Ô∏è Limites da API\n\n**200 requisi√ß√µes por minuto** (rate limit Paytime)\n      ",
    "version": "1.0",
    "contact": {
      "name": "Rykon Suporte",
      "url": "https://rykon.com.br",
      "email": "suporte@rykon.com.br"
    }
  },
  "tags": [
    {
      "name": "Auth",
      "description": "Autentica√ß√£o e valida√ß√£o de credenciais Paytime"
    },
    {
      "name": "Authentication",
      "description": "Autentica√ß√£o interna do RykonPay"
    },
    {
      "name": "Transactions",
      "description": "Gerenciamento de transa√ß√µes (Pix, Cart√£o)"
    },
    {
      "name": "Billets",
      "description": "Boletos banc√°rios - cria√ß√£o, consulta e cancelamento"
    },
    {
      "name": "Payments",
      "description": "Consulta de pagamentos de boletos"
    },
    {
      "name": "Establishments",
      "description": "Cadastro e consulta de estabelecimentos"
    },
    {
      "name": "Gateways",
      "description": "Gateways de pagamento dispon√≠veis"
    },
    {
      "name": "Representatives",
      "description": "Representantes comerciais"
    },
    {
      "name": "Plans",
      "description": "Planos de pagamento"
    },
    {
      "name": "Banking",
      "description": "Opera√ß√µes banc√°rias - saldo, extrato, transfer√™ncias"
    },
    {
      "name": "Banking Fees",
      "description": "Taxas banc√°rias"
    },
    {
      "name": "Activities",
      "description": "Hist√≥rico de atividades do sistema"
    },
    {
      "name": "Liquidations (Marketplace)",
      "description": "Liquida√ß√µes do marketplace"
    },
    {
      "name": "Webhooks",
      "description": "Recebimento de eventos da Paytime"
    },
    {
      "name": "Antifraud (ClearSale)",
      "description": "An√°lise antifraude ClearSale"
    },
    {
      "name": "Antifraud (IDPAY)",
      "description": "An√°lise antifraude IDPAY"
    },
    {
      "name": "Antifraud (3DS)",
      "description": "Autentica√ß√£o 3D Secure"
    }
  ],
  "servers": [
    {
      "url": "http://localhost:3002",
      "description": "Desenvolvimento Local"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http",
        "description": "Token de autentica√ß√£o interno do RykonPay (se configurado)"
      }
    },
    "schemas": {
      "LoginDto": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "Nome de usu√°rio para autentica√ß√£o",
            "example": "admin"
          },
          "password": {
            "type": "string",
            "description": "Senha do usu√°rio",
            "example": "sua_senha_segura"
          }
        },
        "required": [
          "username",
          "password"
        ]
      },
      "LoginResponseDto": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string",
            "description": "Token JWT para autentica√ß√£o nas rotas protegidas",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwic3ViIjoxLCJpYXQiOjE3MzgyNjM4MjYsImV4cCI6MTczODI2NzQyNn0.abc123def456..."
          },
          "expires_in": {
            "type": "number",
            "description": "Tempo de expira√ß√£o do token em segundos",
            "example": 3600
          }
        },
        "required": [
          "access_token",
          "expires_in"
        ]
      },
      "AuthTestResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indica se o teste de autentica√ß√£o foi bem-sucedido",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "Mensagem descritiva do resultado",
            "example": "Autentica√ß√£o com Paytime realizada com sucesso"
          },
          "environment": {
            "type": "string",
            "description": "Ambiente Paytime configurado",
            "example": "sandbox",
            "enum": [
              "sandbox",
              "production"
            ]
          },
          "baseUrl": {
            "type": "string",
            "description": "URL base da API Paytime",
            "example": "https://api.sandbox.paytime.com.br"
          },
          "tokenInfo": {
            "type": "object",
            "description": "Informa√ß√µes sobre o token obtido",
            "example": {
              "hasToken": true,
              "length": 245
            }
          },
          "error": {
            "type": "string",
            "description": "Mensagem de erro (apenas quando success=false)",
            "example": "Credenciais inv√°lidas"
          }
        },
        "required": [
          "success",
          "message",
          "environment"
        ]
      },
      "AuthStatusResponseDto": {
        "type": "object",
        "properties": {
          "environment": {
            "type": "string",
            "description": "Ambiente Paytime configurado",
            "example": "sandbox",
            "enum": [
              "sandbox",
              "production"
            ]
          },
          "baseUrl": {
            "type": "string",
            "description": "URL base da API Paytime",
            "example": "https://api.sandbox.paytime.com.br"
          },
          "configValid": {
            "type": "boolean",
            "description": "Indica se as credenciais est√£o configuradas corretamente",
            "example": true
          },
          "token": {
            "type": "object",
            "description": "Informa√ß√µes sobre o token em cache",
            "example": {
              "hasToken": true,
              "expiresAt": "2025-12-12T22:00:00.000Z"
            }
          }
        },
        "required": [
          "environment",
          "baseUrl",
          "configValid",
          "token"
        ]
      },
      "CalendarItemDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Valor previsto em centavos para a data especificada",
            "example": 100000
          },
          "date": {
            "type": "string",
            "description": "Data prevista para o lan√ßamento (formato YYYY-MM-DD)",
            "example": "2025-07-01"
          }
        },
        "required": [
          "amount",
          "date"
        ]
      },
      "PeriodTotalDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Valor total em centavos previsto para o per√≠odo",
            "example": 300000
          }
        },
        "required": [
          "amount"
        ]
      },
      "MonthlyGroupDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Valor total em centavos previsto para o m√™s especificado",
            "example": 2000000
          },
          "year": {
            "type": "number",
            "description": "Ano do agrupamento",
            "example": 2025
          },
          "month": {
            "type": "number",
            "description": "M√™s do agrupamento (1 a 12)",
            "example": 7,
            "minimum": 1,
            "maximum": 12
          }
        },
        "required": [
          "amount",
          "year",
          "month"
        ]
      },
      "FutureReleasesResponseDto": {
        "type": "object",
        "properties": {
          "calendar": {
            "description": "Lista de valores previstos por data",
            "example": [
              {
                "amount": 100000,
                "date": "2025-07-01"
              }
            ],
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CalendarItemDto"
            }
          },
          "sevenDays": {
            "description": "Total consolidado de valores previstos para os pr√≥ximos 7 dias",
            "example": {
              "amount": 300000
            },
            "allOf": [
              {
                "$ref": "#/components/schemas/PeriodTotalDto"
              }
            ]
          },
          "fifteenDays": {
            "description": "Total consolidado de valores previstos para os pr√≥ximos 15 dias",
            "example": {
              "amount": 500000
            },
            "allOf": [
              {
                "$ref": "#/components/schemas/PeriodTotalDto"
              }
            ]
          },
          "thirtyDays": {
            "description": "Total consolidado de valores previstos para os pr√≥ximos 30 dias",
            "example": {
              "amount": 800000
            },
            "allOf": [
              {
                "$ref": "#/components/schemas/PeriodTotalDto"
              }
            ]
          },
          "months": {
            "description": "Lista de valores agrupados por m√™s/ano",
            "example": [
              {
                "amount": 2000000,
                "year": 2025,
                "month": 7
              }
            ],
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MonthlyGroupDto"
            }
          },
          "total": {
            "description": "Valor total global previsto considerando todos os lan√ßamentos futuros",
            "example": {
              "amount": 5000000
            },
            "allOf": [
              {
                "$ref": "#/components/schemas/PeriodTotalDto"
              }
            ]
          }
        },
        "required": [
          "calendar",
          "sevenDays",
          "fifteenDays",
          "thirtyDays",
          "months",
          "total"
        ]
      },
      "DailyReleaseItemDto": {
        "type": "object",
        "properties": {
          "transaction_date": {
            "type": "string",
            "description": "Data/hora exata em que a transa√ß√£o foi realizada (em UTC)",
            "example": "2025-06-03T18:35:54.547Z"
          },
          "transaction_modality": {
            "type": "string",
            "description": "Modalidade da transa√ß√£o (ex.: CREDIT 10x, PIX, DEBIT)",
            "example": "CREDIT 10x"
          },
          "brand_name": {
            "type": "string",
            "description": "Nome da bandeira do cart√£o utilizado",
            "example": "MASTERCARD"
          },
          "gateway_authorization": {
            "type": "string",
            "description": "Subadquirente respons√°vel pela autoriza√ß√£o",
            "enum": [
              "PAYTIME",
              "ZOOP",
              "PAGSEGURO"
            ],
            "example": "PAYTIME"
          },
          "point_of_sale": {
            "type": "string",
            "description": "Nome ou identifica√ß√£o do ponto de venda",
            "example": "ONLINE"
          },
          "transaction_original_amount": {
            "type": "number",
            "description": "Valor original da transa√ß√£o, em centavos",
            "example": 14295
          },
          "transaction_amount": {
            "type": "number",
            "description": "Valor l√≠quido da transa√ß√£o, em centavos (ap√≥s taxas)",
            "example": 14005
          },
          "transaction_id": {
            "type": "string",
            "description": "Identificador √∫nico da transa√ß√£o",
            "example": "683f408bbb9f32ba3b65"
          },
          "date": {
            "type": "string",
            "description": "Data prevista para a libera√ß√£o do valor (formato YYYY-MM-DD)",
            "example": "2026-03-30"
          },
          "installment": {
            "type": "number",
            "description": "N√∫mero de parcelas (1 para pagamento √† vista)",
            "example": 10
          },
          "amount": {
            "type": "number",
            "description": "Valor l√≠quido da parcela, em centavos",
            "example": 1405
          }
        },
        "required": [
          "transaction_date",
          "transaction_modality",
          "brand_name",
          "gateway_authorization",
          "point_of_sale",
          "transaction_original_amount",
          "transaction_amount",
          "transaction_id",
          "date",
          "installment",
          "amount"
        ]
      },
      "DailyReleasesResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "N√∫mero total de registros encontrados",
            "example": 4
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual da consulta",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "Quantidade de registros exibidos por p√°gina",
            "example": 20
          },
          "lastPage": {
            "type": "number",
            "description": "N√∫mero total de p√°ginas dispon√≠veis",
            "example": 1
          },
          "data": {
            "description": "Lista de lan√ßamentos futuros di√°rios",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DailyReleaseItemDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      },
      "CardDto": {
        "type": "object",
        "properties": {
          "brand_name": {
            "type": "string",
            "description": "Bandeira do cart√£o",
            "example": "MASTERCARD"
          },
          "first4_digits": {
            "type": "string",
            "description": "Primeiros 4 d√≠gitos",
            "example": "5200"
          },
          "last4_digits": {
            "type": "string",
            "description": "√öltimos 4 d√≠gitos",
            "example": "1005"
          },
          "expiration_month": {
            "type": "string",
            "description": "M√™s de expira√ß√£o",
            "example": "12"
          },
          "expiration_year": {
            "type": "string",
            "description": "Ano de expira√ß√£o",
            "example": "2026"
          },
          "holder_name": {
            "type": "string",
            "description": "Nome do portador",
            "example": "JO√ÉO DA SILVA"
          },
          "bin": {
            "type": "string",
            "description": "BIN do cart√£o",
            "example": "520000"
          },
          "token": {
            "type": "string",
            "description": "Token do cart√£o"
          },
          "_id": {
            "type": "string",
            "description": "ID interno do cart√£o"
          }
        },
        "required": [
          "brand_name",
          "first4_digits",
          "last4_digits",
          "expiration_month",
          "expiration_year",
          "holder_name",
          "_id"
        ]
      },
      "PointOfSaleDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Tipo de venda",
            "enum": [
              "ONLINE",
              "CHIP",
              "PHYSICAL"
            ],
            "example": "ONLINE"
          },
          "identification_type": {
            "type": "string",
            "description": "Tipo de identifica√ß√£o da leitura",
            "enum": [
              "CHIP",
              "CONTACTLESS",
              "MAGNETIC",
              "API"
            ],
            "example": "API"
          },
          "identification_number": {
            "type": "string",
            "description": "N√∫mero de identifica√ß√£o do PDV"
          }
        },
        "required": [
          "type",
          "identification_type"
        ]
      },
      "AcquirerDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nome do adquirente",
            "example": "PAGSEGURO"
          },
          "acquirer_nsu": {
            "type": "number",
            "description": "NSU do adquirente",
            "example": 123456789123
          },
          "gateway_key": {
            "type": "string",
            "description": "ID da transa√ß√£o no gateway",
            "example": "20DDFAE5-F349-4645-8273-D72F94F52155"
          },
          "mid": {
            "type": "string",
            "description": "Merchant ID",
            "example": "100000000000002"
          },
          "_id": {
            "type": "string",
            "description": "ID interno"
          }
        },
        "required": [
          "name",
          "acquirer_nsu",
          "gateway_key",
          "mid",
          "_id"
        ]
      },
      "AntifraudDto": {
        "type": "object",
        "properties": {
          "analyse_required": {
            "type": "string",
            "description": "Tipo de an√°lise requerida",
            "enum": [
              "THREEDS",
              "CLEARSALE",
              "IDPAY"
            ],
            "example": "CLEARSALE"
          },
          "analyse_status": {
            "type": "string",
            "description": "Status da an√°lise",
            "enum": [
              "APPROVED",
              "PROCESSING",
              "WAITING_AUTH",
              "FAILED",
              "NO_ANALYSED"
            ],
            "example": "APPROVED"
          },
          "antifraud_id": {
            "type": "string",
            "description": "ID da transa√ß√£o no antifraude"
          },
          "_id": {
            "type": "string",
            "description": "ID interno"
          }
        },
        "required": [
          "analyse_status",
          "_id"
        ]
      },
      "SplitDto": {
        "type": "object",
        "properties": {
          "active": {
            "type": "boolean",
            "description": "Split ativo",
            "example": true
          },
          "is_origin": {
            "type": "boolean",
            "description": "Transa√ß√£o √© a origem do split",
            "example": true
          },
          "processing": {
            "type": "boolean",
            "description": "Split em processamento"
          },
          "initial_amount": {
            "type": "number",
            "description": "Valor inicial da transa√ß√£o principal"
          }
        },
        "required": [
          "active",
          "is_origin"
        ]
      },
      "ExpectedOnDto": {
        "type": "object",
        "properties": {
          "installment": {
            "type": "number",
            "description": "N√∫mero da parcela",
            "example": 1
          },
          "date": {
            "type": "string",
            "description": "Data prevista de liquida√ß√£o",
            "example": "2025-06-30T12:00:00.198Z"
          },
          "paid_at": {
            "type": "string",
            "description": "Data de liquida√ß√£o (se status = PAID)"
          },
          "amount": {
            "type": "number",
            "description": "Valor da parcela em centavos",
            "example": 1400
          },
          "status": {
            "type": "string",
            "description": "Status da parcela",
            "enum": [
              "PENDING",
              "PAID",
              "CANCELED",
              "REFUNDED",
              "FAILED"
            ],
            "example": "PENDING"
          }
        },
        "required": [
          "installment",
          "date",
          "amount",
          "status"
        ]
      },
      "TransactionPaymentResponseDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "C√≥digo da adquirente"
          },
          "message": {
            "type": "string",
            "description": "Mensagem descritiva (padr√£o ABECS)"
          },
          "reference": {
            "type": "string",
            "description": "NSU da autoriza√ß√£o"
          },
          "authorization_code": {
            "type": "string",
            "description": "C√≥digo de autoriza√ß√£o"
          },
          "nsu": {
            "type": "string",
            "description": "NSU de 12 d√≠gitos"
          },
          "reason_code": {
            "type": "string",
            "description": "C√≥digo do motivo (ABECS compliance)"
          },
          "info_additional": {
            "description": "Informa√ß√µes adicionais",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "AddressDto": {
        "type": "object",
        "properties": {
          "street": {
            "type": "string",
            "description": "Rua",
            "example": "Rua Maria dos Desenvolvedores"
          },
          "number": {
            "type": "string",
            "description": "N√∫mero",
            "example": "0101"
          },
          "complement": {
            "type": "string",
            "description": "Complemento",
            "example": "Debug"
          },
          "neighborhood": {
            "type": "string",
            "description": "Bairro",
            "example": "Bairro Deploy"
          },
          "city": {
            "type": "string",
            "description": "Cidade",
            "example": "Vit√≥ria"
          },
          "state": {
            "type": "string",
            "description": "Estado (UF)",
            "example": "ES"
          },
          "zip_code": {
            "type": "string",
            "description": "CEP",
            "example": "29000000"
          }
        },
        "required": [
          "street",
          "number",
          "neighborhood",
          "city",
          "state",
          "zip_code"
        ]
      },
      "CustomerDto": {
        "type": "object",
        "properties": {
          "first_name": {
            "type": "string",
            "description": "Nome do cliente",
            "example": "Jo√£o"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome do cliente",
            "example": "da Silva"
          },
          "document": {
            "type": "string",
            "description": "Documento do cliente",
            "example": "1006811400"
          },
          "email": {
            "type": "string",
            "description": "Email do cliente",
            "example": "emaildocliente@gmail.com"
          },
          "phone": {
            "type": "string",
            "description": "Telefone do cliente",
            "example": "319000000"
          },
          "address": {
            "description": "Endere√ßo do cliente",
            "allOf": [
              {
                "$ref": "#/components/schemas/AddressDto"
              }
            ]
          },
          "_id": {
            "type": "string",
            "description": "ID interno"
          }
        },
        "required": [
          "first_name",
          "document",
          "_id"
        ]
      },
      "PlanDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do plano",
            "example": 123
          },
          "allow_anticipation": {
            "type": "boolean",
            "description": "Permite antecipa√ß√£o",
            "example": true
          },
          "days_anticipation": {
            "type": "number",
            "description": "Dias de antecipa√ß√£o",
            "enum": [
              1,
              14,
              30
            ],
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Nome do plano",
            "example": "Plano B√°sico"
          },
          "modality": {
            "type": "string",
            "description": "Modalidade",
            "enum": [
              "PHYSICAL",
              "ONLINE",
              "TAP_PHONE"
            ],
            "example": "ONLINE"
          }
        },
        "required": [
          "id",
          "allow_anticipation",
          "days_anticipation",
          "name",
          "modality"
        ]
      },
      "FlagDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID da bandeira",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Nome da bandeira",
            "enum": [
              "MASTERCARD",
              "VISA",
              "ELO",
              "AMERICAN EXPRESS",
              "HIPERCARD",
              "OTHERS",
              "BACEN"
            ],
            "example": "MASTERCARD"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "EstablishmentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento",
            "example": 456
          },
          "first_name": {
            "type": "string",
            "description": "Nome fantasia",
            "example": "Loja Online"
          },
          "last_name": {
            "type": "string",
            "description": "Raz√£o social",
            "example": "Empresa LTDA"
          },
          "document": {
            "type": "string",
            "description": "CPF ou CNPJ",
            "example": "12345678000190"
          },
          "type": {
            "type": "string",
            "description": "Tipo",
            "enum": [
              "INDIVIDUAL",
              "BUSINESS"
            ],
            "example": "BUSINESS"
          },
          "access_type": {
            "type": "string",
            "description": "Tipo de acesso",
            "enum": [
              "ACQUIRER",
              "BANKING"
            ],
            "example": "ACQUIRER"
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name",
          "document",
          "type",
          "access_type"
        ]
      },
      "MarketplaceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do marketplace",
            "example": 789
          },
          "type": {
            "type": "string",
            "description": "Tipo",
            "enum": [
              "WHITELABEL",
              "LICENSED",
              "REPRESENTATIVE"
            ],
            "example": "WHITELABEL"
          },
          "nickname": {
            "type": "string",
            "description": "Apelido",
            "example": "Meu Marketplace"
          },
          "active": {
            "type": "boolean",
            "description": "Status ativo",
            "example": true
          },
          "first_name": {
            "type": "string",
            "description": "Nome fantasia",
            "example": "Marketplace X"
          },
          "last_name": {
            "type": "string",
            "description": "Raz√£o social",
            "example": "Marketplace X LTDA"
          },
          "document": {
            "type": "string",
            "description": "CPF ou CNPJ",
            "example": "98765432000100"
          }
        },
        "required": [
          "id",
          "type",
          "nickname",
          "active",
          "first_name",
          "last_name",
          "document"
        ]
      },
      "RepresentativeDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do representante",
            "example": 321
          },
          "marketplace_id": {
            "type": "number",
            "description": "ID do marketplace",
            "example": 789
          },
          "active": {
            "type": "boolean",
            "description": "Status ativo",
            "example": true
          },
          "first_name": {
            "type": "string",
            "description": "Nome fantasia",
            "example": "Representante Y"
          },
          "last_name": {
            "type": "string",
            "description": "Raz√£o social",
            "example": "Representante Y LTDA"
          },
          "document": {
            "type": "string",
            "description": "CPF ou CNPJ",
            "example": "11223344000155"
          }
        },
        "required": [
          "id",
          "marketplace_id",
          "active",
          "first_name",
          "last_name",
          "document"
        ]
      },
      "TransactionDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID √∫nico da transa√ß√£o",
            "example": "681259d37903c84441e0e85a"
          },
          "status": {
            "type": "string",
            "description": "Status da transa√ß√£o",
            "enum": [
              "CREATED",
              "PENDING",
              "APPROVED",
              "PAID",
              "FAILED",
              "REFUNDED",
              "DISPUTED",
              "CANCELED",
              "CHARGEBACK"
            ],
            "example": "PAID"
          },
          "amount": {
            "type": "number",
            "description": "Valor l√≠quido em centavos",
            "example": 1005
          },
          "original_amount": {
            "type": "number",
            "description": "Valor bruto em centavos",
            "example": 1017
          },
          "fees": {
            "type": "number",
            "description": "Taxas aplicadas em centavos",
            "example": 12
          },
          "interest": {
            "type": "string",
            "description": "Define quem arca com as taxas",
            "enum": [
              "STORE",
              "CLIENT"
            ],
            "example": "STORE"
          },
          "type": {
            "type": "string",
            "description": "Tipo de transa√ß√£o",
            "enum": [
              "CREDIT",
              "DEBIT",
              "PIX"
            ],
            "example": "CREDIT"
          },
          "gateway_key": {
            "type": "string",
            "description": "Chave do gateway",
            "example": "5621785c-08e0-4f25-a022-d5fb94176829"
          },
          "gateway_authorization": {
            "type": "string",
            "description": "Subadquirente",
            "enum": [
              "PAYTIME",
              "ZOOP",
              "PAGSEGURO"
            ],
            "example": "PAYTIME"
          },
          "card": {
            "description": "Dados do cart√£o",
            "allOf": [
              {
                "$ref": "#/components/schemas/CardDto"
              }
            ]
          },
          "installments": {
            "type": "number",
            "description": "N√∫mero de parcelas",
            "example": 1
          },
          "point_of_sale": {
            "description": "Ponto de venda",
            "allOf": [
              {
                "$ref": "#/components/schemas/PointOfSaleDto"
              }
            ]
          },
          "acquirer": {
            "description": "Dados do adquirente",
            "allOf": [
              {
                "$ref": "#/components/schemas/AcquirerDto"
              }
            ]
          },
          "antifraud": {
            "description": "An√°lises antifraude",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AntifraudDto"
            }
          },
          "split": {
            "description": "Informa√ß√µes de split",
            "allOf": [
              {
                "$ref": "#/components/schemas/SplitDto"
              }
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o",
            "example": "2025-04-30T17:11:47.341Z"
          },
          "expected_on": {
            "description": "Parcelas esperadas",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExpectedOnDto"
            }
          },
          "payment_response": {
            "description": "Resposta do pagamento",
            "allOf": [
              {
                "$ref": "#/components/schemas/TransactionPaymentResponseDto"
              }
            ]
          },
          "customer": {
            "description": "Dados do cliente",
            "allOf": [
              {
                "$ref": "#/components/schemas/CustomerDto"
              }
            ]
          },
          "emv": {
            "type": "string",
            "description": "C√≥digo EMV (PIX)"
          },
          "reference_id": {
            "type": "string",
            "description": "ID de refer√™ncia do cliente"
          },
          "plan": {
            "description": "Plano",
            "allOf": [
              {
                "$ref": "#/components/schemas/PlanDto"
              }
            ]
          },
          "flag": {
            "description": "Bandeira",
            "allOf": [
              {
                "$ref": "#/components/schemas/FlagDto"
              }
            ]
          },
          "establishment": {
            "description": "Estabelecimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/EstablishmentDto"
              }
            ]
          },
          "marketplace": {
            "description": "Marketplace",
            "allOf": [
              {
                "$ref": "#/components/schemas/MarketplaceDto"
              }
            ]
          },
          "representative": {
            "description": "Representante",
            "allOf": [
              {
                "$ref": "#/components/schemas/RepresentativeDto"
              }
            ]
          }
        },
        "required": [
          "_id",
          "status",
          "amount",
          "original_amount",
          "fees",
          "type",
          "gateway_key",
          "gateway_authorization",
          "installments",
          "point_of_sale",
          "acquirer",
          "antifraud",
          "created_at"
        ]
      },
      "PaginatedTransactionResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total de registros",
            "example": 150
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina",
            "example": 20
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina",
            "example": 8
          },
          "data": {
            "description": "Lista de transa√ß√µes",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransactionDto"
            }
          }
        },
        "required": [
          "total",
          "perPage",
          "page",
          "lastPage",
          "data"
        ]
      },
      "AddressInputDto": {
        "type": "object",
        "properties": {
          "street": {
            "type": "string",
            "description": "Logradouro",
            "example": "Rua Maria dos Desenvolvedores"
          },
          "number": {
            "type": "string",
            "description": "N√∫mero",
            "example": "0101"
          },
          "complement": {
            "type": "string",
            "description": "Complemento",
            "example": "Debug"
          },
          "neighborhood": {
            "type": "string",
            "description": "Bairro",
            "example": "Bairro Deploy"
          },
          "city": {
            "type": "string",
            "description": "Cidade",
            "example": "Vit√≥ria"
          },
          "state": {
            "type": "string",
            "description": "Estado (UF)",
            "enum": [
              "AC",
              "AL",
              "AP",
              "AM",
              "BA",
              "CE",
              "DF",
              "ES",
              "GO",
              "MA",
              "MS",
              "MT",
              "MG",
              "PA",
              "PB",
              "PR",
              "PE",
              "PI",
              "RJ",
              "RN",
              "RS",
              "RO",
              "RR",
              "SC",
              "SP",
              "SE",
              "TO"
            ],
            "example": "ES"
          },
          "country": {
            "type": "string",
            "description": "Pa√≠s",
            "example": "BR",
            "default": "BR"
          },
          "zip_code": {
            "type": "string",
            "description": "CEP (8 d√≠gitos)",
            "example": "29090390"
          }
        },
        "required": [
          "street",
          "number",
          "neighborhood",
          "city",
          "state",
          "zip_code"
        ]
      },
      "ClientInputDto": {
        "type": "object",
        "properties": {
          "first_name": {
            "type": "string",
            "description": "Nome/Raz√£o Social",
            "example": "Jo√£o"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome/Nome fantasia",
            "example": "da Silva"
          },
          "document": {
            "type": "string",
            "description": "CPF/CNPJ",
            "example": "1006811401"
          },
          "phone": {
            "type": "string",
            "description": "Telefone",
            "example": "31992876545"
          },
          "email": {
            "type": "string",
            "description": "Email",
            "example": "emaildocliente@gmail.com"
          },
          "address": {
            "description": "Endere√ßo",
            "allOf": [
              {
                "$ref": "#/components/schemas/AddressInputDto"
              }
            ]
          }
        },
        "required": [
          "first_name",
          "document",
          "phone",
          "email"
        ]
      },
      "CardInputDto": {
        "type": "object",
        "properties": {
          "holder_name": {
            "type": "string",
            "description": "Nome do portador",
            "example": "Jo√£o da Silva"
          },
          "holder_document": {
            "type": "string",
            "description": "CPF/CNPJ do portador",
            "example": "58246374079"
          },
          "card_number": {
            "type": "string",
            "description": "N√∫mero do cart√£o",
            "example": "5200000000001005"
          },
          "expiration_month": {
            "type": "number",
            "description": "M√™s de expira√ß√£o (1-12)",
            "example": 12
          },
          "expiration_year": {
            "type": "number",
            "description": "Ano de expira√ß√£o",
            "example": 2026
          },
          "security_code": {
            "type": "string",
            "description": "C√≥digo de seguran√ßa (CVV)",
            "example": "123"
          },
          "create_token": {
            "type": "boolean",
            "description": "Gerar token do cart√£o",
            "example": true
          },
          "token": {
            "type": "string",
            "description": "Token do cart√£o (para reutiliza√ß√£o)"
          }
        }
      },
      "InfoAdditionalDto": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "Chave identificadora",
            "example": "Origem"
          },
          "value": {
            "type": "string",
            "description": "Valor vinculado",
            "example": "ClienteID"
          }
        },
        "required": [
          "key",
          "value"
        ]
      },
      "CreateTransactionDto": {
        "type": "object",
        "properties": {
          "payment_type": {
            "type": "string",
            "description": "Tipo de pagamento",
            "enum": [
              "CREDIT",
              "PIX"
            ],
            "example": "CREDIT"
          },
          "amount": {
            "type": "number",
            "description": "Valor em centavos",
            "example": 39001
          },
          "installments": {
            "type": "number",
            "description": "N√∫mero de parcelas (obrigat√≥rio para CREDIT)",
            "example": 1
          },
          "interest": {
            "type": "string",
            "description": "Quem arca com as taxas",
            "enum": [
              "CLIENT",
              "ESTABLISHMENT"
            ],
            "example": "ESTABLISHMENT"
          },
          "reference_id": {
            "type": "string",
            "description": "Identificador de refer√™ncia do cliente (m√°x 100 chars)",
            "example": "fb67fd4c-2e6a-41dc-b05c-13ab3001d2a1"
          },
          "client": {
            "description": "Dados do cliente",
            "allOf": [
              {
                "$ref": "#/components/schemas/ClientInputDto"
              }
            ]
          },
          "card": {
            "description": "Dados do cart√£o (obrigat√≥rio para CREDIT)",
            "allOf": [
              {
                "$ref": "#/components/schemas/CardInputDto"
              }
            ]
          },
          "session_id": {
            "type": "string",
            "description": "Session ID do antifraude",
            "example": "kdjkpolyt6a6xy6q2zqy"
          },
          "antifraud_type": {
            "type": "string",
            "description": "Tipo de antifraude",
            "enum": [
              "IDPAY",
              "THREEDS"
            ],
            "example": "IDPAY"
          },
          "split": {
            "description": "Configura√ß√£o de split",
            "allOf": [
              {
                "$ref": "#/components/schemas/SplitDto"
              }
            ]
          },
          "info_additional": {
            "description": "Informa√ß√µes adicionais",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InfoAdditionalDto"
            }
          }
        },
        "required": [
          "payment_type",
          "amount",
          "interest",
          "client"
        ]
      },
      "ClientAddressDto": {
        "type": "object",
        "properties": {
          "street": {
            "type": "string",
            "description": "Logradouro",
            "example": "Av Longe"
          },
          "number": {
            "type": "string",
            "description": "N√∫mero",
            "example": "10"
          },
          "neighborhood": {
            "type": "string",
            "description": "Bairro",
            "example": "Bairro distante"
          },
          "complement": {
            "type": "string",
            "description": "Complemento",
            "example": "Perto da zona"
          },
          "city": {
            "type": "string",
            "description": "Cidade",
            "example": "Goiania"
          },
          "state": {
            "type": "string",
            "description": "Estado (UF)",
            "example": "GO"
          },
          "zip_code": {
            "type": "string",
            "description": "CEP (somente n√∫meros)",
            "example": "29163321"
          }
        },
        "required": [
          "street",
          "number",
          "neighborhood",
          "city",
          "state",
          "zip_code"
        ]
      },
      "BilletClientDto": {
        "type": "object",
        "properties": {
          "first_name": {
            "type": "string",
            "description": "Nome ou raz√£o social",
            "example": "Antonio"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome ou nome fantasia",
            "example": "Francisco"
          },
          "document": {
            "type": "string",
            "description": "CPF ou CNPJ (somente n√∫meros)",
            "example": "43878902077"
          },
          "email": {
            "type": "string",
            "description": "Email",
            "example": "antonio@emaildocliente.com"
          },
          "address": {
            "description": "Endere√ßo",
            "allOf": [
              {
                "$ref": "#/components/schemas/ClientAddressDto"
              }
            ]
          }
        },
        "required": [
          "first_name",
          "last_name",
          "document",
          "email",
          "address"
        ]
      },
      "LateFeeDto": {
        "type": "object",
        "properties": {
          "mode": {
            "type": "string",
            "description": "Tipo da multa",
            "example": "PERCENTAGE",
            "enum": [
              "PERCENTAGE",
              "FIXED"
            ]
          },
          "amount": {
            "type": "number",
            "description": "Valor da multa",
            "example": 1,
            "minimum": 0
          }
        },
        "required": [
          "mode",
          "amount"
        ]
      },
      "InterestDto": {
        "type": "object",
        "properties": {
          "mode": {
            "type": "string",
            "description": "Tipo do juro",
            "example": "MONTHLY_PERCENTAGE"
          },
          "amount": {
            "type": "number",
            "description": "Valor do juro",
            "example": 1,
            "minimum": 0
          }
        },
        "required": [
          "mode",
          "amount"
        ]
      },
      "DiscountDto": {
        "type": "object",
        "properties": {
          "mode": {
            "type": "string",
            "description": "Tipo do desconto",
            "example": "PERCENTAGE"
          },
          "amount": {
            "type": "number",
            "description": "Valor do desconto",
            "example": 1,
            "minimum": 0
          },
          "limit_date": {
            "type": "string",
            "description": "Data limite para desconto (ISO 8601)",
            "example": "2025-08-25"
          }
        },
        "required": [
          "mode",
          "amount",
          "limit_date"
        ]
      },
      "BilletInstructionDto": {
        "type": "object",
        "properties": {
          "booklet": {
            "type": "boolean",
            "description": "Se √© carn√™",
            "example": false,
            "default": false
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o no boleto",
            "example": "Venda por Boleto"
          },
          "late_fee": {
            "description": "Multa por atraso",
            "allOf": [
              {
                "$ref": "#/components/schemas/LateFeeDto"
              }
            ]
          },
          "interest": {
            "description": "Juros",
            "allOf": [
              {
                "$ref": "#/components/schemas/InterestDto"
              }
            ]
          },
          "discount": {
            "description": "Desconto",
            "allOf": [
              {
                "$ref": "#/components/schemas/DiscountDto"
              }
            ]
          }
        },
        "required": [
          "booklet"
        ]
      },
      "CreateBilletDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Valor total em centavos",
            "example": 1000,
            "minimum": 100
          },
          "expiration": {
            "type": "string",
            "description": "Data de vencimento (ISO 8601)",
            "example": "2025-08-28"
          },
          "payment_limit_date": {
            "type": "string",
            "description": "Data limite de pagamento (ISO 8601)",
            "example": "2025-08-30"
          },
          "recharge": {
            "type": "boolean",
            "description": "Se √© recarga",
            "example": true
          },
          "external_reference": {
            "type": "string",
            "description": "Refer√™ncia externa (ex: n√∫mero da fatura, pedido)",
            "example": "FAT-000090"
          },
          "client": {
            "description": "Dados do cliente",
            "allOf": [
              {
                "$ref": "#/components/schemas/BilletClientDto"
              }
            ]
          },
          "instruction": {
            "description": "Instru√ß√µes do boleto",
            "allOf": [
              {
                "$ref": "#/components/schemas/BilletInstructionDto"
              }
            ]
          }
        },
        "required": [
          "amount",
          "expiration",
          "client",
          "instruction"
        ]
      },
      "BilletEstablishmentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento",
            "example": 155085
          },
          "first_name": {
            "type": "string",
            "description": "Nome",
            "example": "EC Cobran√ßas"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome",
            "example": null,
            "nullable": true
          },
          "document": {
            "type": "string",
            "description": "Documento",
            "example": "10068114001"
          },
          "account_number": {
            "type": "string",
            "description": "N√∫mero da conta",
            "example": "300543394162"
          },
          "account_check_digit": {
            "type": "string",
            "description": "D√≠gito da conta",
            "example": "8"
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name",
          "document",
          "account_number",
          "account_check_digit"
        ]
      },
      "BilletMarketplaceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do marketplace",
            "example": 26
          },
          "nickname": {
            "type": "string",
            "description": "Apelido",
            "example": "Parceiro Integra√ß√µes"
          },
          "first_name": {
            "type": "string",
            "description": "Nome",
            "example": "Webhooks Integra√ß√µes"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome",
            "example": "API Integra√ß√µes"
          },
          "document": {
            "type": "string",
            "description": "Documento",
            "example": "60274849000185"
          }
        },
        "required": [
          "id",
          "nickname",
          "first_name",
          "last_name",
          "document"
        ]
      },
      "BilletRepresentativeDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID",
            "example": 63
          },
          "first_name": {
            "type": "string",
            "description": "Nome",
            "example": "EC Cobran√ßas"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome",
            "nullable": true
          },
          "document": {
            "type": "string",
            "description": "Documento",
            "example": "10068114001"
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name",
          "document"
        ]
      },
      "BilletFeesBankingDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nome do pacote",
            "example": "Pacote de Tarifa Banc√°ria Comercial"
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o",
            "example": "Pacote de Tarifa Banc√°ria Comercial"
          },
          "fees": {
            "type": "number",
            "description": "Valor da taxa em centavos",
            "example": 250
          }
        },
        "required": [
          "name",
          "description",
          "fees"
        ]
      },
      "BillingInstructionDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nome da instru√ß√£o",
            "example": "late_fee"
          },
          "mode": {
            "type": "string",
            "description": "Tipo",
            "example": "PERCENTAGE"
          },
          "amount": {
            "type": "number",
            "description": "Valor",
            "example": 1
          },
          "limit_date": {
            "type": "string",
            "description": "Data limite",
            "example": "2025-08-25T00:00:00.000Z"
          },
          "_id": {
            "type": "string",
            "description": "ID interno",
            "example": "689b893b59a7593764e8b0e8"
          }
        },
        "required": [
          "name",
          "mode",
          "amount",
          "_id"
        ]
      },
      "BilletClientResponseDto": {
        "type": "object",
        "properties": {
          "first_name": {
            "type": "string",
            "description": "Nome",
            "example": "Antonio"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome",
            "example": "Francisco"
          },
          "document": {
            "type": "string",
            "description": "CPF/CNPJ",
            "example": "43878902077"
          },
          "email": {
            "type": "string",
            "description": "Email",
            "example": "antonio@emaildocliente.com"
          },
          "_id": {
            "type": "string",
            "description": "ID interno",
            "example": "689b893b59a7593764e8b0e2"
          }
        },
        "required": [
          "first_name",
          "last_name",
          "document",
          "email",
          "_id"
        ]
      },
      "BilletResponseDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID do boleto",
            "example": "689b893b59a7593764e8b0e1"
          },
          "type": {
            "type": "string",
            "description": "Tipo",
            "example": "BILLET"
          },
          "gateway_key": {
            "type": "string",
            "description": "Chave do gateway",
            "example": "82032a9d-96e2-42a6-8fbf-58f45687361e"
          },
          "establishment_id": {
            "type": "string",
            "description": "ID do estabelecimento",
            "example": "155444085"
          },
          "establishment": {
            "description": "Estabelecimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/BilletEstablishmentDto"
              }
            ]
          },
          "marketplace": {
            "description": "Marketplace",
            "allOf": [
              {
                "$ref": "#/components/schemas/BilletMarketplaceDto"
              }
            ]
          },
          "representative": {
            "description": "Representante",
            "allOf": [
              {
                "$ref": "#/components/schemas/BilletRepresentativeDto"
              }
            ]
          },
          "fees_banking": {
            "description": "Taxas banc√°rias",
            "allOf": [
              {
                "$ref": "#/components/schemas/BilletFeesBankingDto"
              }
            ]
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o",
            "example": "Venda por Boleto"
          },
          "amount": {
            "type": "number",
            "description": "Valor l√≠quido em centavos",
            "example": 750
          },
          "original_amount": {
            "type": "number",
            "description": "Valor original em centavos",
            "example": 1000
          },
          "barcode": {
            "type": "string",
            "description": "C√≥digo de barras",
            "example": "34199108400000010001090005834127892998860000",
            "nullable": true
          },
          "digitable_line": {
            "type": "string",
            "description": "Linha digit√°vel",
            "example": "34191090080583412789529988600002910840000001000",
            "nullable": true
          },
          "url": {
            "type": "string",
            "description": "URL do PDF",
            "example": "https://billets/...pdf",
            "nullable": true
          },
          "status": {
            "type": "string",
            "description": "Status do boleto",
            "example": "PENDING",
            "enum": [
              "PROCESSING",
              "PENDING",
              "PAID",
              "CANCELED",
              "EXPIRED",
              "FAILED"
            ]
          },
          "expiration_at": {
            "type": "string",
            "description": "Data de vencimento",
            "example": "2025-08-28T12:00:00.000Z"
          },
          "payment_limit_date": {
            "type": "string",
            "description": "Data limite de pagamento",
            "example": "2025-08-30T00:00:00.000Z",
            "nullable": true
          },
          "fees": {
            "type": "number",
            "description": "Taxas em centavos",
            "example": 250
          },
          "billing_instructions": {
            "description": "Instru√ß√µes de cobran√ßa",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BillingInstructionDto"
            }
          },
          "recharge": {
            "type": "boolean",
            "description": "√â recarga?",
            "example": true
          },
          "gateway_authorization": {
            "type": "string",
            "description": "Gateway",
            "example": "CELCOIN"
          },
          "request_origin": {
            "type": "string",
            "description": "Origem da requisi√ß√£o",
            "example": "API"
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o",
            "example": "2025-08-12T18:34:35.601Z"
          },
          "updated_at": {
            "type": "string",
            "description": "Data de atualiza√ß√£o",
            "example": "2025-08-12T18:34:35.601Z"
          },
          "__v": {
            "type": "number",
            "description": "Vers√£o",
            "example": 0
          },
          "client": {
            "description": "Cliente",
            "allOf": [
              {
                "$ref": "#/components/schemas/BilletClientResponseDto"
              }
            ]
          },
          "pix_emv": {
            "type": "string",
            "description": "C√≥digo PIX EMV (copia e cola)",
            "example": "080014br.gov.bcb.pix..."
          },
          "transaction_id": {
            "type": "string",
            "description": "ID da transa√ß√£o",
            "example": "2a7f6292-9339-49d7-b1bb-0ed159adb477"
          }
        },
        "required": [
          "_id",
          "type",
          "gateway_key",
          "establishment_id",
          "establishment",
          "marketplace",
          "representative",
          "fees_banking",
          "description",
          "amount",
          "original_amount",
          "barcode",
          "digitable_line",
          "url",
          "status",
          "expiration_at",
          "payment_limit_date",
          "fees",
          "billing_instructions",
          "recharge",
          "gateway_authorization",
          "request_origin",
          "created_at",
          "updated_at",
          "__v",
          "client"
        ]
      },
      "FlagId": {
        "type": "number",
        "enum": [
          1,
          2,
          3,
          4,
          5,
          6,
          8
        ],
        "description": "ID da bandeira do cart√£o de cr√©dito"
      },
      "GatewayId": {
        "type": "number",
        "enum": [
          1,
          2,
          4
        ],
        "description": "ID do gateway que executar√° a transa√ß√£o"
      },
      "SimulateTransactionDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Valor total em centavos da transa√ß√£o a ser simulada",
            "example": 5000,
            "minimum": 1
          },
          "flag_id": {
            "description": "ID da bandeira do cart√£o de cr√©dito",
            "example": 1,
            "examples": {
              "MASTERCARD": {
                "value": 1,
                "description": "MASTERCARD"
              },
              "VISA": {
                "value": 2,
                "description": "VISA"
              },
              "ELO": {
                "value": 3,
                "description": "ELO"
              },
              "AMERICAN_EXPRESS": {
                "value": 4,
                "description": "AMERICAN EXPRESS"
              },
              "HIPER_HIPERCARD": {
                "value": 5,
                "description": "HIPER/HIPERCARD"
              },
              "OTHERS": {
                "value": 6,
                "description": "OTHERS"
              },
              "BACEN": {
                "value": 8,
                "description": "BACEN"
              }
            },
            "allOf": [
              {
                "$ref": "#/components/schemas/FlagId"
              }
            ]
          },
          "gateway_id": {
            "description": "ID do gateway que executar√° a transa√ß√£o",
            "example": 4,
            "examples": {
              "ZOOP": {
                "value": 1,
                "description": "ZOOP"
              },
              "PAGSEGURO": {
                "value": 2,
                "description": "PAGSEGURO"
              },
              "SUBPAYTIME": {
                "value": 4,
                "description": "SUBPAYTIME"
              }
            },
            "allOf": [
              {
                "$ref": "#/components/schemas/GatewayId"
              }
            ]
          },
          "modality": {
            "type": "string",
            "description": "Modalidade de venda",
            "enum": [
              "ONLINE",
              "PHYSICAL",
              "TAP_PHONE"
            ],
            "example": "ONLINE"
          },
          "interest": {
            "type": "string",
            "description": "Quem arca com as taxas",
            "enum": [
              "CLIENT",
              "ESTABLISHMENT"
            ],
            "example": "ESTABLISHMENT"
          }
        },
        "required": [
          "amount",
          "flag_id",
          "modality",
          "interest"
        ]
      },
      "InstallmentDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Valor total l√≠quido ap√≥s taxas (em centavos)",
            "example": 4820
          },
          "installment": {
            "type": "number",
            "description": "Valor de cada parcela (em centavos)",
            "example": 5000
          }
        },
        "required": [
          "total",
          "installment"
        ]
      },
      "CreditSimulationDto": {
        "type": "object",
        "properties": {
          "1x": {
            "description": "Simula√ß√£o para 1x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "2x": {
            "description": "Simula√ß√£o para 2x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "3x": {
            "description": "Simula√ß√£o para 3x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "4x": {
            "description": "Simula√ß√£o para 4x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "5x": {
            "description": "Simula√ß√£o para 5x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "6x": {
            "description": "Simula√ß√£o para 6x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "7x": {
            "description": "Simula√ß√£o para 7x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "8x": {
            "description": "Simula√ß√£o para 8x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "9x": {
            "description": "Simula√ß√£o para 9x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "10x": {
            "description": "Simula√ß√£o para 10x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "11x": {
            "description": "Simula√ß√£o para 11x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          },
          "12x": {
            "description": "Simula√ß√£o para 12x",
            "allOf": [
              {
                "$ref": "#/components/schemas/InstallmentDto"
              }
            ]
          }
        },
        "required": [
          "1x"
        ]
      },
      "SimulationDataDto": {
        "type": "object",
        "properties": {
          "credit": {
            "description": "Simula√ß√µes para cr√©dito",
            "allOf": [
              {
                "$ref": "#/components/schemas/CreditSimulationDto"
              }
            ]
          },
          "debit": {
            "type": "number",
            "description": "Valor l√≠quido para d√©bito (em centavos)",
            "example": 4820
          },
          "pix": {
            "type": "number",
            "description": "Valor l√≠quido para PIX (em centavos)",
            "example": 4940
          }
        },
        "required": [
          "credit",
          "debit",
          "pix"
        ]
      },
      "SimulateTransactionResponseDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Valor original simulado (em centavos)",
            "example": 5000
          },
          "simulation": {
            "description": "Dados da simula√ß√£o",
            "allOf": [
              {
                "$ref": "#/components/schemas/SimulationDataDto"
              }
            ]
          }
        },
        "required": [
          "amount",
          "simulation"
        ]
      },
      "QrCodeResponseDto": {
        "type": "object",
        "properties": {
          "qrcode": {
            "type": "string",
            "description": "Hash do QR Code PIX em formato Base64",
            "example": "data:image/gif;base64,R0lGODdhqwCrAIAAAAAAAP///ywAAAAAqwCrAAAC/4yPqcvtD6OctNqLs968..."
          }
        },
        "required": [
          "qrcode"
        ]
      },
      "ReversalTransactionDto": {
        "type": "object",
        "properties": {
          "use_account": {
            "type": "boolean",
            "description": "Indica se ser√° utilizado saldo do estabelecimento como fonte para o estorno da transa√ß√£o (se j√° paga)",
            "example": true
          }
        },
        "required": [
          "use_account"
        ]
      },
      "SplitEstablishmentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento secund√°rio que receber√° parte do split",
            "example": 9876
          },
          "value": {
            "type": "number",
            "description": "Valor do split. Em centavos para CURRENCY, em porcentagem (0-100) para PERCENTAGE",
            "example": 30
          }
        },
        "required": [
          "id",
          "value"
        ]
      },
      "CreateSplitDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "T√≠tulo informativo para identificar o split (ex: \"Comiss√£o EC Secund√°rio\", \"Split Marketplace\")",
            "example": "Comiss√£o EC Secund√°rio"
          },
          "division": {
            "type": "string",
            "description": "Regra de divis√£o: PERCENTAGE (porcentagem 0-100) ou CURRENCY (valor fixo em centavos)",
            "enum": [
              "PERCENTAGE",
              "CURRENCY"
            ],
            "example": "PERCENTAGE"
          },
          "establishments": {
            "description": "Lista de estabelecimentos que participar√£o do split",
            "example": [
              {
                "id": 9876,
                "value": 30
              }
            ],
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SplitEstablishmentDto"
            }
          }
        },
        "required": [
          "title",
          "division",
          "establishments"
        ]
      },
      "SplitResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o da opera√ß√£o",
            "example": "Processo de Split iniciado"
          },
          "transaction_id": {
            "type": "string",
            "description": "ID da transa√ß√£o onde o split foi aplicado",
            "example": "681258717903c84441e0e823"
          },
          "status": {
            "type": "string",
            "description": "Status do processamento do split",
            "example": "PROCESSING"
          }
        },
        "required": [
          "message"
        ]
      },
      "SplitEstablishmentInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento",
            "example": 1234
          },
          "first_name": {
            "type": "string",
            "description": "Nome completo ou raz√£o social do estabelecimento",
            "example": "Loja Exemplo LTDA"
          },
          "last_name": {
            "type": "string",
            "description": "Nome fantasia do estabelecimento",
            "example": "Loja Exemplo"
          },
          "document": {
            "type": "string",
            "description": "CPF ou CNPJ do estabelecimento",
            "example": "12345678000199"
          }
        },
        "required": [
          "id",
          "first_name",
          "document"
        ]
      },
      "SplitEstablishmentDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento",
            "example": 1234
          },
          "first_name": {
            "type": "string",
            "description": "Nome completo ou raz√£o social do estabelecimento",
            "example": "Loja Exemplo LTDA"
          },
          "last_name": {
            "type": "string",
            "description": "Nome fantasia do estabelecimento",
            "example": "Loja Exemplo"
          },
          "document": {
            "type": "string",
            "description": "CPF ou CNPJ do estabelecimento",
            "example": "12345678000199"
          },
          "priority": {
            "type": "number",
            "description": "Ordem de prioridade de execu√ß√£o na divis√£o",
            "example": 1
          },
          "value": {
            "type": "number",
            "description": "Valor definido para o split. Pode representar centavos ou percentual, dependendo da division",
            "example": 30
          },
          "original_amount": {
            "type": "number",
            "description": "Valor total repassado ao estabelecimento, calculado em centavos",
            "example": 3015
          },
          "transaction_id": {
            "type": "string",
            "description": "ID da transa√ß√£o originada para o repasse",
            "example": "681258717903c84441e0e824"
          }
        },
        "required": [
          "id",
          "first_name",
          "document",
          "priority",
          "value",
          "original_amount",
          "transaction_id"
        ]
      },
      "SplitHistoryDto": {
        "type": "object",
        "properties": {
          "created_at": {
            "type": "string",
            "description": "Data/hora do evento no hist√≥rico (ISO 8601)",
            "example": "2025-04-30T17:05:53.107Z"
          },
          "status": {
            "type": "string",
            "description": "Status do split naquele momento",
            "enum": [
              "PENDING",
              "ACTIVE",
              "CANCELED"
            ],
            "example": "ACTIVE"
          },
          "message": {
            "type": "string",
            "description": "Mensagem informativa associada √† altera√ß√£o de status",
            "example": "Split processado com sucesso"
          }
        },
        "required": [
          "created_at",
          "status"
        ]
      },
      "GetSplitResponseDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Identificador √∫nico do split gerado",
            "example": "681258727903c84441e0e825"
          },
          "transaction_id": {
            "type": "string",
            "description": "Identificador da transa√ß√£o √† qual o split est√° vinculado",
            "example": "681258717903c84441e0e823"
          },
          "status": {
            "type": "string",
            "description": "Status atual do split",
            "enum": [
              "PENDING",
              "ACTIVE",
              "CANCELED"
            ],
            "example": "ACTIVE"
          },
          "establishment": {
            "description": "Dados do estabelecimento principal",
            "allOf": [
              {
                "$ref": "#/components/schemas/SplitEstablishmentInfoDto"
              }
            ]
          },
          "title": {
            "type": "string",
            "description": "T√≠tulo informativo do split",
            "example": "Comiss√£o EC Secund√°rio"
          },
          "original_amount": {
            "type": "number",
            "description": "Valor bruto dispon√≠vel para divis√£o, j√° descontado o custo de antifraude (em centavos)",
            "example": 10050
          },
          "channel": {
            "type": "string",
            "description": "Canal da transa√ß√£o",
            "enum": [
              "CHIP",
              "TAP",
              "SMART",
              "ONLINE",
              "ALL"
            ],
            "example": "ONLINE"
          },
          "modality": {
            "type": "string",
            "description": "Modalidade de pagamento",
            "enum": [
              "DEBIT",
              "PIX",
              "CREDIT",
              "ALL"
            ],
            "example": "CREDIT"
          },
          "division": {
            "type": "string",
            "description": "Regra de divis√£o aplicada",
            "enum": [
              "PERCENTAGE",
              "CURRENCY"
            ],
            "example": "PERCENTAGE"
          },
          "establishments": {
            "description": "Estabelecimentos participantes do split",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SplitEstablishmentDetailDto"
            }
          },
          "history": {
            "description": "Hist√≥rico de status do split",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SplitHistoryDto"
            }
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o do split no formato ISO 8601",
            "example": "2025-04-30T17:05:53.107Z"
          }
        },
        "required": [
          "_id",
          "transaction_id",
          "status",
          "establishment",
          "original_amount",
          "channel",
          "modality",
          "division",
          "establishments",
          "history",
          "created_at"
        ]
      },
      "UpdateSplitDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Novo t√≠tulo do split",
            "example": "Split Atualizado"
          },
          "division": {
            "type": "string",
            "description": "Nova regra de divis√£o",
            "enum": [
              "PERCENTAGE",
              "CURRENCY"
            ]
          },
          "establishments": {
            "description": "Nova lista de estabelecimentos",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SplitEstablishmentDto"
            }
          }
        }
      },
      "SplitPreMetaDto": {
        "type": "object",
        "properties": {
          "ecs_count": {
            "type": "number",
            "description": "N√∫mero de estabelecimentos participantes ativos na regra",
            "example": 3
          }
        },
        "required": [
          "ecs_count"
        ]
      },
      "SplitPreDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID √∫nico da regra de Split Pr√©",
            "example": 3
          },
          "title": {
            "type": "string",
            "description": "T√≠tulo descritivo da regra",
            "example": "Comiss√£o Sandbox Atualizado"
          },
          "modality": {
            "type": "string",
            "description": "Modalidade da transa√ß√£o que a regra se aplica (ALL, CREDIT, DEBIT, PIX)",
            "example": "PIX",
            "enum": [
              "ALL",
              "CREDIT",
              "DEBIT",
              "PIX"
            ]
          },
          "channel": {
            "type": "string",
            "description": "Canal de venda (ALL, CHIP, TAP, SMART, ONLINE)",
            "example": "ALL",
            "enum": [
              "ALL",
              "CHIP",
              "TAP",
              "SMART",
              "ONLINE"
            ]
          },
          "division": {
            "type": "string",
            "description": "Tipo de divis√£o da regra (PERCENTAGE ou CURRENCY)",
            "example": "PERCENTAGE",
            "enum": [
              "PERCENTAGE",
              "CURRENCY"
            ]
          },
          "installment": {
            "type": "number",
            "description": "N√∫mero de parcelas. Aplic√°vel quando a modalidade for CREDIT",
            "example": 2
          },
          "establishment_id": {
            "type": "number",
            "description": "ID do estabelecimento principal (criador da regra)",
            "example": 415585
          },
          "active": {
            "type": "number",
            "description": "Indica se a regra est√° ativa (1) ou inativa (0)",
            "example": 1
          },
          "__meta__": {
            "description": "Metadados da regra",
            "allOf": [
              {
                "$ref": "#/components/schemas/SplitPreMetaDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "title",
          "modality",
          "channel",
          "division",
          "establishment_id",
          "active",
          "__meta__"
        ]
      },
      "ListSplitPreResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "N√∫mero total de registros encontrados",
            "example": 2
          },
          "perPage": {
            "type": "number",
            "description": "Quantidade de registros por p√°gina",
            "example": 20
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina dispon√≠vel",
            "example": 1
          },
          "data": {
            "description": "Lista de regras de Split Pr√©",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SplitPreDto"
            }
          }
        },
        "required": [
          "total",
          "perPage",
          "page",
          "lastPage",
          "data"
        ]
      },
      "SplitPreEstablishmentDataDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento",
            "example": 155082
          },
          "first_name": {
            "type": "string",
            "description": "Nome ou raz√£o social do estabelecimento",
            "example": "Webhooks Integra√ß√µes"
          },
          "last_name": {
            "type": "string",
            "description": "Nome fantasia do estabelecimento",
            "example": "API Integra√ß√µes",
            "nullable": true
          },
          "document": {
            "type": "string",
            "description": "CPF ou CNPJ do estabelecimento",
            "example": "60274849000185"
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name",
          "document"
        ]
      },
      "SplitPreParticipantDto": {
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "description": "Valor ou porcentagem atribu√≠do ao participante",
            "example": 30
          },
          "priority": {
            "type": "number",
            "description": "Ordem de prioridade da regra de split",
            "example": 1
          },
          "active": {
            "type": "number",
            "description": "Indica se o participante est√° ativo",
            "example": 1
          },
          "establishment": {
            "description": "Dados do estabelecimento secund√°rio",
            "allOf": [
              {
                "$ref": "#/components/schemas/SplitPreEstablishmentDataDto"
              }
            ]
          }
        },
        "required": [
          "value",
          "priority",
          "active",
          "establishment"
        ]
      },
      "SplitPreDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID √∫nico da regra de Split Pr√©",
            "example": 3
          },
          "title": {
            "type": "string",
            "description": "T√≠tulo descritivo da regra",
            "example": "Comiss√£o Sandbox Atualizado"
          },
          "modality": {
            "type": "string",
            "description": "Modalidade da transa√ß√£o que a regra se aplica (ALL, CREDIT, DEBIT, PIX)",
            "example": "PIX",
            "enum": [
              "ALL",
              "CREDIT",
              "DEBIT",
              "PIX"
            ]
          },
          "channel": {
            "type": "string",
            "description": "Canal de venda (ALL, CHIP, TAP, SMART, ONLINE)",
            "example": "ALL",
            "enum": [
              "ALL",
              "CHIP",
              "TAP",
              "SMART",
              "ONLINE"
            ]
          },
          "division": {
            "type": "string",
            "description": "Tipo de divis√£o da regra (PERCENTAGE ou CURRENCY)",
            "example": "PERCENTAGE",
            "enum": [
              "PERCENTAGE",
              "CURRENCY"
            ]
          },
          "installment": {
            "type": "number",
            "description": "N√∫mero de parcelas. Aplic√°vel quando a modalidade for CREDIT",
            "example": 2
          },
          "active": {
            "type": "number",
            "description": "Indica se a regra est√° ativa (1) ou inativa (0)",
            "example": 1
          },
          "establishment_percentage": {
            "type": "number",
            "description": "Porcentagem atribu√≠da ao estabelecimento principal",
            "example": 20
          },
          "establishment": {
            "description": "Dados do estabelecimento principal",
            "allOf": [
              {
                "$ref": "#/components/schemas/SplitPreEstablishmentDataDto"
              }
            ]
          },
          "establishments": {
            "description": "Lista de estabelecimentos participantes secund√°rios",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SplitPreParticipantDto"
            }
          },
          "__meta__": {
            "description": "Metadados da regra",
            "allOf": [
              {
                "$ref": "#/components/schemas/SplitPreMetaDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "title",
          "modality",
          "channel",
          "division",
          "active",
          "establishment_percentage",
          "establishment",
          "establishments",
          "__meta__"
        ]
      },
      "SplitPreEstablishmentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento participante",
            "example": 4155082
          },
          "active": {
            "type": "boolean",
            "description": "Indica se o split para este estabelecimento est√° ativo",
            "example": true
          },
          "value": {
            "type": "number",
            "description": "Valor destinado ao estabelecimento (em centavos ou % conforme division)",
            "example": 30
          }
        },
        "required": [
          "id",
          "active",
          "value"
        ]
      },
      "CreateSplitPreDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "T√≠tulo descritivo da regra para identifica√ß√£o",
            "example": "Comiss√£o Sandbox Atualizado"
          },
          "modality": {
            "type": "string",
            "description": "Modalidade que a regra ser√° aplicada",
            "enum": [
              "ALL",
              "CREDIT",
              "DEBIT",
              "PIX"
            ],
            "example": "PIX"
          },
          "channel": {
            "type": "string",
            "description": "Canal de venda para aplicar a regra",
            "enum": [
              "ALL",
              "CHIP",
              "TAP",
              "SMART",
              "ONLINE"
            ],
            "example": "ALL"
          },
          "division": {
            "type": "string",
            "description": "Tipo de divis√£o (PERCENTAGE=porcentagem, CURRENCY=valor fixo)",
            "enum": [
              "PERCENTAGE",
              "CURRENCY"
            ],
            "example": "PERCENTAGE"
          },
          "active": {
            "type": "boolean",
            "description": "Indica se a regra estar√° ativa ap√≥s sua cria√ß√£o",
            "example": true
          },
          "installment": {
            "type": "number",
            "description": "N√∫mero de parcelas que a regra se aplica (obrigat√≥rio para CREDIT)",
            "example": 2
          },
          "establishments": {
            "description": "Lista de estabelecimentos participantes da regra",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SplitPreEstablishmentDto"
            }
          }
        },
        "required": [
          "title",
          "modality",
          "channel",
          "division",
          "active",
          "establishments"
        ]
      },
      "UpdateSplitPreDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "T√≠tulo descritivo da regra",
            "example": "Comiss√£o Sandbox"
          },
          "modality": {
            "type": "string",
            "description": "Modalidade de transa√ß√£o",
            "enum": [
              "ALL",
              "CREDIT",
              "DEBIT",
              "PIX"
            ],
            "example": "CREDIT"
          },
          "channel": {
            "type": "string",
            "description": "Canal de venda",
            "enum": [
              "ALL",
              "CHIP",
              "TAP",
              "SMART",
              "ONLINE"
            ],
            "example": "ONLINE"
          },
          "division": {
            "type": "string",
            "description": "Tipo de divis√£o",
            "enum": [
              "PERCENTAGE",
              "CURRENCY"
            ],
            "example": "PERCENTAGE"
          },
          "active": {
            "type": "boolean",
            "description": "Ativa ou desativa a regra de split",
            "example": true
          },
          "installment": {
            "type": "number",
            "description": "N√∫mero de parcelas a que a regra se aplica",
            "example": 3
          },
          "establishments": {
            "description": "Lista de participantes do split",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SplitPreEstablishmentDto"
            }
          }
        },
        "required": [
          "establishments"
        ]
      },
      "DeleteSplitPreResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o",
            "example": "Regra de Split e regras associadas exclu√≠das com sucesso."
          }
        },
        "required": [
          "message"
        ]
      },
      "GenerateSessionIdDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "Session ID customizado (6-128 caracteres). Se n√£o fornecido, ser√° gerado automaticamente",
            "example": "sess_abc123xyz789_20250612",
            "minLength": 6,
            "maxLength": 128
          }
        }
      },
      "SessionIdResponseDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "Session ID √∫nico para uso no antifraude",
            "example": "sess_abc123xyz789_20250612"
          },
          "generatedAt": {
            "type": "string",
            "description": "Data/hora de gera√ß√£o do session_id",
            "example": "2025-06-12T14:30:00Z"
          },
          "expiresInMinutes": {
            "type": "number",
            "description": "Validade do session_id (em minutos)",
            "example": 30
          }
        },
        "required": [
          "sessionId",
          "generatedAt",
          "expiresInMinutes"
        ]
      },
      "ScriptConfigResponseDto": {
        "type": "object",
        "properties": {
          "appKey": {
            "type": "string",
            "description": "App Key da ClearSale fornecido pela Paytime",
            "example": "paytime_app_key_12345"
          },
          "scriptUrl": {
            "type": "string",
            "description": "URL do script ClearSale",
            "example": "https://device.clearsale.com.br/p/fp.js"
          },
          "monitorUrl": {
            "type": "string",
            "description": "URL de monitoramento de bloqueio",
            "example": "https://web.fpcs-monitor.com.br/p/fp.png"
          },
          "scriptCode": {
            "type": "string",
            "description": "C√≥digo HTML completo para inserir no <head> da p√°gina",
            "example": "<script>...</script>"
          },
          "noscriptCode": {
            "type": "string",
            "description": "C√≥digo HTML do noscript (fallback)",
            "example": "<noscript>...</noscript>"
          },
          "monitoringCode": {
            "type": "string",
            "description": "C√≥digo HTML do monitoramento de bloqueio",
            "example": "<script>...</script>"
          },
          "sessionId": {
            "type": "string",
            "description": "Session ID pr√©-gerado (se fornecido)",
            "example": "sess_abc123xyz789_20250612"
          },
          "instructions": {
            "description": "Instru√ß√µes de implementa√ß√£o",
            "example": [
              "1. Incluir scriptCode antes do </body>",
              "2. Incluir noscriptCode ap√≥s o scriptCode",
              "3. Incluir monitoringCode no <head> ou rodap√©"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "appKey",
          "scriptUrl",
          "monitorUrl",
          "scriptCode",
          "noscriptCode",
          "monitoringCode",
          "instructions"
        ]
      },
      "AntifraudTestResponseDto": {
        "type": "object",
        "properties": {
          "lastPhoneDigit": {
            "type": "number",
            "description": "√öltimo d√≠gito do telefone testado",
            "example": 2
          },
          "expectedStatus": {
            "type": "string",
            "description": "Status esperado da transa√ß√£o",
            "enum": [
              "PENDING",
              "FAILED",
              "PAID"
            ],
            "example": "FAILED"
          },
          "expectedAntifraudStatus": {
            "type": "string",
            "description": "Status esperado do antifraude",
            "enum": [
              "APPROVED",
              "FAILED",
              "NO_ANALYSED"
            ],
            "example": "FAILED"
          },
          "antifraudEnabled": {
            "type": "boolean",
            "description": "Se antifraude est√° habilitado",
            "example": true
          },
          "behavior": {
            "type": "string",
            "description": "Descri√ß√£o do comportamento",
            "example": "Com antifraude ativo e telefone terminando em 2, transa√ß√£o falha imediatamente"
          },
          "webhookRequired": {
            "type": "boolean",
            "description": "Se status final vem via webhook",
            "example": false
          }
        },
        "required": [
          "lastPhoneDigit",
          "expectedStatus",
          "expectedAntifraudStatus",
          "antifraudEnabled",
          "behavior",
          "webhookRequired"
        ]
      },
      "ThreeDSConfigResponseDto": {
        "type": "object",
        "properties": {
          "scriptUrl": {
            "type": "string",
            "description": "URL do script SDK PagBank",
            "example": "https://assets.pagseguro.com.br/checkout-sdk-js/rc/dist/browser/pagseguro.min.js"
          },
          "scriptTag": {
            "type": "string",
            "description": "C√≥digo HTML completo para incluir no <body>",
            "example": "<script src=\"...\"></script>"
          },
          "setupCode": {
            "type": "string",
            "description": "C√≥digo JavaScript de inicializa√ß√£o do SDK",
            "example": "PagSeguro.setUp({ session: \"...\", env: \"SANDBOX\" });"
          },
          "authenticationCode": {
            "type": "string",
            "description": "C√≥digo JavaScript completo de autentica√ß√£o",
            "example": "PagSeguro.authenticate3DS(request).then(...)"
          },
          "environment": {
            "type": "string",
            "description": "Ambiente do SDK",
            "enum": [
              "SANDBOX",
              "PROD"
            ],
            "example": "SANDBOX"
          },
          "instructions": {
            "description": "Instru√ß√µes de implementa√ß√£o",
            "example": [
              "1. Incluir scriptTag antes do </body>",
              "2. Executar setupCode com session da transa√ß√£o",
              "3. Montar payload com dados do cliente e cart√£o",
              "4. Chamar authenticationCode",
              "5. Enviar resultado para POST /api/antifraud/threeds/:id/authenticate"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "session": {
            "type": "string",
            "description": "Session ID da transa√ß√£o (se fornecido)",
            "example": "sess_abc123xyz789"
          }
        },
        "required": [
          "scriptUrl",
          "scriptTag",
          "setupCode",
          "authenticationCode",
          "environment",
          "instructions"
        ]
      },
      "Authenticate3DSDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID gerado pelo SDK 3DS do PagBank",
            "example": "7292865a9-3ce8-47c2-a8e0-40ba7ac08b96"
          },
          "status": {
            "type": "string",
            "description": "Status retornado pelo SDK 3DS",
            "enum": [
              "AUTH_FLOW_COMPLETED",
              "AUTH_NOT_SUPPORTED",
              "CHANGE_PAYMENT_METHOD"
            ],
            "example": "AUTH_FLOW_COMPLETED"
          },
          "authentication_status": {
            "type": "string",
            "description": "Status da autentica√ß√£o",
            "enum": [
              "AUTHENTICATED",
              "NOT_AUTHENTICATED"
            ],
            "example": "AUTHENTICATED"
          }
        },
        "required": [
          "id",
          "status",
          "authentication_status"
        ]
      },
      "ThreeDSAuthResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o",
            "example": "Autentica√ß√£o 3DS processada com sucesso"
          },
          "transaction_id": {
            "type": "string",
            "description": "ID da transa√ß√£o autenticada",
            "example": "681258717903c84441e0e823"
          },
          "authentication_status": {
            "type": "string",
            "description": "Status da autentica√ß√£o enviada",
            "example": "AUTHENTICATED"
          },
          "threeds_status": {
            "type": "string",
            "description": "Status do 3DS SDK",
            "example": "AUTH_FLOW_COMPLETED"
          },
          "new_transaction_id": {
            "type": "string",
            "description": "Novo ID da transa√ß√£o (se houve mudan√ßa ap√≥s autentica√ß√£o)",
            "example": "681258717903c84441e0e999"
          }
        },
        "required": [
          "message",
          "transaction_id",
          "authentication_status",
          "threeds_status"
        ]
      },
      "TestCardDto": {
        "type": "object",
        "properties": {
          "flag": {
            "type": "string",
            "description": "Bandeira do cart√£o",
            "example": "Visa"
          },
          "card_number": {
            "type": "string",
            "description": "N√∫mero do cart√£o de teste",
            "example": "4000000000002701"
          },
          "amount": {
            "type": "number",
            "description": "Valor da transa√ß√£o (em centavos)",
            "example": 2701
          },
          "behavior": {
            "type": "string",
            "description": "Descri√ß√£o do comportamento esperado",
            "example": "Internal 3DS authenticated without challenge"
          },
          "charges_status": {
            "type": "string",
            "description": "Status esperado da cobran√ßa",
            "example": "PAID"
          },
          "threeds_status": {
            "type": "string",
            "description": "Status esperado do 3DS",
            "example": "AUTHENTICATED"
          }
        },
        "required": [
          "flag",
          "card_number",
          "amount",
          "behavior",
          "charges_status",
          "threeds_status"
        ]
      },
      "TestCardsResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total de cart√µes de teste dispon√≠veis",
            "example": 18
          },
          "cards": {
            "description": "Lista de cart√µes de teste",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TestCardDto"
            }
          },
          "categories": {
            "description": "Categorias de testes dispon√≠veis",
            "example": [
              "Autenticado sem desafio (PAID)",
              "Autenticado com desafio (PAID)",
              "N√£o autenticado sem desafio (PAID)",
              "N√£o autenticado com desafio (PAID)",
              "Autenticado sem desafio (DECLINED)",
              "Autenticado com desafio (DECLINED)",
              "N√£o autenticado sem desafio (DECLINED)",
              "N√£o autenticado com desafio (DECLINED)"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "total",
          "cards",
          "categories"
        ]
      },
      "IDPayConfigResponseDto": {
        "type": "object",
        "properties": {
          "npmPackage": {
            "type": "string",
            "description": "Pacote NPM do SDK Unico IDPAY",
            "example": "idpay-b2b-sdk"
          },
          "version": {
            "type": "string",
            "description": "Vers√£o recomendada do SDK",
            "example": "latest"
          },
          "installCommand": {
            "type": "string",
            "description": "Comando de instala√ß√£o NPM",
            "example": "npm install idpay-b2b-sdk"
          },
          "initCode": {
            "type": "string",
            "description": "C√≥digo de inicializa√ß√£o do SDK",
            "example": "import { IDPaySDK } from 'idpay-b2b-sdk';"
          },
          "openCode": {
            "type": "string",
            "description": "C√≥digo de abertura do SDK",
            "example": "IDPaySDK.open({ transactionId, token, onFinish });"
          },
          "closeCode": {
            "type": "string",
            "description": "C√≥digo de fechamento do SDK",
            "example": "IDPaySDK.close();"
          },
          "flowType": {
            "type": "string",
            "description": "Tipo de fluxo recomendado",
            "enum": [
              "IFRAME",
              "REDIRECT"
            ],
            "example": "IFRAME"
          },
          "environment": {
            "type": "string",
            "description": "Ambiente de execu√ß√£o",
            "enum": [
              "uat",
              "production"
            ],
            "example": "uat"
          },
          "instructions": {
            "description": "Instru√ß√µes de implementa√ß√£o",
            "example": [
              "1. Instalar pacote NPM: npm install idpay-b2b-sdk",
              "2. Importar SDK no componente",
              "3. Inicializar SDK com tipo IFRAME",
              "4. Ap√≥s criar transa√ß√£o, verificar se analyse_required: IDPAY",
              "5. Extrair antifraud_id e session da resposta",
              "6. Abrir SDK em fullscreen com transactionId e token",
              "7. Implementar callback onFinish",
              "8. Enviar resultado para POST /api/antifraud/idpay/:id/authenticate"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "exampleCode": {
            "type": "string",
            "description": "C√≥digo exemplo completo de implementa√ß√£o",
            "example": "import { IDPaySDK } from \"idpay-b2b-sdk\";\n\n// 1. Inicializar SDK\nIDPaySDK.init({\n  type: 'IFRAME',\n  env: 'uat' // Apenas para testes\n});\n\n// 2. Abrir SDK ap√≥s criar transa√ß√£o\nconst transactionId = response.antifraud[0].antifraud_id;\nconst token = response.antifraud[0].session;\n\nconst onFinish = (transaction, type) => {\n  if (type === 'FINISH') {\n    // Enviar para backend\n    fetch('/api/antifraud/idpay/' + transactionId + '/authenticate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'establishment_id': '1234'\n      },\n      body: JSON.stringify({\n        concluded: transaction.concluded,\n        capture_concluded: transaction.captureConcluded\n      })\n    });\n  }\n};\n\nIDPaySDK.open({\n  transactionId,\n  token,\n  onFinish\n});"
          },
          "authorizedDomains": {
            "description": "Dom√≠nios que devem ser autorizados (informar √† Paytime)",
            "example": [
              "https://seudominio.com",
              "https://checkout.seudominio.com"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "npmPackage",
          "version",
          "installCommand",
          "initCode",
          "openCode",
          "closeCode",
          "flowType",
          "environment",
          "instructions"
        ]
      },
      "AuthenticateIDPayDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "antifraud_id retornado no array antifraud da cria√ß√£o da transa√ß√£o",
            "example": "ef3e352b-d141-48e4-831a-37754d4b8ec1"
          },
          "concluded": {
            "type": "boolean",
            "description": "Indica se o fluxo de verifica√ß√£o do usu√°rio foi finalizado com sucesso pelo IDPAY",
            "example": true
          },
          "capture_concluded": {
            "type": "boolean",
            "description": "Informa se a captura dos dados biom√©tricos e valida√ß√µes internas do IDPAY foi realizada corretamente",
            "example": true
          }
        },
        "required": [
          "id",
          "concluded",
          "capture_concluded"
        ]
      },
      "IDPayAuthResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o",
            "example": "Autentica√ß√£o IDPAY processada com sucesso"
          },
          "transaction_id": {
            "type": "string",
            "description": "ID da transa√ß√£o autenticada",
            "example": "681258717903c84441e0e823"
          },
          "concluded": {
            "type": "boolean",
            "description": "Status do fluxo de verifica√ß√£o",
            "example": true
          },
          "capture_concluded": {
            "type": "boolean",
            "description": "Status da captura biom√©trica",
            "example": true
          },
          "new_transaction_id": {
            "type": "string",
            "description": "Novo ID da transa√ß√£o (se houve mudan√ßa ap√≥s autentica√ß√£o)",
            "example": "681258717903c84441e0e999"
          }
        },
        "required": [
          "message",
          "transaction_id",
          "concluded",
          "capture_concluded"
        ]
      },
      "LiquidationMetaDto": {
        "type": "object",
        "properties": {
          "total_amount": {
            "type": "number",
            "description": "Valor total de todas as liquida√ß√µes em centavos",
            "example": 350000
          },
          "total_transactions": {
            "type": "number",
            "description": "Quantidade total de transa√ß√µes",
            "example": 8
          },
          "total_payments": {
            "type": "number",
            "description": "Quantidade total de pagamentos",
            "example": 0
          }
        },
        "required": [
          "total_amount",
          "total_transactions",
          "total_payments"
        ]
      },
      "LiquidationEstablishmentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento",
            "example": 1
          },
          "name1": {
            "type": "string",
            "description": "Nome/Raz√£o Social do estabelecimento",
            "example": "Estabelecimento Um"
          },
          "name2": {
            "type": "string",
            "description": "Nome fantasia ou complementar",
            "example": "Loja 1",
            "nullable": true
          },
          "document": {
            "type": "string",
            "description": "Documento do estabelecimento (CNPJ/CPF)",
            "example": "12345678900"
          },
          "status": {
            "type": "string",
            "description": "Status do estabelecimento na liquida√ß√£o",
            "enum": [
              "PAID",
              "PENDING",
              "PROCESSING",
              "ERROR"
            ],
            "example": "PAID"
          },
          "active": {
            "type": "boolean",
            "description": "Indica se o estabelecimento est√° ativo",
            "example": true
          },
          "block": {
            "type": "number",
            "description": "C√≥digo do bloco do estabelecimento",
            "example": 10
          },
          "type": {
            "type": "string",
            "description": "Tipo do estabelecimento",
            "example": "store"
          }
        },
        "required": [
          "id",
          "name1",
          "name2",
          "document",
          "status",
          "active",
          "block",
          "type"
        ]
      },
      "LiquidationMarketplaceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do marketplace",
            "example": 1
          },
          "name1": {
            "type": "string",
            "description": "Nome/Raz√£o Social do marketplace",
            "example": "Marketplace Teste"
          },
          "name2": {
            "type": "string",
            "description": "Nome fantasia do marketplace",
            "example": "MKT"
          },
          "document": {
            "type": "string",
            "description": "Documento do marketplace (CNPJ/CPF)",
            "example": "0099887766"
          },
          "nickname": {
            "type": "string",
            "description": "Apelido ou nome curto do marketplace",
            "example": "mkt_teste"
          }
        },
        "required": [
          "id",
          "name1",
          "name2",
          "document",
          "nickname"
        ]
      },
      "PlanPivotDto": {
        "type": "object",
        "properties": {
          "plan_id": {
            "type": "number",
            "description": "ID do plano vinculado",
            "example": 1
          },
          "establishment_id": {
            "type": "number",
            "description": "ID do estabelecimento vinculado",
            "example": 1
          },
          "active": {
            "type": "boolean",
            "description": "Indica se o v√≠nculo est√° ativo",
            "example": true
          }
        },
        "required": [
          "plan_id",
          "establishment_id",
          "active"
        ]
      },
      "LiquidationPlanDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do plano",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Nome do plano",
            "example": "Plano F√≠sico"
          },
          "allow_anticipation": {
            "type": "boolean",
            "description": "Indica se permite antecipa√ß√£o de receb√≠veis",
            "example": true
          },
          "modality": {
            "type": "string",
            "description": "Modalidade do plano",
            "enum": [
              "ONLINE",
              "PHYSICAL"
            ],
            "example": "PHYSICAL"
          },
          "pivot": {
            "description": "Informa√ß√µes do relacionamento plano-estabelecimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/PlanPivotDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "name",
          "allow_anticipation",
          "modality",
          "pivot"
        ]
      },
      "PaymentBankDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do banco",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Nome do banco",
            "example": "Banco do Brasil"
          },
          "code": {
            "type": "string",
            "description": "C√≥digo do banco (3 d√≠gitos)",
            "example": "001"
          },
          "ispb": {
            "type": "string",
            "description": "C√≥digo ISPB do banco",
            "example": "00000000"
          }
        },
        "required": [
          "id",
          "name",
          "code",
          "ispb"
        ]
      },
      "PaymentReceiptDto": {
        "type": "object",
        "properties": {
          "document": {
            "type": "string",
            "description": "Documento do titular",
            "example": "12345678900"
          },
          "form_receipt": {
            "type": "string",
            "description": "Forma de recebimento",
            "enum": [
              "BANKACCOUNT",
              "PAYTIME",
              "PAGBANK",
              "ZOOPBANK"
            ],
            "example": "BANKACCOUNT"
          },
          "type": {
            "type": "string",
            "description": "Tipo da conta",
            "example": "CHECKING"
          },
          "routing_number": {
            "type": "string",
            "description": "N√∫mero da ag√™ncia",
            "example": "0001"
          },
          "account_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da conta",
            "example": "1"
          },
          "routing_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da ag√™ncia",
            "example": "2"
          },
          "account_number": {
            "type": "string",
            "description": "N√∫mero da conta banc√°ria",
            "example": "12345"
          },
          "bank": {
            "description": "Informa√ß√µes do banco",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentBankDto"
              }
            ]
          }
        },
        "required": [
          "document",
          "form_receipt",
          "type",
          "routing_number",
          "account_check_digit",
          "routing_check_digit",
          "account_number",
          "bank"
        ]
      },
      "ReductionHistoryDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Status no hist√≥rico",
            "example": "CREATED"
          },
          "user_id": {
            "type": "number",
            "description": "ID do usu√°rio respons√°vel",
            "example": 1
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o",
            "example": "2025-07-22T22:10:38.308Z"
          }
        },
        "required": [
          "status",
          "user_id",
          "created_at"
        ]
      },
      "PaymentReductionDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Valor da redu√ß√£o em centavos",
            "example": 500
          },
          "motive": {
            "type": "string",
            "description": "Motivo da redu√ß√£o",
            "example": "Taxa administrativa"
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o adicional",
            "example": "Desconto aplicado conforme acordo"
          },
          "file_url": {
            "type": "string",
            "description": "URL do arquivo da redu√ß√£o",
            "example": "https://example.com/file.pdf"
          },
          "status": {
            "type": "string",
            "description": "Status da redu√ß√£o",
            "enum": [
              "CREATED",
              "DELETED"
            ],
            "example": "CREATED"
          },
          "history": {
            "description": "Hist√≥rico da redu√ß√£o",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReductionHistoryDto"
            }
          }
        },
        "required": [
          "amount",
          "motive",
          "description",
          "file_url",
          "status",
          "history"
        ]
      },
      "LiquidationPaymentDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID do pagamento",
            "example": "6720c0e72b1f2399b8e22222"
          },
          "amount": {
            "type": "number",
            "description": "Valor l√≠quido do pagamento em centavos",
            "example": 95000
          },
          "status": {
            "type": "string",
            "description": "Status do pagamento",
            "enum": [
              "PAID",
              "PENDING",
              "PROCESSING",
              "ERROR"
            ],
            "example": "PAID"
          },
          "original_amount": {
            "type": "number",
            "description": "Valor original antes de redu√ß√µes",
            "example": 100000
          },
          "transfer_id": {
            "type": "string",
            "description": "ID da transfer√™ncia associada",
            "example": "0000c0e72b1f2399b8e00000"
          },
          "send_to_establishment": {
            "type": "boolean",
            "description": "Indica se ser√° enviado ao estabelecimento",
            "example": true
          },
          "receipt": {
            "description": "Informa√ß√µes da conta de recebimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentReceiptDto"
              }
            ]
          },
          "effect": {
            "description": "Lista de efeitos aplicados",
            "example": [],
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "reductions": {
            "description": "Lista de redu√ß√µes aplicadas",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentReductionDto"
            }
          }
        },
        "required": [
          "_id",
          "amount",
          "status",
          "original_amount",
          "transfer_id",
          "send_to_establishment",
          "receipt",
          "effect",
          "reductions"
        ]
      },
      "HistoryUserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do usu√°rio",
            "example": 1
          },
          "first_name": {
            "type": "string",
            "description": "Primeiro nome",
            "example": "Admin"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome",
            "example": "User"
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name"
        ]
      },
      "LiquidationHistoryDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Status do hist√≥rico",
            "enum": [
              "PAID",
              "PENDING",
              "PROCESSING",
              "ERROR"
            ],
            "example": "PAID"
          },
          "created_at": {
            "type": "string",
            "description": "Data do hist√≥rico",
            "example": "2025-07-22T22:10:38.308Z"
          },
          "user": {
            "description": "Usu√°rio respons√°vel pela altera√ß√£o",
            "allOf": [
              {
                "$ref": "#/components/schemas/HistoryUserDto"
              }
            ]
          }
        },
        "required": [
          "status",
          "created_at",
          "user"
        ]
      },
      "LiquidationDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID da liquida√ß√£o",
            "example": "6720c0e72b1f2399b8e00000"
          },
          "amount": {
            "type": "number",
            "description": "Valor total da liquida√ß√£o em centavos",
            "example": 100000
          },
          "transactions": {
            "type": "number",
            "description": "Quantidade de transa√ß√µes associadas",
            "example": 3
          },
          "status": {
            "type": "string",
            "description": "Status da liquida√ß√£o",
            "enum": [
              "PAID",
              "PENDING",
              "PROCESSING",
              "ERROR"
            ],
            "example": "PAID"
          },
          "liquidation": {
            "type": "string",
            "description": "Data da liquida√ß√£o",
            "example": "2025-07-22T22:10:38.308Z"
          },
          "establishment": {
            "description": "Informa√ß√µes do estabelecimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/LiquidationEstablishmentDto"
              }
            ]
          },
          "marketplace": {
            "description": "Informa√ß√µes do marketplace",
            "allOf": [
              {
                "$ref": "#/components/schemas/LiquidationMarketplaceDto"
              }
            ]
          },
          "plans": {
            "description": "Lista de planos vinculados",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LiquidationPlanDto"
            }
          },
          "payments": {
            "description": "Lista de pagamentos realizados",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LiquidationPaymentDto"
            }
          },
          "reprocessing": {
            "type": "boolean",
            "description": "Indica se est√° em reprocessamento",
            "example": false
          },
          "history": {
            "description": "Hist√≥rico de status",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LiquidationHistoryDto"
            }
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o",
            "example": "2025-07-22T22:10:38.308Z"
          },
          "updated_at": {
            "type": "string",
            "description": "Data de atualiza√ß√£o",
            "example": "2025-07-22T22:10:38.308Z"
          },
          "__v": {
            "type": "number",
            "description": "Vers√£o do documento",
            "example": 0
          }
        },
        "required": [
          "_id",
          "amount",
          "transactions",
          "status",
          "liquidation",
          "establishment",
          "marketplace",
          "plans",
          "payments",
          "reprocessing",
          "history",
          "created_at",
          "updated_at",
          "__v"
        ]
      },
      "ListLiquidationsResponseDto": {
        "type": "object",
        "properties": {
          "meta": {
            "description": "Metadados agregados da listagem",
            "allOf": [
              {
                "$ref": "#/components/schemas/LiquidationMetaDto"
              }
            ]
          },
          "total": {
            "type": "number",
            "description": "N√∫mero total de registros",
            "example": 2
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina",
            "example": 20
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "lastPage": {
            "type": "number",
            "description": "N√∫mero da √∫ltima p√°gina",
            "example": 1
          },
          "data": {
            "description": "Lista de liquida√ß√µes",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LiquidationDto"
            }
          }
        },
        "required": [
          "meta",
          "total",
          "perPage",
          "page",
          "lastPage",
          "data"
        ]
      },
      "LiquidationExtractMetaDto": {
        "type": "object",
        "properties": {
          "total_amount": {
            "type": "number",
            "description": "Valor total de todas liquida√ß√µes em centavos",
            "example": 100000
          },
          "total_transactions": {
            "type": "number",
            "description": "Quantidade total de transa√ß√µes",
            "example": 1
          },
          "total_payments": {
            "type": "number",
            "description": "Quantidade total de pagamentos",
            "example": 0
          }
        },
        "required": [
          "total_amount",
          "total_transactions",
          "total_payments"
        ]
      },
      "ExtractReceiptBankDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nome da institui√ß√£o financeira",
            "example": "Banco do Brasil"
          },
          "code": {
            "type": "string",
            "description": "C√≥digo do banco (3 d√≠gitos)",
            "example": "001"
          }
        },
        "required": [
          "name",
          "code"
        ]
      },
      "ExtractReceiptDto": {
        "type": "object",
        "properties": {
          "form_receipt": {
            "type": "string",
            "description": "Forma de recebimento",
            "enum": [
              "BANKACCOUNT",
              "PAYTIME",
              "PAGBANK",
              "ZOOPBANK"
            ],
            "example": "BANKACCOUNT"
          },
          "type": {
            "type": "string",
            "description": "Tipo da conta banc√°ria",
            "enum": [
              "CHECKING",
              "SAVING"
            ],
            "example": "CHECKING"
          },
          "bank": {
            "description": "Informa√ß√µes do banco",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExtractReceiptBankDto"
              }
            ]
          }
        },
        "required": [
          "form_receipt",
          "type",
          "bank"
        ]
      },
      "ExtractMarketplaceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do marketplace",
            "example": 1
          },
          "document": {
            "type": "string",
            "description": "Documento do marketplace (CNPJ/CPF)",
            "example": "0099887766"
          },
          "name1": {
            "type": "string",
            "description": "Raz√£o Social ou Nome principal",
            "example": "Marketplace Teste"
          },
          "name2": {
            "type": "string",
            "description": "Nome fantasia ou complementar",
            "example": "MKT"
          },
          "nickname": {
            "type": "string",
            "description": "Apelido ou nome curto",
            "example": "mkt_teste"
          }
        },
        "required": [
          "id",
          "document",
          "name1",
          "name2",
          "nickname"
        ]
      },
      "ExtractEstablishmentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento",
            "example": 1
          },
          "document": {
            "type": "string",
            "description": "Documento do estabelecimento (CNPJ/CPF)",
            "example": "12345678900"
          },
          "name1": {
            "type": "string",
            "description": "Raz√£o Social ou Nome principal",
            "example": "Estabelecimento Um"
          },
          "name2": {
            "type": "string",
            "description": "Nome fantasia ou complementar",
            "example": "Loja 1",
            "nullable": true
          }
        },
        "required": [
          "id",
          "document",
          "name1",
          "name2"
        ]
      },
      "LiquidationExtractDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID da liquida√ß√£o",
            "example": "6720c0e72b1f2399b8e00000"
          },
          "amount": {
            "type": "number",
            "description": "Valor total da liquida√ß√£o em centavos",
            "example": 100000
          },
          "liquidation": {
            "type": "string",
            "description": "Data da liquida√ß√£o",
            "example": "2025-07-22T22:10:38.308Z"
          },
          "receipt": {
            "description": "Informa√ß√µes de recebimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExtractReceiptDto"
              }
            ]
          },
          "marketplace": {
            "description": "Informa√ß√µes do marketplace",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExtractMarketplaceDto"
              }
            ]
          },
          "establishment": {
            "description": "Informa√ß√µes do estabelecimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/ExtractEstablishmentDto"
              }
            ]
          },
          "modality": {
            "type": "string",
            "description": "Modalidade da transfer√™ncia",
            "enum": [
              "ONLINE",
              "PHYSICAL"
            ],
            "example": "PHYSICAL"
          },
          "transfer_id": {
            "type": "string",
            "description": "ID da transfer√™ncia vinculada",
            "example": "0000c0e72b1f2399b8e00000"
          },
          "payment_id": {
            "type": "string",
            "description": "ID do pagamento associado",
            "example": "1110c0e72b1f2399b8e00000"
          }
        },
        "required": [
          "_id",
          "amount",
          "liquidation",
          "receipt",
          "marketplace",
          "establishment",
          "modality",
          "transfer_id",
          "payment_id"
        ]
      },
      "ListLiquidationsExtractResponseDto": {
        "type": "object",
        "properties": {
          "meta": {
            "description": "Metadados agregados",
            "allOf": [
              {
                "$ref": "#/components/schemas/LiquidationExtractMetaDto"
              }
            ]
          },
          "total": {
            "type": "number",
            "description": "N√∫mero total de registros",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina",
            "example": 20
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "lastPage": {
            "type": "number",
            "description": "N√∫mero da √∫ltima p√°gina",
            "example": 1
          },
          "data": {
            "description": "Lista de liquida√ß√µes sumarizadas",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LiquidationExtractDto"
            }
          }
        },
        "required": [
          "meta",
          "total",
          "perPage",
          "page",
          "lastPage",
          "data"
        ]
      },
      "TransferUserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do usu√°rio",
            "example": 1
          },
          "first_name": {
            "type": "string",
            "description": "Primeiro nome do usu√°rio",
            "example": "Admin"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome do usu√°rio",
            "example": "User"
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name"
        ]
      },
      "BankAccountHolderDto": {
        "type": "object",
        "properties": {
          "first_name": {
            "type": "string",
            "description": "Nome do titular da conta",
            "example": "Jo√£o da Silva"
          },
          "document": {
            "type": "string",
            "description": "Documento do titular (CPF/CNPJ)",
            "example": "12345678900",
            "pattern": "^[0-9]{11,14}$"
          },
          "routing_number": {
            "type": "string",
            "description": "N√∫mero da ag√™ncia banc√°ria",
            "example": "0001"
          },
          "routing_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da ag√™ncia",
            "example": "2"
          },
          "account_number": {
            "type": "string",
            "description": "N√∫mero da conta banc√°ria",
            "example": "12345"
          },
          "account_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da conta",
            "example": "6"
          },
          "type": {
            "type": "string",
            "description": "Tipo de conta banc√°ria",
            "enum": [
              "CHECKING",
              "SAVING"
            ],
            "example": "CHECKING"
          }
        },
        "required": [
          "first_name",
          "document",
          "routing_number",
          "routing_check_digit",
          "account_number",
          "account_check_digit",
          "type"
        ]
      },
      "RecipientDto": {
        "type": "object",
        "properties": {
          "first_name": {
            "type": "string",
            "description": "Nome do titular da conta",
            "example": "Jo√£o da Silva"
          },
          "document": {
            "type": "string",
            "description": "Documento do titular (CPF/CNPJ)",
            "example": "12345678900",
            "pattern": "^[0-9]{11,14}$"
          },
          "routing_number": {
            "type": "string",
            "description": "N√∫mero da ag√™ncia banc√°ria",
            "example": "0001"
          },
          "routing_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da ag√™ncia",
            "example": "2"
          },
          "account_number": {
            "type": "string",
            "description": "N√∫mero da conta banc√°ria",
            "example": "12345"
          },
          "account_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da conta",
            "example": "6"
          },
          "type": {
            "type": "string",
            "description": "Tipo de conta banc√°ria",
            "enum": [
              "CHECKING",
              "SAVING"
            ],
            "example": "CHECKING"
          },
          "bank_code": {
            "type": "string",
            "description": "C√≥digo do banco (3 d√≠gitos)",
            "example": "001"
          },
          "bank_name": {
            "type": "string",
            "description": "Nome do banco",
            "example": "Banco do Brasil"
          },
          "bank_ispb": {
            "type": "string",
            "description": "C√≥digo ISPB do banco (8 d√≠gitos)",
            "example": "00000000"
          },
          "pix_key": {
            "type": "string",
            "description": "Chave Pix utilizada na transfer√™ncia (se aplic√°vel)",
            "example": "teste@pix.com"
          }
        },
        "required": [
          "first_name",
          "document",
          "routing_number",
          "routing_check_digit",
          "account_number",
          "account_check_digit",
          "type",
          "bank_code",
          "bank_name",
          "bank_ispb"
        ]
      },
      "TransferHistoryDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID do registro de hist√≥rico",
            "example": "6720c0e72b1f2399b8e99999"
          },
          "status": {
            "type": "string",
            "description": "Status registrado",
            "enum": [
              "PENDING",
              "PAID",
              "FAILED",
              "REFUNDED",
              "CANCELED"
            ],
            "example": "PAID"
          },
          "created_at": {
            "type": "string",
            "description": "Data/hora em que o status foi registrado",
            "example": "2025-07-22T22:10:38.309Z"
          }
        },
        "required": [
          "_id",
          "status",
          "created_at"
        ]
      },
      "TransferResponseDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Identificador √∫nico da transfer√™ncia",
            "example": "0000c0e72b1f2399b8e00000"
          },
          "type": {
            "type": "string",
            "description": "Tipo da transfer√™ncia",
            "enum": [
              "TED",
              "P2P",
              "PIX"
            ],
            "example": "PIX"
          },
          "status": {
            "type": "string",
            "description": "Status atual da transfer√™ncia",
            "enum": [
              "PENDING",
              "PAID",
              "FAILED",
              "REFUNDED",
              "CANCELED"
            ],
            "example": "PAID"
          },
          "amount": {
            "type": "number",
            "description": "Valor da transfer√™ncia em centavos",
            "example": 100000
          },
          "expected_at": {
            "type": "string",
            "description": "Data/hora esperada para conclus√£o da transfer√™ncia",
            "example": "2025-07-22T22:10:38.309Z"
          },
          "gateway_key": {
            "type": "string",
            "description": "Chave identificadora da transfer√™ncia no gateway",
            "example": "GATEWAY123"
          },
          "liquidation_id": {
            "type": "string",
            "description": "ID da liquida√ß√£o associada",
            "example": "6720c0e72b1f2399b8e00000"
          },
          "gateway_authorization": {
            "type": "string",
            "description": "C√≥digo de autoriza√ß√£o no gateway",
            "example": "AUTH456"
          },
          "lot_number": {
            "type": "string",
            "description": "N√∫mero do lote de processamento",
            "example": "789"
          },
          "release_number": {
            "type": "string",
            "description": "N√∫mero de libera√ß√£o da transfer√™ncia",
            "example": "456"
          },
          "user": {
            "description": "Informa√ß√µes do usu√°rio que executou a transfer√™ncia",
            "allOf": [
              {
                "$ref": "#/components/schemas/TransferUserDto"
              }
            ]
          },
          "payer": {
            "description": "Informa√ß√µes do pagador da transfer√™ncia",
            "allOf": [
              {
                "$ref": "#/components/schemas/BankAccountHolderDto"
              }
            ]
          },
          "recipient": {
            "description": "Informa√ß√µes do destinat√°rio da transfer√™ncia",
            "allOf": [
              {
                "$ref": "#/components/schemas/RecipientDto"
              }
            ]
          },
          "history": {
            "description": "Hist√≥rico de altera√ß√µes de status",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransferHistoryDto"
            }
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o do registro",
            "example": "2025-07-22T22:10:38.309Z"
          },
          "updated_at": {
            "type": "string",
            "description": "Data da √∫ltima atualiza√ß√£o",
            "example": "2025-07-22T22:10:38.309Z"
          },
          "__v": {
            "type": "number",
            "description": "Vers√£o do documento (controle interno)",
            "example": 0
          }
        },
        "required": [
          "_id",
          "type",
          "status",
          "amount",
          "expected_at",
          "gateway_key",
          "liquidation_id",
          "gateway_authorization",
          "lot_number",
          "release_number",
          "user",
          "payer",
          "recipient",
          "history",
          "created_at",
          "updated_at",
          "__v"
        ]
      },
      "AddressResponseDto": {
        "type": "object",
        "properties": {
          "zip_code": {
            "type": "string",
            "description": "CEP"
          },
          "street": {
            "type": "string",
            "description": "Logradouro"
          },
          "neighborhood": {
            "type": "string",
            "description": "Bairro"
          },
          "city": {
            "type": "string",
            "description": "Cidade"
          },
          "state": {
            "type": "string",
            "description": "UF"
          },
          "number": {
            "type": "string",
            "description": "N√∫mero"
          },
          "complement": {
            "type": "string",
            "description": "Complemento"
          }
        },
        "required": [
          "zip_code",
          "street",
          "neighborhood",
          "city",
          "state",
          "number"
        ]
      },
      "ResponsibleResponseDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email do respons√°vel"
          },
          "document": {
            "type": "string",
            "description": "CPF do respons√°vel"
          },
          "first_name": {
            "type": "string",
            "description": "Nome completo"
          },
          "phone": {
            "type": "string",
            "description": "Telefone"
          },
          "birthdate": {
            "type": "string",
            "description": "Data de nascimento"
          }
        },
        "required": [
          "email",
          "document",
          "first_name",
          "phone",
          "birthdate"
        ]
      },
      "EstablishmentGatewayDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do gateway"
          },
          "name": {
            "type": "string",
            "description": "Nome do gateway"
          },
          "type": {
            "type": "string",
            "description": "Tipo do gateway"
          },
          "status": {
            "type": "string",
            "description": "Status",
            "enum": [
              "ACTIVE",
              "INACTIVE"
            ]
          }
        },
        "required": [
          "id",
          "name",
          "type",
          "status"
        ]
      },
      "EstablishmentResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento"
          },
          "type": {
            "type": "string",
            "description": "Tipo",
            "enum": [
              "INDIVIDUAL",
              "BUSINESS"
            ]
          },
          "status": {
            "type": "string",
            "description": "Status",
            "enum": [
              "PENDING",
              "VALIDATION",
              "RISK_ANALYSIS",
              "APPROVED",
              "DISAPPROVED",
              "DISCREDITED",
              "BACKGROUND_CHECK"
            ]
          },
          "risk": {
            "type": "string",
            "description": "N√≠vel de risco",
            "enum": [
              "LOW",
              "MEDIUM",
              "HIGH"
            ]
          },
          "access_type": {
            "type": "string",
            "description": "Tipo de acesso",
            "enum": [
              "ACQUIRER",
              "BANKING"
            ]
          },
          "document": {
            "type": "string",
            "description": "Documento (CPF ou CNPJ)"
          },
          "email": {
            "type": "string",
            "description": "Email"
          },
          "first_name": {
            "type": "string",
            "description": "Nome/Raz√£o Social"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome/Nome Fantasia"
          },
          "phone_number": {
            "type": "string",
            "description": "Telefone"
          },
          "cnae": {
            "type": "string",
            "description": "CNAE"
          },
          "format": {
            "type": "string",
            "description": "Formato da empresa"
          },
          "birthdate": {
            "type": "string",
            "description": "Data de nascimento/abertura"
          },
          "revenue": {
            "type": "number",
            "description": "Receita estimada"
          },
          "gmv": {
            "type": "number",
            "description": "GMV"
          },
          "notes": {
            "type": "string",
            "description": "Notas"
          },
          "visited": {
            "type": "boolean",
            "description": "Foi visitado"
          },
          "address": {
            "description": "Endere√ßo",
            "allOf": [
              {
                "$ref": "#/components/schemas/AddressResponseDto"
              }
            ]
          },
          "responsible": {
            "description": "Respons√°vel",
            "allOf": [
              {
                "$ref": "#/components/schemas/ResponsibleResponseDto"
              }
            ]
          },
          "representative": {
            "description": "Representante",
            "allOf": [
              {
                "$ref": "#/components/schemas/RepresentativeDto"
              }
            ]
          },
          "plans": {
            "description": "Planos contratados",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlanDto"
            }
          },
          "gateways": {
            "description": "Gateways configurados",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EstablishmentGatewayDto"
            }
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o"
          },
          "updated_at": {
            "type": "string",
            "description": "Data de atualiza√ß√£o"
          }
        },
        "required": [
          "id",
          "type",
          "status",
          "document",
          "email",
          "first_name",
          "phone_number",
          "address",
          "responsible",
          "created_at",
          "updated_at"
        ]
      },
      "EstablishmentMetaDto": {
        "type": "object",
        "properties": {
          "current_page": {
            "type": "number",
            "description": "P√°gina atual"
          },
          "total_pages": {
            "type": "number",
            "description": "Total de p√°ginas"
          },
          "total": {
            "type": "number",
            "description": "Total de estabelecimentos"
          },
          "per_page": {
            "type": "number",
            "description": "Itens por p√°gina"
          }
        },
        "required": [
          "current_page",
          "total_pages",
          "total",
          "per_page"
        ]
      },
      "ListEstablishmentsResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Lista de estabelecimentos",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EstablishmentResponseDto"
            }
          },
          "__meta__": {
            "description": "Metadados de pagina√ß√£o",
            "allOf": [
              {
                "$ref": "#/components/schemas/EstablishmentMetaDto"
              }
            ]
          }
        },
        "required": [
          "data",
          "__meta__"
        ]
      },
      "ResponsibleDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email do respons√°vel",
            "example": "joao@email.com"
          },
          "document": {
            "type": "string",
            "description": "CPF do respons√°vel",
            "example": "40075201003"
          },
          "first_name": {
            "type": "string",
            "description": "Nome completo",
            "example": "Jo√£o Desenvolvedor"
          },
          "phone": {
            "type": "string",
            "description": "Telefone",
            "example": "00000000001"
          },
          "birthdate": {
            "type": "string",
            "description": "Data de nascimento (YYYY-MM-DD)",
            "example": "2000-10-12"
          }
        },
        "required": [
          "email",
          "document",
          "first_name",
          "phone",
          "birthdate"
        ]
      },
      "CreateEstablishmentDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Tipo",
            "enum": [
              "INDIVIDUAL",
              "BUSINESS"
            ],
            "example": "BUSINESS"
          },
          "activity_id": {
            "type": "number",
            "description": "ID da atividade"
          },
          "representative_id": {
            "type": "number",
            "description": "ID do representante"
          },
          "notes": {
            "type": "string",
            "description": "Notas"
          },
          "visited": {
            "type": "boolean",
            "description": "Foi visitado"
          },
          "responsible": {
            "description": "Dados do respons√°vel",
            "allOf": [
              {
                "$ref": "#/components/schemas/ResponsibleDto"
              }
            ]
          },
          "address": {
            "description": "Endere√ßo",
            "allOf": [
              {
                "$ref": "#/components/schemas/AddressDto"
              }
            ]
          },
          "first_name": {
            "type": "string",
            "description": "Raz√£o Social"
          },
          "last_name": {
            "type": "string",
            "description": "Nome Fantasia"
          },
          "cnae": {
            "type": "string",
            "description": "C√≥digo CNAE",
            "example": "0111302"
          },
          "document": {
            "type": "string",
            "description": "CNPJ",
            "example": "11299221000129"
          },
          "phone_number": {
            "type": "string",
            "description": "Telefone",
            "example": "27998765431"
          },
          "format": {
            "type": "string",
            "description": "Formato",
            "enum": [
              "SS",
              "SC",
              "SPE",
              "LTDA",
              "SA",
              "ME",
              "MEI",
              "EI",
              "EIRELI",
              "SLU",
              "ESI"
            ],
            "example": "LTDA"
          },
          "email": {
            "type": "string",
            "description": "Email",
            "example": "ec@email.com"
          },
          "birthdate": {
            "type": "string",
            "description": "Data de abertura (YYYY-MM-DD) - Obrigat√≥rio para BUSINESS",
            "example": "2022-01-01"
          },
          "revenue": {
            "type": "number",
            "description": "Faturamento estimado"
          },
          "gmv": {
            "type": "number",
            "description": "Meta de faturamento anual"
          }
        },
        "required": [
          "type",
          "responsible",
          "address",
          "cnae",
          "document",
          "phone_number",
          "format",
          "email"
        ]
      },
      "UpdateEstablishmentDto": {
        "type": "object",
        "properties": {
          "access_type": {
            "type": "string",
            "description": "Tipo de acesso",
            "enum": [
              "ACQUIRER",
              "BANKING"
            ],
            "example": "ACQUIRER"
          },
          "first_name": {
            "type": "string",
            "description": "Nome/Raz√£o Social"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome/Nome Fantasia"
          },
          "phone_number": {
            "type": "string",
            "description": "Telefone"
          },
          "revenue": {
            "type": "number",
            "description": "Receita mensal estimada (deve ser >= 1)",
            "example": 50000
          },
          "format": {
            "type": "string",
            "description": "Formato",
            "enum": [
              "SS",
              "SC",
              "SPE",
              "LTDA",
              "SA",
              "ME",
              "MEI",
              "EI",
              "EIRELI",
              "SLU",
              "ESI"
            ]
          },
          "email": {
            "type": "string",
            "description": "Email"
          },
          "gmv": {
            "type": "number",
            "description": "GMV"
          },
          "birthdate": {
            "type": "string",
            "description": "Data de nascimento/abertura (YYYY-MM-DD)"
          }
        },
        "required": [
          "access_type",
          "phone_number",
          "revenue",
          "format",
          "email",
          "birthdate"
        ]
      },
      "GatewayInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do gateway"
          },
          "name": {
            "type": "string",
            "description": "Nome do gateway"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "BankAccountResponseDto": {
        "type": "object",
        "properties": {
          "account_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da conta"
          },
          "account_number": {
            "type": "string",
            "description": "N√∫mero da conta banc√°ria"
          },
          "bank_id": {
            "type": "number",
            "description": "ID do banco"
          },
          "routing_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da ag√™ncia"
          },
          "routing_number": {
            "type": "string",
            "description": "N√∫mero da ag√™ncia"
          },
          "type": {
            "type": "string",
            "description": "Tipo da conta",
            "enum": [
              "CHECKING",
              "SAVING"
            ]
          }
        },
        "required": [
          "account_check_digit",
          "account_number",
          "bank_id",
          "routing_check_digit",
          "routing_number",
          "type"
        ]
      },
      "SpbAccountDto": {
        "type": "object",
        "properties": {
          "account_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da conta"
          },
          "account_number": {
            "type": "string",
            "description": "N√∫mero da conta banc√°ria"
          },
          "bank_id": {
            "type": "number",
            "description": "ID do banco"
          },
          "routing_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da ag√™ncia"
          },
          "routing_number": {
            "type": "string",
            "description": "N√∫mero da ag√™ncia"
          },
          "type": {
            "type": "string",
            "description": "Tipo da conta",
            "enum": [
              "CHECKING",
              "SAVING"
            ]
          }
        },
        "required": [
          "account_check_digit",
          "account_number",
          "bank_id",
          "routing_check_digit",
          "routing_number",
          "type"
        ]
      },
      "GatewayMetadataDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "C√≥digo de controle interno"
          },
          "email": {
            "type": "string",
            "description": "Email associado"
          },
          "token": {
            "type": "string",
            "description": "Token de autentica√ß√£o"
          },
          "statement_descriptor": {
            "type": "string",
            "description": "Nome na fatura do cliente"
          },
          "url_documents_copy": {
            "type": "string",
            "description": "URL para upload de documentos KYC (Banking)"
          }
        }
      },
      "GatewayConfigDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID da configura√ß√£o do gateway"
          },
          "gateway": {
            "description": "Dados do gateway",
            "allOf": [
              {
                "$ref": "#/components/schemas/GatewayInfoDto"
              }
            ]
          },
          "establishment_id": {
            "type": "number",
            "description": "ID do estabelecimento"
          },
          "gateway_key": {
            "type": "string",
            "description": "Chave do gateway"
          },
          "reference_id": {
            "type": "string",
            "description": "ID de refer√™ncia do parceiro"
          },
          "status": {
            "type": "string",
            "description": "Status da configura√ß√£o",
            "enum": [
              "PENDING",
              "WAITING",
              "ANALYZE",
              "BLOCKED",
              "CANCELED",
              "DISAPPROVED",
              "APPROVED"
            ]
          },
          "active": {
            "type": "boolean",
            "description": "Se o gateway est√° ativo"
          },
          "form_receipt": {
            "type": "string",
            "description": "Forma de recebimento",
            "enum": [
              "BANKACCOUNT",
              "PAYTIME",
              "PAGBANK",
              "ZOOPBANK"
            ]
          },
          "bank_account": {
            "description": "Conta banc√°ria",
            "allOf": [
              {
                "$ref": "#/components/schemas/BankAccountResponseDto"
              }
            ]
          },
          "spb_account": {
            "description": "Conta SPB",
            "allOf": [
              {
                "$ref": "#/components/schemas/SpbAccountDto"
              }
            ]
          },
          "metadata": {
            "description": "Metadados adicionais",
            "allOf": [
              {
                "$ref": "#/components/schemas/GatewayMetadataDto"
              }
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o"
          },
          "updated_at": {
            "type": "string",
            "description": "Data de atualiza√ß√£o"
          }
        },
        "required": [
          "id",
          "gateway",
          "establishment_id",
          "status",
          "active",
          "metadata",
          "created_at",
          "updated_at"
        ]
      },
      "ListGatewaysResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total de registros"
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual"
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina"
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina"
          },
          "data": {
            "description": "Lista de gateways",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GatewayConfigDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      },
      "BankAccountDto": {
        "type": "object",
        "properties": {
          "account_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da conta",
            "example": "1"
          },
          "account_number": {
            "type": "string",
            "description": "N√∫mero da conta banc√°ria",
            "example": "123456"
          },
          "bank_code": {
            "type": "string",
            "description": "C√≥digo do banco (ex: 341=Ita√∫, 104=Caixa)",
            "example": "341"
          },
          "routing_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da ag√™ncia",
            "example": "9"
          },
          "routing_number": {
            "type": "string",
            "description": "N√∫mero da ag√™ncia (sem d√≠gito, m√°x 4 caracteres)",
            "example": "1234"
          },
          "type": {
            "type": "string",
            "description": "Tipo da conta",
            "enum": [
              "CHECKING",
              "SAVING"
            ],
            "example": "CHECKING"
          }
        },
        "required": [
          "account_check_digit",
          "account_number",
          "bank_code",
          "routing_number",
          "type"
        ]
      },
      "GatewayPlanDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do plano comercial",
            "example": 93
          },
          "active": {
            "type": "boolean",
            "description": "Se o plano est√° ativo",
            "example": true
          }
        },
        "required": [
          "id",
          "active"
        ]
      },
      "ActivateGatewayDto": {
        "type": "object",
        "properties": {
          "reference_id": {
            "type": "string",
            "description": "Refer√™ncia √∫nica do parceiro",
            "example": "NumeroQueParceiroUsa"
          },
          "gateway_id": {
            "type": "number",
            "description": "ID do gateway: 2=PagSeguro, 4=Paytime (SubPaytime), 6=Banking",
            "example": 4,
            "enum": [
              2,
              4,
              6
            ]
          },
          "active": {
            "type": "boolean",
            "description": "Se o gateway ser√° ativado",
            "example": true
          },
          "form_receipt": {
            "type": "string",
            "description": "Forma de recebimento",
            "enum": [
              "BANKACCOUNT",
              "PAYTIME",
              "PAGBANK",
              "ZOOPBANK"
            ],
            "example": "PAYTIME"
          },
          "bank_account": {
            "description": "Conta banc√°ria (obrigat√≥rio se form_receipt=BANKACCOUNT)",
            "allOf": [
              {
                "$ref": "#/components/schemas/BankAccountDto"
              }
            ]
          },
          "statement_descriptor": {
            "type": "string",
            "description": "Nome que aparece na fatura (obrigat√≥rio para SubPaytime)",
            "example": "Minha Empresa"
          },
          "plans": {
            "description": "Planos comerciais vinculados (obrigat√≥rio para SubPaytime e PagSeguro)",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GatewayPlanDto"
            }
          },
          "fees_banking_id": {
            "type": "number",
            "description": "ID do pacote de tarifas banc√°rias (obrigat√≥rio para Banking)",
            "example": 2
          }
        },
        "required": [
          "reference_id",
          "gateway_id",
          "active",
          "form_receipt"
        ]
      },
      "GatewayDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID √∫nico do gateway"
          },
          "name": {
            "type": "string",
            "description": "Nome do gateway",
            "example": "PAYTIME"
          },
          "type": {
            "type": "string",
            "description": "Tipo do gateway",
            "enum": [
              "ACQUIRER",
              "BANKING"
            ],
            "example": "ACQUIRER"
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o"
          },
          "updated_at": {
            "type": "string",
            "description": "Data de atualiza√ß√£o"
          }
        },
        "required": [
          "id",
          "name",
          "type",
          "created_at",
          "updated_at"
        ]
      },
      "ListAvailableGatewaysResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total de gateways"
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual"
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina"
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina"
          },
          "data": {
            "description": "Lista de gateways dispon√≠veis",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GatewayDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      },
      "ListRepresentativesResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total de registros"
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual"
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina"
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina"
          },
          "data": {
            "description": "Lista de representantes",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RepresentativeDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      },
      "EstablishmentAddressDto": {
        "type": "object",
        "properties": {
          "zip_code": {
            "type": "string",
            "description": "CEP"
          },
          "street": {
            "type": "string",
            "description": "Logradouro"
          },
          "number": {
            "type": "string",
            "description": "N√∫mero"
          },
          "neighborhood": {
            "type": "string",
            "description": "Bairro"
          },
          "city": {
            "type": "string",
            "description": "Cidade"
          },
          "state": {
            "type": "string",
            "description": "UF"
          },
          "complement": {
            "type": "string",
            "description": "Complemento"
          }
        },
        "required": [
          "zip_code",
          "street",
          "number",
          "neighborhood",
          "city",
          "state"
        ]
      },
      "EstablishmentResponsibleDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do respons√°vel"
          },
          "first_name": {
            "type": "string",
            "description": "Nome completo"
          },
          "email": {
            "type": "string",
            "description": "Email"
          },
          "document": {
            "type": "string",
            "description": "CPF"
          },
          "phone": {
            "type": "string",
            "description": "Telefone"
          },
          "birthdate": {
            "type": "string",
            "description": "Data de nascimento"
          }
        },
        "required": [
          "id",
          "first_name",
          "email",
          "document",
          "phone",
          "birthdate"
        ]
      },
      "RepresentativeEstablishmentDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do estabelecimento"
          },
          "type": {
            "type": "string",
            "description": "Tipo",
            "enum": [
              "INDIVIDUAL",
              "BUSINESS"
            ]
          },
          "first_name": {
            "type": "string",
            "description": "Nome/Raz√£o social"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome/Nome fantasia"
          },
          "document": {
            "type": "string",
            "description": "CPF/CNPJ"
          },
          "birthdate": {
            "type": "string",
            "description": "Data de nascimento/abertura"
          },
          "phone_number": {
            "type": "string",
            "description": "Telefone"
          },
          "active": {
            "type": "boolean",
            "description": "Se est√° ativo"
          },
          "revenue": {
            "type": "string",
            "description": "Receita estimada"
          },
          "format": {
            "type": "string",
            "description": "Formato da empresa"
          },
          "email": {
            "type": "string",
            "description": "Email"
          },
          "risk": {
            "type": "string",
            "description": "N√≠vel de risco",
            "enum": [
              "LOW",
              "MEDIUM",
              "HIGH"
            ]
          },
          "status": {
            "type": "string",
            "description": "Status",
            "enum": [
              "PENDING",
              "VALIDATION",
              "RISK_ANALYSIS",
              "APPROVED",
              "DISAPPROVED",
              "DISCREDITED",
              "BACKGROUND_CHECK"
            ]
          },
          "address": {
            "description": "Endere√ßo",
            "allOf": [
              {
                "$ref": "#/components/schemas/EstablishmentAddressDto"
              }
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o"
          },
          "updated_at": {
            "type": "string",
            "description": "Data de atualiza√ß√£o"
          },
          "deleted_at": {
            "type": "string",
            "description": "Data de exclus√£o"
          },
          "responsible": {
            "description": "Respons√°vel",
            "allOf": [
              {
                "$ref": "#/components/schemas/EstablishmentResponsibleDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "type",
          "first_name",
          "document",
          "birthdate",
          "phone_number",
          "active",
          "revenue",
          "email",
          "risk",
          "status",
          "address",
          "created_at",
          "updated_at",
          "responsible"
        ]
      },
      "RepresentativeDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do representante"
          },
          "active": {
            "type": "boolean",
            "description": "Se o representante est√° ativo"
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o"
          },
          "updated_at": {
            "type": "string",
            "description": "Data de atualiza√ß√£o"
          },
          "deleted_at": {
            "type": "string",
            "description": "Data de exclus√£o l√≥gica"
          },
          "establishment": {
            "description": "Estabelecimento completo",
            "allOf": [
              {
                "$ref": "#/components/schemas/RepresentativeEstablishmentDetailDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "active",
          "created_at",
          "updated_at",
          "establishment"
        ]
      },
      "ListPlansResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "N√∫mero total de registros",
            "example": 3
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina",
            "example": 20
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina dispon√≠vel",
            "example": 1
          },
          "data": {
            "description": "Lista de planos",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlanDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      },
      "PlanCategoryDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID da categoria",
            "example": 30
          },
          "name": {
            "type": "string",
            "description": "Nome da categoria",
            "example": "A/D DE EQUIPAMENTOS DE FOTOGRAFIA, C√ìPIA E MICROFILME"
          },
          "gateway_key": {
            "type": "string",
            "description": "Chave do gateway da categoria",
            "example": "5044"
          }
        },
        "required": [
          "id",
          "name",
          "gateway_key"
        ]
      },
      "CreditFeesDto": {
        "type": "object",
        "properties": {
          "1x": {
            "type": "number",
            "example": 1.01
          },
          "2x": {
            "type": "number",
            "example": 1.01
          },
          "3x": {
            "type": "number",
            "example": 1.01
          },
          "4x": {
            "type": "number",
            "example": 1.01
          },
          "5x": {
            "type": "number",
            "example": 1.01
          },
          "6x": {
            "type": "number",
            "example": 1.01
          },
          "7x": {
            "type": "number",
            "example": 1.01
          },
          "8x": {
            "type": "number",
            "example": 1.01
          },
          "9x": {
            "type": "number",
            "example": 1.01
          },
          "10x": {
            "type": "number",
            "example": 1.01
          },
          "11x": {
            "type": "number",
            "example": 1.01
          },
          "12x": {
            "type": "number",
            "example": 1.01
          },
          "13x": {
            "type": "number",
            "example": 1.01
          },
          "14x": {
            "type": "number",
            "example": 1.01
          },
          "15x": {
            "type": "number",
            "example": 1.01
          },
          "16x": {
            "type": "number",
            "example": 1.01
          },
          "17x": {
            "type": "number",
            "example": 1.01
          },
          "18x": {
            "type": "number",
            "example": 1.01
          }
        },
        "required": [
          "1x",
          "2x",
          "3x",
          "4x",
          "5x",
          "6x",
          "7x",
          "8x",
          "9x",
          "10x",
          "11x",
          "12x",
          "13x",
          "14x",
          "15x",
          "16x",
          "17x",
          "18x"
        ]
      },
      "FeeStructureDto": {
        "type": "object",
        "properties": {
          "pix": {
            "type": "number",
            "description": "Taxa PIX (%)",
            "example": 0
          },
          "debit": {
            "type": "number",
            "description": "Taxa d√©bito (%)",
            "example": 1.01
          },
          "credit": {
            "description": "Taxas cr√©dito por parcelas (%)",
            "allOf": [
              {
                "$ref": "#/components/schemas/CreditFeesDto"
              }
            ]
          }
        },
        "required": [
          "pix",
          "debit",
          "credit"
        ]
      },
      "PlanFlagDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID da bandeira",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Nome da bandeira",
            "example": "MASTERCARD",
            "enum": [
              "MASTERCARD",
              "VISA",
              "ELO",
              "AMERICAN EXPRESS",
              "HIPER / HIPERCARD",
              "OTHERS",
              "BACEN"
            ]
          },
          "active": {
            "type": "boolean",
            "description": "Indica se a bandeira est√° ativa no plano",
            "example": true
          },
          "standard": {
            "description": "Taxas padr√£o (base)",
            "allOf": [
              {
                "$ref": "#/components/schemas/FeeStructureDto"
              }
            ]
          },
          "markup": {
            "description": "Markup adicional aplicado sobre as taxas padr√£o",
            "allOf": [
              {
                "$ref": "#/components/schemas/FeeStructureDto"
              }
            ]
          },
          "fees": {
            "description": "Taxas finais (standard + markup)",
            "allOf": [
              {
                "$ref": "#/components/schemas/FeeStructureDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "name",
          "active",
          "standard",
          "markup",
          "fees"
        ]
      },
      "PlanDetailDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID √∫nico do plano",
            "example": 64
          },
          "name": {
            "type": "string",
            "description": "Nome do plano",
            "example": "Plano Simulate Presencial Antecipado ID_30"
          },
          "active": {
            "type": "boolean",
            "description": "Indica se o plano est√° ativo",
            "example": true
          },
          "gateway_id": {
            "type": "number",
            "description": "ID do gateway associado (2=PagSeguro, 4=SubPaytime, 6=Banking)",
            "example": 4
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o detalhada do plano",
            "example": "Plano Simulate Presencial Antecipado ID30",
            "nullable": true
          },
          "type": {
            "type": "string",
            "description": "Tipo de plano",
            "example": "COMMERCIAL",
            "enum": [
              "COMMERCIAL",
              "STANDARD"
            ]
          },
          "modality": {
            "type": "string",
            "description": "Modalidade do plano",
            "example": "PHYSICAL",
            "enum": [
              "ONLINE",
              "PHYSICAL"
            ]
          },
          "allow_anticipation": {
            "type": "boolean",
            "description": "Indica se o plano permite antecipa√ß√£o de receb√≠veis",
            "example": true
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o do plano",
            "example": "2025-04-15T12:33:34.000Z"
          },
          "updated_at": {
            "type": "string",
            "description": "Data da √∫ltima atualiza√ß√£o",
            "example": "2025-04-15T12:33:34.000Z"
          },
          "categories": {
            "description": "Categorias (CNAEs) associadas ao plano",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlanCategoryDto"
            }
          },
          "flags": {
            "description": "Bandeiras configuradas com taxas detalhadas por modalidade",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlanFlagDto"
            }
          }
        },
        "required": [
          "id",
          "name",
          "active",
          "gateway_id",
          "description",
          "type",
          "modality",
          "allow_anticipation",
          "created_at",
          "updated_at",
          "categories",
          "flags"
        ]
      },
      "BankingFeeStructureDto": {
        "type": "object",
        "properties": {
          "pix": {
            "type": "number",
            "description": "Taxa para transa√ß√µes PIX (em centavos)",
            "example": 200
          },
          "ted": {
            "type": "number",
            "description": "Taxa para transa√ß√µes TED (em centavos)",
            "example": 200
          },
          "billet": {
            "type": "number",
            "description": "Taxa para boletos (em centavos)",
            "example": 200
          },
          "dynamic_pix": {
            "type": "number",
            "description": "Taxa para PIX din√¢mico (em centavos)",
            "example": 200
          }
        },
        "required": [
          "pix",
          "ted",
          "billet",
          "dynamic_pix"
        ]
      },
      "BankingFeesDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID √∫nico do pacote de tarifas",
            "example": 2
          },
          "name": {
            "type": "string",
            "description": "Nome identificador do pacote de tarifas",
            "example": "Pacote de Tarifa Comercial"
          },
          "type": {
            "type": "string",
            "description": "Tipo da tarifa banc√°ria",
            "example": "COMMERCIAL",
            "enum": [
              "COMMERCIAL",
              "STANDARD"
            ]
          },
          "standard": {
            "description": "Taxas padr√£o (base) fornecidas pela institui√ß√£o financeira",
            "allOf": [
              {
                "$ref": "#/components/schemas/BankingFeeStructureDto"
              }
            ]
          },
          "markup": {
            "description": "Acr√©scimo (markup) aplicado pelo parceiro sobre as taxas padr√£o",
            "allOf": [
              {
                "$ref": "#/components/schemas/BankingFeeStructureDto"
              }
            ]
          },
          "fees": {
            "description": "Taxas finais aplicadas (standard + markup)",
            "allOf": [
              {
                "$ref": "#/components/schemas/BankingFeeStructureDto"
              }
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o do pacote",
            "example": "2023-06-21T19:41:40.000Z"
          },
          "updated_at": {
            "type": "string",
            "description": "Data da √∫ltima atualiza√ß√£o",
            "example": "2023-06-21T19:41:40.000Z"
          }
        },
        "required": [
          "id",
          "name",
          "type",
          "standard",
          "markup",
          "fees",
          "created_at",
          "updated_at"
        ]
      },
      "ListBankingFeesResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "N√∫mero total de registros",
            "example": 2
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina",
            "example": 20
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina dispon√≠vel",
            "example": 1
          },
          "data": {
            "description": "Lista de pacotes de tarifas banc√°rias",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BankingFeesDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      },
      "BalanceResponseDto": {
        "type": "object",
        "properties": {
          "total_balance": {
            "type": "number",
            "description": "Saldo total do estabelecimento, somando valores dispon√≠veis e bloqueados (em centavos)",
            "example": 5000000
          },
          "blocked_balance": {
            "type": "number",
            "description": "Saldo bloqueado, indispon√≠vel para saque ou transfer√™ncia (em centavos)",
            "example": 0
          },
          "balance": {
            "type": "number",
            "description": "Saldo dispon√≠vel para saque ou uso imediato (em centavos)",
            "example": 5000000
          }
        },
        "required": [
          "total_balance",
          "blocked_balance",
          "balance"
        ]
      },
      "AdditionalInformationDto": {
        "type": "object",
        "properties": {
          "old_balance": {
            "type": "number",
            "description": "Saldo anterior do estabelecimento (em centavos)",
            "example": 0
          },
          "current_balance": {
            "type": "number",
            "description": "Saldo atual do estabelecimento (em centavos)",
            "example": 5000000
          }
        },
        "required": [
          "old_balance",
          "current_balance"
        ]
      },
      "ExtractEntryDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Tipo da movimenta√ß√£o",
            "example": "PIX",
            "enum": [
              "FEES",
              "PIX",
              "TED",
              "BILLET",
              "P2P",
              "OTHERS"
            ]
          },
          "modality": {
            "type": "string",
            "description": "Modalidade da transfer√™ncia",
            "example": "IN",
            "enum": [
              "IN",
              "OUT"
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Data e hora de cria√ß√£o da transfer√™ncia",
            "example": "2025-08-20T23:08:23.000Z"
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o detalhada da movimenta√ß√£o",
            "example": "TRANSFER√äNCIA PIX"
          },
          "gateway_key": {
            "type": "string",
            "description": "Chave identificadora da transfer√™ncia no gateway",
            "example": "42cfba69-49c6-41db-890f-75e888093e7e"
          },
          "amount": {
            "type": "number",
            "description": "Valor da transfer√™ncia em centavos",
            "example": 5000000
          },
          "status": {
            "type": "string",
            "description": "Status atual da transfer√™ncia",
            "example": "Saldo Liberado"
          },
          "additionalInformation": {
            "description": "Informa√ß√µes adicionais sobre saldo anterior e atual",
            "allOf": [
              {
                "$ref": "#/components/schemas/AdditionalInformationDto"
              }
            ]
          }
        },
        "required": [
          "type",
          "modality",
          "created_at",
          "description",
          "gateway_key",
          "amount",
          "status",
          "additionalInformation"
        ]
      },
      "ListExtractResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total de registros encontrados",
            "example": 2
          },
          "perPage": {
            "type": "number",
            "description": "Quantidade de registros por p√°gina",
            "example": 200
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual retornada",
            "example": 1
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina dispon√≠vel",
            "example": 1
          },
          "data": {
            "description": "Lista de movimenta√ß√µes do extrato",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtractEntryDto"
            }
          }
        },
        "required": [
          "total",
          "perPage",
          "page",
          "lastPage",
          "data"
        ]
      },
      "EntityInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID da entidade",
            "example": 155085
          },
          "first_name": {
            "type": "string",
            "description": "Primeiro nome",
            "example": "EC Cobran√ßas"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome",
            "example": null,
            "nullable": true
          },
          "document": {
            "type": "string",
            "description": "Documento (CPF/CNPJ)",
            "example": "10068114001"
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name",
          "document"
        ]
      },
      "AccountDto": {
        "type": "object",
        "properties": {
          "account_number": {
            "type": "string",
            "description": "N√∫mero da conta",
            "example": "300543394162"
          },
          "account_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da conta",
            "example": "8"
          },
          "establishment": {
            "description": "Informa√ß√µes do estabelecimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/EntityInfoDto"
              }
            ]
          },
          "marketplace": {
            "description": "Informa√ß√µes do marketplace",
            "allOf": [
              {
                "$ref": "#/components/schemas/EntityInfoDto"
              }
            ]
          },
          "representative": {
            "description": "Informa√ß√µes do representante",
            "allOf": [
              {
                "$ref": "#/components/schemas/EntityInfoDto"
              }
            ]
          },
          "type": {
            "type": "string",
            "description": "Tipo da conta",
            "example": "CHECKING",
            "enum": [
              "SAVING",
              "CHECKING",
              "PAYMENT"
            ]
          },
          "document": {
            "type": "string",
            "description": "Documento da conta",
            "example": "10068114001"
          },
          "bank_code": {
            "type": "string",
            "description": "C√≥digo do banco",
            "example": "033"
          },
          "bank_ispb": {
            "type": "string",
            "description": "ISPB do banco",
            "example": "60701190"
          },
          "bank_name": {
            "type": "string",
            "description": "Nome do banco",
            "example": "Banco Santander"
          },
          "routing_number": {
            "type": "string",
            "description": "N√∫mero da ag√™ncia",
            "example": "0001"
          },
          "routing_check_digit": {
            "type": "string",
            "description": "D√≠gito verificador da ag√™ncia",
            "example": "0"
          },
          "pix_key": {
            "type": "string",
            "description": "Chave PIX",
            "example": "email@example.com"
          }
        },
        "required": [
          "account_number",
          "account_check_digit",
          "establishment",
          "marketplace",
          "type"
        ]
      },
      "UserInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID do usu√°rio",
            "example": 187
          },
          "first_name": {
            "type": "string",
            "description": "Primeiro nome do usu√°rio",
            "example": "EC - API Integra√ß√µes"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome do usu√°rio",
            "example": null,
            "nullable": true
          },
          "profile_id": {
            "type": "number",
            "description": "ID do perfil do usu√°rio",
            "example": 1
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name",
          "profile_id"
        ]
      },
      "TransferDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID da transfer√™ncia",
            "example": "68a65eba69af539aa8ac9faf"
          },
          "type": {
            "type": "string",
            "description": "Tipo da transfer√™ncia",
            "example": "P2P",
            "enum": [
              "TED",
              "P2P",
              "PIX",
              "WITHDRAW"
            ]
          },
          "status": {
            "type": "string",
            "description": "Status atual da transfer√™ncia",
            "example": "PENDING",
            "enum": [
              "CREATED",
              "PENDING",
              "PAID",
              "FAILED",
              "REFUNDED",
              "CANCELED",
              "PROCESSING"
            ]
          },
          "amount": {
            "type": "number",
            "description": "Valor transferido (em centavos)",
            "example": 50000
          },
          "recipient": {
            "description": "Dados da conta recebedora",
            "allOf": [
              {
                "$ref": "#/components/schemas/AccountDto"
              }
            ]
          },
          "payer": {
            "description": "Dados da conta pagadora",
            "allOf": [
              {
                "$ref": "#/components/schemas/AccountDto"
              }
            ]
          },
          "method": {
            "type": "string",
            "description": "Dire√ß√£o da transfer√™ncia",
            "example": "OUT",
            "enum": [
              "IN",
              "OUT"
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o da transfer√™ncia",
            "example": "2025-08-20T23:48:10.945Z"
          },
          "original_amount": {
            "type": "number",
            "description": "Valor original antes de descontos ou taxas",
            "example": 50000
          },
          "establishment_id": {
            "type": "string",
            "description": "ID do estabelecimento",
            "example": "155100"
          },
          "gateway_key": {
            "type": "string",
            "description": "C√≥digo do gateway",
            "example": "7ae2d5cc-478d-4b97-97e2-89810f22b33b"
          },
          "gateway_authorization": {
            "type": "string",
            "description": "C√≥digo de autoriza√ß√£o do gateway",
            "example": "CELCOIN"
          },
          "expected_at": {
            "type": "string",
            "description": "Data prevista para conclus√£o",
            "example": "2025-08-20T23:48:10.927Z"
          },
          "history": {
            "description": "Hist√≥rico de status da transfer√™ncia",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransferHistoryDto"
            }
          },
          "pixKey": {
            "type": "string",
            "description": "Chave Pix utilizada",
            "example": "email@example.com"
          },
          "end_to_end": {
            "type": "string",
            "description": "Identificador √∫nico da transa√ß√£o Pix (end-to-end)",
            "example": "E3277444820250820234810927"
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o da transfer√™ncia",
            "example": "TRANSFER√äNCIA P2P"
          },
          "reprocessed": {
            "type": "boolean",
            "description": "Indica se a transfer√™ncia foi reprocessada",
            "example": false
          },
          "updated_at": {
            "type": "string",
            "description": "Data da √∫ltima atualiza√ß√£o",
            "example": "2025-08-20T23:48:10.945Z"
          },
          "fees": {
            "type": "number",
            "description": "Valor total de taxas (em centavos)",
            "example": 0
          },
          "user": {
            "description": "Dados do usu√°rio que originou a transfer√™ncia",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserInfoDto"
              }
            ]
          }
        },
        "required": [
          "_id",
          "type",
          "status",
          "amount",
          "recipient",
          "payer",
          "method",
          "created_at"
        ]
      },
      "ListTransfersResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "N√∫mero total de registros",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "N√∫mero de registros por p√°gina",
            "example": 20
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "lastPage": {
            "type": "number",
            "description": "Total de p√°ginas",
            "example": 1
          },
          "data": {
            "description": "Lista de transfer√™ncias",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransferDto"
            }
          }
        },
        "required": [
          "total",
          "perPage",
          "page",
          "lastPage",
          "data"
        ]
      },
      "TransferDetailDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID da transfer√™ncia",
            "example": "68a65eba69af539aa8ac9faf"
          },
          "type": {
            "type": "string",
            "description": "Tipo da transfer√™ncia",
            "example": "P2P",
            "enum": [
              "TED",
              "P2P",
              "PIX",
              "WITHDRAW"
            ]
          },
          "status": {
            "type": "string",
            "description": "Status atual da transfer√™ncia",
            "example": "PENDING",
            "enum": [
              "CREATED",
              "PENDING",
              "PAID",
              "FAILED",
              "REFUNDED",
              "CANCELED",
              "PROCESSING"
            ]
          },
          "amount": {
            "type": "number",
            "description": "Valor transferido (em centavos)",
            "example": 50000
          },
          "recipient": {
            "description": "Dados da conta recebedora",
            "allOf": [
              {
                "$ref": "#/components/schemas/AccountDto"
              }
            ]
          },
          "payer": {
            "description": "Dados da conta pagadora",
            "allOf": [
              {
                "$ref": "#/components/schemas/AccountDto"
              }
            ]
          },
          "method": {
            "type": "string",
            "description": "Dire√ß√£o da transfer√™ncia",
            "example": "OUT",
            "enum": [
              "IN",
              "OUT"
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o da transfer√™ncia",
            "example": "2025-08-20T23:48:10.945Z"
          },
          "original_amount": {
            "type": "number",
            "description": "Valor original antes de descontos ou taxas",
            "example": 50000
          },
          "establishment_id": {
            "type": "string",
            "description": "ID do estabelecimento",
            "example": "155100"
          },
          "gateway_key": {
            "type": "string",
            "description": "C√≥digo do gateway",
            "example": "7ae2d5cc-478d-4b97-97e2-89810f22b33b"
          },
          "gateway_authorization": {
            "type": "string",
            "description": "C√≥digo de autoriza√ß√£o do gateway",
            "example": "CELCOIN"
          },
          "expected_at": {
            "type": "string",
            "description": "Data prevista para conclus√£o",
            "example": "2025-08-20T23:48:10.927Z"
          },
          "history": {
            "description": "Hist√≥rico de status da transfer√™ncia",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransferHistoryDto"
            }
          },
          "pixKey": {
            "type": "string",
            "description": "Chave Pix utilizada",
            "example": "email@example.com"
          },
          "end_to_end": {
            "type": "string",
            "description": "Identificador √∫nico da transa√ß√£o Pix (end-to-end)",
            "example": "E3277444820250820234810927"
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o da transfer√™ncia",
            "example": "TRANSFER√äNCIA P2P"
          },
          "reprocessed": {
            "type": "boolean",
            "description": "Indica se a transfer√™ncia foi reprocessada",
            "example": false
          },
          "updated_at": {
            "type": "string",
            "description": "Data da √∫ltima atualiza√ß√£o",
            "example": "2025-08-20T23:48:10.945Z"
          },
          "fees": {
            "type": "number",
            "description": "Valor total de taxas (em centavos)",
            "example": 0
          },
          "user": {
            "description": "Dados do usu√°rio que originou a transfer√™ncia",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserInfoDto"
              }
            ]
          },
          "__v": {
            "type": "number",
            "description": "Vers√£o do documento (MongoDB)",
            "example": 0
          }
        },
        "required": [
          "_id",
          "type",
          "status",
          "amount",
          "recipient",
          "payer",
          "method",
          "created_at",
          "__v"
        ]
      },
      "WebhookReceiveDto": {
        "type": "object",
        "properties": {
          "event": {
            "type": "string",
            "description": "Tipo do evento disparado",
            "example": "updated-sub-transaction"
          },
          "data": {
            "type": "object",
            "description": "Dados do evento (estrutura varia conforme o tipo)",
            "example": {
              "_id": "681259d37903c84441e0e85a",
              "status": "PAID",
              "amount": 1005,
              "type": "CREDIT"
            }
          },
          "timestamp": {
            "type": "string",
            "description": "Timestamp do evento",
            "example": "2025-04-30T17:11:47.341Z"
          }
        },
        "required": [
          "event",
          "data"
        ]
      },
      "WebhookReceiveResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o",
            "example": "Webhook recebido com sucesso"
          },
          "eventId": {
            "type": "string",
            "description": "ID do evento processado",
            "example": "681259d37903c84441e0e85a"
          },
          "processedAt": {
            "type": "string",
            "description": "Timestamp do processamento",
            "example": "2025-04-30T17:11:47.341Z"
          }
        },
        "required": [
          "message",
          "processedAt"
        ]
      },
      "WebhookEventDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Identificador √∫nico do evento webhook",
            "example": 5
          },
          "name": {
            "type": "string",
            "description": "Nome do evento",
            "example": "new-sub-transaction",
            "enum": [
              "new-billet",
              "updated-billet-status",
              "new-sub-split",
              "canceled-sub-split",
              "new-establishment",
              "updated-establishment-status",
              "updated-establishment-gateway",
              "updated-establishment-data",
              "new-sub-transaction",
              "updated-sub-transaction",
              "new-pagseguro-transaction",
              "updated-pagseguro-transaction",
              "new-zoop-transaction",
              "updated-zoop-transaction"
            ]
          },
          "description": {
            "type": "string",
            "description": "Descri√ß√£o do evento",
            "example": "Nova transa√ß√£o Sub."
          },
          "active": {
            "type": "boolean",
            "description": "Indica se o evento webhook est√° ativo",
            "example": true
          },
          "url": {
            "type": "string",
            "description": "URL configurada para recebimento do payload do webhook",
            "example": "https://meusistema.com.br/webhook-receiver"
          },
          "basic_user": {
            "type": "string",
            "description": "Usu√°rio utilizado para autentica√ß√£o b√°sica (HTTP Basic Auth)",
            "example": null,
            "nullable": true
          },
          "basic_pass": {
            "type": "string",
            "description": "Senha utilizada para autentica√ß√£o b√°sica",
            "example": null,
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o do webhook",
            "example": "2025-09-15T20:01:46.000Z"
          },
          "updated_at": {
            "type": "string",
            "description": "Data da √∫ltima atualiza√ß√£o",
            "example": "2025-09-15T20:01:46.000Z"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "active",
          "url",
          "basic_user",
          "basic_pass",
          "created_at",
          "updated_at"
        ]
      },
      "ListWebhookEventsResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "N√∫mero total de registros encontrados",
            "example": 1
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual retornada",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "Quantidade de registros retornados por p√°gina",
            "example": 20
          },
          "lastPage": {
            "type": "number",
            "description": "N√∫mero total de p√°ginas",
            "example": 1
          },
          "data": {
            "description": "Lista de eventos de webhook",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WebhookEventDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      },
      "WebhookEventConfigDto": {
        "type": "object",
        "properties": {
          "event_id": {
            "type": "number",
            "description": "ID do evento a ser associado ao webhook",
            "example": 1
          },
          "active": {
            "type": "boolean",
            "description": "Indica se o webhook est√° ativo",
            "example": true
          },
          "url": {
            "type": "string",
            "description": "URL de recebimento do webhook (obrigat√≥ria quando active = true)",
            "example": "https://meusistema.com.br/webhook-receiver"
          },
          "basic_user": {
            "type": "string",
            "description": "Usu√°rio para autentica√ß√£o b√°sica HTTP",
            "example": "usuario_webhook"
          },
          "basic_pass": {
            "type": "string",
            "description": "Senha para autentica√ß√£o b√°sica HTTP",
            "example": "senha_segura"
          }
        },
        "required": [
          "event_id",
          "active"
        ]
      },
      "RegisterWebhookEventDto": {
        "type": "object",
        "properties": {
          "events": {
            "description": "Lista de eventos webhook a serem registrados ou atualizados",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WebhookEventConfigDto"
            }
          }
        },
        "required": [
          "events"
        ]
      },
      "RegisterWebhookEventsResponseDto": {
        "type": "object",
        "properties": {
          "events": {
            "description": "Lista de eventos registrados",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WebhookEventDto"
            }
          }
        },
        "required": [
          "events"
        ]
      },
      "ResendWebhookDto": {
        "type": "object",
        "properties": {
          "event": {
            "type": "string",
            "description": "Evento do webhook que ser√° redisparado",
            "example": "new-sub-transaction",
            "enum": [
              "new-sub-transaction",
              "updated-sub-transaction",
              "new-zoop-transaction",
              "updated-zoop-transaction",
              "new-pagseguro-transaction",
              "updated-pagseguro-transaction",
              "new-establishment",
              "updated-establishment-status",
              "updated-establishment-data",
              "new-billet",
              "updated-billet-status",
              "updated-establishment-gateway",
              "new-sub-split",
              "canceled-sub-split"
            ]
          },
          "id": {
            "type": "object",
            "description": "Identificador da entidade relacionada ao evento (quando aplic√°vel)",
            "example": "507f191e810c19729de860ea"
          }
        },
        "required": [
          "event"
        ]
      },
      "ResendWebhookResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o",
            "example": "Solicita√ß√£o de webhook realizada com sucesso. Para garantir o recebimento, verifique se o evento est√° ativo e se a url foi configurada corretamente."
          }
        },
        "required": [
          "message"
        ]
      },
      "RemoveWebhookEventResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Mensagem de confirma√ß√£o",
            "example": "Evento de webhook exclu√≠do."
          }
        },
        "required": [
          "message"
        ]
      },
      "ActivityDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Identificador √∫nico da atividade econ√¥mica",
            "example": 685
          },
          "name": {
            "type": "string",
            "description": "Nome da atividade econ√¥mica",
            "example": "Com√©rcio varejista de mercadorias em geral"
          },
          "code": {
            "type": "string",
            "description": "C√≥digo CNAE da atividade",
            "example": "4763601"
          },
          "createdAt": {
            "type": "string",
            "description": "Data de cria√ß√£o do registro",
            "example": "2025-01-16T04:37:36.000Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Data da √∫ltima atualiza√ß√£o",
            "example": "2025-01-16T04:37:36.000Z"
          }
        },
        "required": [
          "id",
          "name",
          "code",
          "createdAt",
          "updatedAt"
        ]
      },
      "ListActivitiesResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Quantidade total de atividades encontradas",
            "example": 685
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "Quantidade de registros por p√°gina",
            "example": 20
          },
          "lastPage": {
            "type": "number",
            "description": "N√∫mero da √∫ltima p√°gina dispon√≠vel",
            "example": 35
          },
          "data": {
            "description": "Lista de atividades econ√¥micas",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActivityDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      },
      "ListBilletsResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total de registros",
            "example": 1
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "limit": {
            "type": "number",
            "description": "Registros por p√°gina",
            "example": 20
          },
          "data": {
            "description": "Lista de boletos",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BilletResponseDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "limit",
          "data"
        ]
      },
      "RechargeBilletDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Valor da recarga em centavos (m√≠nimo R$ 10,00)",
            "example": 1000,
            "minimum": 1000
          }
        },
        "required": [
          "amount"
        ]
      },
      "PaymentDetailsDto": {
        "type": "object",
        "properties": {
          "balance": {
            "type": "number",
            "description": "Valor pago com saldo",
            "example": 150000
          },
          "card": {
            "type": "number",
            "description": "Valor pago com cart√£o",
            "example": 0
          },
          "total": {
            "type": "number",
            "description": "Valor total",
            "example": 150000
          },
          "fees": {
            "type": "number",
            "description": "Taxas aplicadas",
            "example": 0
          }
        },
        "required": [
          "balance",
          "card",
          "total",
          "fees"
        ]
      },
      "PaymentEstablishmentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID",
            "example": 155100
          },
          "type": {
            "type": "string",
            "description": "Tipo",
            "example": "BUSINESS",
            "enum": [
              "INDIVIDUAL",
              "BUSINESS"
            ]
          },
          "access_type": {
            "type": "string",
            "description": "Tipo de acesso",
            "example": "ACQUIRER"
          },
          "active": {
            "type": "number",
            "description": "Ativo",
            "example": 1
          },
          "first_name": {
            "type": "string",
            "description": "Nome/Raz√£o Social",
            "example": "Teste Sandbox"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome/Nome Fantasia",
            "example": "Solucoes"
          },
          "document": {
            "type": "string",
            "description": "CPF/CNPJ",
            "example": "11299221000129"
          }
        },
        "required": [
          "id",
          "type",
          "access_type",
          "active",
          "first_name",
          "last_name",
          "document"
        ]
      },
      "PaymentMarketplaceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID",
            "example": 26
          },
          "type": {
            "type": "string",
            "description": "Tipo",
            "example": "LICENSED",
            "enum": [
              "WHITELABEL",
              "LICENSED",
              "REPRESENTATIVE"
            ]
          },
          "nickname": {
            "type": "string",
            "description": "Apelido",
            "example": "Parceiro Integra√ß√µes"
          },
          "active": {
            "type": "number",
            "description": "Ativo",
            "example": 1
          },
          "first_name": {
            "type": "string",
            "description": "Nome",
            "example": "Webhooks Integra√ß√µes"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome",
            "example": "API Integra√ß√µes"
          },
          "document": {
            "type": "string",
            "description": "Documento",
            "example": "60274849000185"
          }
        },
        "required": [
          "id",
          "type",
          "nickname",
          "active",
          "first_name",
          "last_name",
          "document"
        ]
      },
      "PaymentRecipientDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nome",
            "example": "BENEFICIARIO AMBIENTE HOMOLOGACAO"
          },
          "document": {
            "type": "string",
            "description": "Documento",
            "example": "87754347000108"
          },
          "_id": {
            "type": "string",
            "description": "ID interno",
            "example": "68fa6717335fe7e377c83323"
          }
        },
        "required": [
          "name",
          "document",
          "_id"
        ]
      },
      "PaymentBilletDetailsDto": {
        "type": "object",
        "properties": {
          "installments_paid": {
            "type": "number",
            "description": "Parcelas pagas",
            "example": 0
          },
          "total_amount_paid": {
            "type": "number",
            "description": "Valor total pago",
            "example": 0
          },
          "document_final_recipient": {
            "type": "string",
            "description": "Documento do destinat√°rio final",
            "example": null,
            "nullable": true
          },
          "final_recipient": {
            "type": "string",
            "description": "Destinat√°rio final",
            "example": null,
            "nullable": true
          },
          "billet_type": {
            "type": "string",
            "description": "Tipo do boleto",
            "example": "Boleto de Dep√≥sito e Aporte"
          },
          "_id": {
            "type": "string",
            "description": "ID interno",
            "example": "68fa6717335fe7e377c83324"
          }
        },
        "required": [
          "installments_paid",
          "total_amount_paid",
          "document_final_recipient",
          "final_recipient",
          "billet_type",
          "_id"
        ]
      },
      "PaymentUserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "ID",
            "example": 187
          },
          "first_name": {
            "type": "string",
            "description": "Nome",
            "example": "EC - API Integra√ß√µes"
          },
          "last_name": {
            "type": "string",
            "description": "Sobrenome",
            "example": null,
            "nullable": true
          },
          "profile_id": {
            "type": "number",
            "description": "Perfil",
            "example": 1
          }
        },
        "required": [
          "id",
          "first_name",
          "last_name",
          "profile_id"
        ]
      },
      "PaymentHistoryDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Status",
            "example": "CREATED"
          },
          "created_at": {
            "type": "string",
            "description": "Data",
            "example": "2025-10-23T17:34:15.551Z"
          },
          "_id": {
            "type": "string",
            "description": "ID interno",
            "example": "68fa6717335fe7e377c83325"
          }
        },
        "required": [
          "status",
          "created_at",
          "_id"
        ]
      },
      "PaymentResponseDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID do pagamento",
            "example": "68fa6717335fe7e377c83322"
          },
          "status": {
            "type": "string",
            "description": "Status do pagamento",
            "example": "PROCESSING",
            "enum": [
              "PROCESSING",
              "PENDING",
              "PAID",
              "REFUNDED",
              "CANCELED",
              "FAILED"
            ]
          },
          "expected_on": {
            "type": "string",
            "description": "Data prevista",
            "example": "2025-10-23T12:00:00.000Z"
          },
          "amount": {
            "type": "number",
            "description": "Valor em centavos",
            "example": 150000
          },
          "payment_details": {
            "description": "Detalhes do pagamento",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentDetailsDto"
              }
            ]
          },
          "establishment": {
            "description": "Estabelecimento",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentEstablishmentDto"
              }
            ]
          },
          "marketplace": {
            "description": "Marketplace",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentMarketplaceDto"
              }
            ]
          },
          "created_at": {
            "type": "string",
            "description": "Data de cria√ß√£o",
            "example": "2025-10-23T17:34:15.554Z"
          },
          "type": {
            "type": "string",
            "description": "Tipo",
            "example": "BALANCE"
          },
          "barcode": {
            "type": "string",
            "description": "C√≥digo de barras",
            "example": "23793381286008301352856000063307789840000150000"
          },
          "digitable_line": {
            "type": "string",
            "description": "Linha digit√°vel"
          },
          "nominal_amount": {
            "type": "number",
            "description": "Valor nominal"
          },
          "discount": {
            "type": "number",
            "description": "Desconto"
          },
          "fine": {
            "type": "number",
            "description": "Multa"
          },
          "interest": {
            "type": "number",
            "description": "Juros"
          },
          "gateway_key": {
            "type": "string",
            "description": "Chave do gateway"
          },
          "document_number": {
            "type": "string",
            "description": "N√∫mero do documento"
          },
          "gateway_authorization": {
            "type": "string",
            "description": "Gateway"
          },
          "recipient": {
            "description": "Benefici√°rio",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentRecipientDto"
              }
            ]
          },
          "billet_details": {
            "description": "Detalhes do boleto",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentBilletDetailsDto"
              }
            ]
          },
          "establishment_id": {
            "type": "string",
            "description": "ID do estabelecimento"
          },
          "user": {
            "description": "Usu√°rio",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentUserDto"
              }
            ]
          },
          "history": {
            "description": "Hist√≥rico",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentHistoryDto"
            }
          },
          "updated_at": {
            "type": "string",
            "description": "Data de atualiza√ß√£o"
          },
          "payment_date": {
            "type": "string",
            "description": "Data do pagamento"
          }
        },
        "required": [
          "_id",
          "status",
          "expected_on",
          "amount",
          "payment_details",
          "establishment",
          "marketplace",
          "created_at"
        ]
      },
      "ListPaymentsResponseDto": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "Total de registros",
            "example": 1
          },
          "page": {
            "type": "number",
            "description": "P√°gina atual",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "Registros por p√°gina",
            "example": 20
          },
          "lastPage": {
            "type": "number",
            "description": "√öltima p√°gina",
            "example": 1
          },
          "data": {
            "description": "Lista de pagamentos",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentResponseDto"
            }
          }
        },
        "required": [
          "total",
          "page",
          "perPage",
          "lastPage",
          "data"
        ]
      }
    }
  }
}